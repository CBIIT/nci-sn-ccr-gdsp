<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2018-07-16 21:38:09">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>CCR_GDS_Patch_1_20180611</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>4e97d843db2e1f0054d8ff621f9619fb</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>e5f9c652dbd7570054d8ff621f961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_d79f1816dbd84f00f59974131f96190a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http) {
	$('[data-toggle="popover"]').popover();   
  var c = this;
	var sessionId = c.data.info.sessionId;
	c.data.info.sdList.unshift({
		value: 'NONE',
		label: 'Please select a scientific director'
	});
  /* widget controller */
  $scope.closeICModal = function(){
	  $('#displayICRequests').modal('hide');
  }
	
	$scope.loadICApprovalConfirm = function(){
		$('#messageGPAICApproval').html('Are you sure you want to approve this request?');
		$('#confirmGPAApprovalICDiv').modal('show'); 
		$('#btnYesGPAApprovalICConfirm').off('click').click(function() {
			$('#confirmGPAApprovalICDiv').modal('hide');
			var role = $('#roleId').val();
			if( role == 'GPA'){
				if(!approvalValidation()){
					$('#gpaICErrorMessage').html('');
					$('#gpaICErrorMessage').hide();
					submitRequestApproval('approved', 'GPA');	
				}
			}else if(role == 'SD'){
				submitRequestApproval('approved', 'SD');
			}
	});
		$('#btnNoGPAApprovalICConfirm').off('click').click(function() {
			$('#confirmGPAApprovalICDiv').modal('hide');
		});		
	}
	
	$scope.loadICRejectConfirm = function(){
		$('#messageGPAICReject').html('Are you sure you want to reject this request?');
		$('#confirmGPARejectICDiv').modal('show');	
		$('#btnYesGPARejectICConfirm').off('click').click(function() {
			var role = $('#roleId').val();
			if(role == 'GPA'){
					submitRequestApproval('rejected', 'GPA');	
			}else if(role == 'SD' ){
				  submitRequestApproval('rejected', 'SD');	
			}
			$('#confirmGPARejectICDiv').modal('hide');
		});
		$('#btnNoGPARejectICConfirm').off('click').click(function() {
			$('#confirmGPARejectICDiv').modal('hide');
		});			
	}
	function approvalValidation(){
		var sdSelected = $('#selectICSD').val();
		if(sdSelected == 'NONE'){
			$('#gpaICErrorMessage').html('&lt;font size="2" color="red"&gt;&lt;ul&gt;&lt;li&gt;Please select a Scientific Director&lt;/li&gt;&lt;/ul&gt;&lt;/font&gt;');
			$('#gpaICErrorMessage').show();
			return true;
		}else{
			return false;
		}
	}
	function submitRequestApproval(action, role){
  //validate SD when approve the request
   var sdSelected = $('#selectICSD').val();	
   var request_id = $('#hiddenRequestId').val();
   var comments = $('#commentICId1').val();
   var stage = $('#hiddenStage').val();
   var variables= {};
   variables.requested_id = request_id;
   variables.requestedItem_id = $('#hiddenRequestItemId').val();
   variables.approval_comment = comments;
   variables.action = action;
   variables.role = role;
   variables.sd_id = sdSelected;
   var request = {
		 url: '/api/naci/gdspapi/updateGDSPRequest',
		 method : "POST",
		 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
		 headers: {
				'Content-Type': 'application/json'
			},
		 data : variables
	 }
	 $http(request).then(handleResponse, handleError);
	 function handleResponse(response){
			var result = response.data.result;
		  console.log(result.status);
		}
	  function handleError(){
			console.error(response);
			alert('ERROR');
		}
    $('#displayICRequests').modal('hide');		
	}
	
	$scope.rejectICConfirm = function (){
		$('#messageSignICReject').html('Are you sure you want to Reject this request?');
		$('#confirmSignRejectICDiv').modal('show'); 
		$('#btnYesSignRejectICConfirm').off('click').click(function() {
			$('#confirmSignRejectICDiv').modal('hide');
      submitSignApproval("rejected", "PI");     
	});
		$('#btnNoSignRejectICConfirm').off('click').click(function() {
			$('#confirmSignRejectICDiv').modal('hide');
		});				
	}
	
	$scope.signICConfirm = function (){
		$('#messageSignIC').html('Are you sure you want to Approve this request?');
		$('#confirmSignICDiv').modal('show'); 
		$('#btnYesSignICConfirm').off('click').click(function() {
			$('#confirmSignICDiv').modal('hide');
	    var comments = $('#commentICId1').val();
      submitSignApproval("approved", "PI");			
	});
		$('#btnNoSignICConfirm').off('click').click(function() {
			$('#confirmSignICDiv').modal('hide');
		});				
	}

	function submitSignApproval(action, role){
  //validate SD when approve the request
   var comments = $('#commentICId1').val();
   //var stage = $('#hiddenStage').val();
   var variables= {};
   variables.requested_id =  $('#hiddenApprovalId').val();
   variables.requestedItem_id = $('#hiddenRequestId').val();
   variables.approval_comment = comments;
   variables.action = action;
   variables.role = role;
   variables.sd_id = 'signed';
   var request = {
		 url: '/api/naci/gdspapi/updateGDSPRequest',
		 method : "POST",
		 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
		 headers: {
				'Content-Type': 'application/json'
			},
		 data : variables
	 }
	 $http(request).then(handleResponse, handleError);
	 function handleResponse(response){
			var result = response.data.result;
		  console.log(result.status);
		}
	  function handleError(){
			console.error(response);
			alert('ERROR');
		}
    $('#displayICRequests').modal('hide');		
	}	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.control-label {&amp;#13;
    text-align: right;&amp;#13;
    margin-bottom: 0;&amp;#13;
    padding-top: 0;&amp;#13;
}&amp;#13;
.modal-dialog1 {&amp;#13;
    width: 1000px;&amp;#13;
    margin: 30px auto;&amp;#13;
}&amp;#13;
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gfdd&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS  IC Form Data Display&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var sd_list = [];
	var getMembers = new GlideRecord('sys_user_grmember');
      getMembers.addQuery('group.name','CCR_SD');
      getMembers.query();
  while(getMembers.next())
  {
		 sd_list.push({
			 value: getMembers.user.toString(),
			 label: [getMembers.user.first_name, getMembers.user.last_name].join(' ')
		 });
  }	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		sdList: sd_list
	};

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-02 14:40:39&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;d79f1816dbd84f00f59974131f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;112&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS  IC Form Data Display&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_d79f1816dbd84f00f59974131f96190a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-11 14:33:04&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="displayICRequests" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;
  &lt;div class="modal-dialog1 modal-lg"&gt;
    &lt;div class="modal-content" id="ic_modal_content" style="height:900px; overflow-y:auto; overflow-x: hidden;"&gt;
      &lt;div class="modal-header"&gt;
		  &lt;button type="button" class="close btn btn-xs" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;x&lt;/span&gt;&lt;/button&gt;
           &lt;div&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Institutional Certification Submission&lt;/b&gt;&lt;/font&gt; &lt;br/&gt;
                  &lt;b&gt;IC Number - &lt;span id="displayICId"&gt;&lt;/span&gt;&lt;/b&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
         &lt;div id="gpaICErrorMessage" style="display:none;"&gt;&lt;/div&gt;
         &lt;div class="col-md-12"&gt;
  &lt;!-- start table --&gt;
         &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;IC Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
           	&lt;form class="form-horizontal"&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" for="certification_date1"&gt;Certification Date&lt;/label&gt;
                  &lt;div class="col-md-7" &gt;&lt;div id="certification_date1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group" id="insDiv"&gt;
                  &lt;label class="control-label col-md-5" for="institution_name1"&gt;Institution Name&lt;/label&gt;
                  &lt;div class="col-md-6" &gt;&lt;div id="institution_name1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;    				
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="certification_to1"&gt;GPA &lt;br/&gt;(Genomic Program Administrator)&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="certification_to1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;  
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'certification_from1"&gt;Signing Authority&lt;br/&gt;(Scientific Director)&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="certification_from1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;           
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'gpa_organization1"&gt;Organization of GPA&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="gpa_organization1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;           
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'sd_organization1"&gt;Organization of SD&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="sd_organization1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'study_name1"&gt;Original Study Name&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="study_name1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;              
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'project_title1"&gt;Project Title for Data to be submitted&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="project_title1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;              
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'dataAccessBox1"&gt;Data are made available through&lt;/label&gt;
                &lt;div class="col-md-3"&gt;
                  &lt;input type="radio" id="dataAccessBox1" name="dataAccessBox1" value="unrestricted" disabled&gt;&amp;nbsp;Unrestricted
                &lt;/div&gt;
                &lt;div class="col-md-3"&gt;
                	&lt;input type="radio" id="dataAccessBox1" name="dataAccessBox1" value="controlled-access" disabled&gt;&amp;nbsp;Controlled-access  
                &lt;/div&gt; 
              &lt;/div&gt;   
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="'displayBox1"&gt;Data is to upload&lt;/label&gt;
                &lt;div class="col-md-7"&gt;
                 &lt;input type="checkbox" id="displayBox1" disabled&gt;&amp;nbsp;The display of variant alleles  &lt;br&gt;
                 &lt;input type="checkbox" id="frequenceBox1" disabled&gt;&amp;nbsp;Frequencies from this study in public variation archives (dbSNP and dbVar) 
                &lt;/div&gt;
              &lt;/div&gt;
           &lt;/form&gt;
       	&lt;/fieldset&gt;           
         &lt;!-- GUI for Consent Group --&gt;
         &lt;input type="hidden" id="consent_group1"/&gt;
         &lt;div id='consentGrpDiv'&gt;  
           &lt;fieldset class="scheduler-border" &gt;
              &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Consent Group&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
              &lt;div id="consentContentDiv"&gt;&lt;/div&gt;
           &lt;/fieldset&gt;  
         &lt;/div&gt;  
           
        &lt;div id="pre_comments_ic_div" class="col-md-12" style="display:none;"&gt;
             &lt;fieldset class="scheduler-border"&gt;
                &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                &lt;div id="commentReviewICId1"&gt;&lt;/div&gt;
             &lt;/fieldset&gt;
        &lt;/div&gt;
        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
        &lt;div class="row form-group" id="sd_ic_div" style="display:none;"&gt;
             &lt;div class="col-md-3"&gt;
               	&lt;label class="form-label"&gt;Scientific Director&lt;/label&gt;
             &lt;/div&gt;
             &lt;div class="col-md-9"&gt;
               &lt;select class="form-control" id="selectICSD" width="100px"&gt;
                   &lt;option ng-repeat="sd in c.data.info.sdList" value="{{sd.value}}"&gt;{{sd.label}}&lt;/option&gt;
               &lt;/select&gt;
             &lt;/div&gt;
           &lt;/div&gt; 
           
           &lt;div id="comments_ic_div" class="row form-group" style="display:none;"&gt;
           		&lt;br&gt;
         	 	  &lt;div class="col-md-3" id="commentId1ICLable"&gt;
                &lt;label for="commentICId1" class="form-label"&gt;Comments&lt;/label&gt;
             &lt;/div&gt;
              &lt;div class="col-md-9" style="valign:top; align:left;"&gt;
                	&lt;textarea id="commentICId1" rows="5" class="form-control"&gt;&lt;/textarea&gt;
             &lt;/div&gt;
           &lt;/div&gt;
           &lt;div class="clearfix"&gt;  
              &lt;div id="closeButton1" class="pull-right"&gt;&lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="closeICModal()" value="CLOSE"/&gt; &lt;/div&gt;
          	  &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;div id="signButton1" class="pull-right" style="display:none"&gt;
                    &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="rejectICConfirm()" value="REJECT"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; 
                    &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="signICConfirm()" value="SIGN"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; 
                    &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="closeICModal()" value="CLOSE"/&gt;
                &lt;/div&gt;
              &lt;/div&gt;
               &lt;div class="col-md-7 align-checkboxes"&gt;
                 &lt;div id="submitButton1" class="pull-right"&gt; &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="loadICApprovalConfirm()" value="APPROVE"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="loadICRejectConfirm()" value="REJECT"/&gt;&amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="closeICModal()" value="CLOSE"/&gt;&lt;/div&gt;          
              &lt;/div&gt;
             &lt;br/&gt; &lt;br/&gt; &lt;br/&gt;
       &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
  
  &lt;div id="confirmGPAApprovalICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAICApproval"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPAApprovalICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPAApprovalICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;

  &lt;div id="confirmGPARejectICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAICReject"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPARejectICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPARejectICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="confirmSignRejectICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageSignICReject"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesSignRejectICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoSignRejectICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="confirmSignICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageSignIC"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesSignICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoSignICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;    
&lt;input type="hidden" id="hiddenRequestId" /&gt;
&lt;input type="hidden" id="hiddenRequestItemId" /&gt;
&lt;input type="hidden" id="hiddenStage"/&gt;
&lt;input type="hidden" id="resubmitCommentsId"/&gt;
&lt;input type="hidden" id="withdrawCommentsId"/&gt;
&lt;input type="hidden" id="withdrawSubmitId"/&gt;
&lt;input type="hidden" id="roleId"/&gt;  
&lt;input type="hidden" id="hiddenApprovalId"/&gt;    
&lt;/div&gt;  
  
  ]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1798596655</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>21f9c652dbd7570054d8ff621f961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>163ef43bd5b0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS  IC Form Data Display</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>a1091c83702e1f00ffe0eaa6658ddc8e</update_guid>
<update_guid_history>a1091c83702e1f00ffe0eaa6658ddc8e:1798596655,5fc95332adc59b0004c91650d89ee257:1225245883,9ab993fe31859b00d2a8d9d28c929aef:-1337939485,c5b9dbbe53859b00e8ecd905155aa9ef:1853186553,f8991ffeb9859b003dbc9d85dada937a:1225245883,70691bbe28859b00a8285ceb24bd6c28:208544285,0e295fbebd859b0045f3f610e9822af7:1378988797,d40993fe5c859b002f5d9b231e99f5a7:1234021451,38e8dbbef3859b0083d573f39195b22e:-1763037115,b5da9ca6afa74300feabf6683f9c2653:1225245883,001c417901a7cf00b162fe36b60d53af:827359211,b32fedc259624700ee597ae2722aeb50:102245687,5bd3618a1e224700489cb95ad0eea0df:-916173605,d0ee498a1eee07005b88901928ee95d8:-787399717,81ae0d4e66ee070090284ef2294abee1:101296947,9ced054e53ee0700aa5cfc2d1849c118:1280827072,fa9dc18a79ee07009e6b1a55cb02c43e:-1368412740,88bb458aebee07002a36677e8aa3ecab:-1477270643,131b498a1eee0700def14080ed1f1acf:-665896098,321ac94a93ee07000af9962d792c0d8a:-1325465134,dd39814a96ee0700a2ca79412f23bf98:545120390,57e84d0ae6ee070011571e78594c1899:1378755556,b27841c666ee070006b87b8317232f8b:-1350107323,be6885026dee070008ce00cc25bfcc4d:694693761,ca48c10a63ee0700d82ac3474ac11494:505267075,a538810a72ee0700d78db2d15498f2e5:-1040084958,f718010a1eee07007f282d99036ffce0:-1468894567,d4f70dc274ee07006608bf1bbd212b32:1510324797,d9d789c648ee0700935c23efe4d15e11:695888984,a3b749cee9ae0700e8fea43c7ca78ec7:984165625,0597c5c622ee070005cd9b61ccb90161:695888984,b76545ce95ae07009fde53515cfdfc03:-1956103988,3d4589061cee0700494030b1e2a457bb:209351098,49354d027cee07003eddfbf2f13f728a:1371507783,3984c106ffee07006f3b807dd0eef4a5:-1568288083,4314494ec4ae07007085e5192798eb6e:-1913841779,1bc8e08265ae07006297243a3d8a0772:-2074400507,a8b8204282ae07008257c5115fec5e3a:-566258784,0198640219ae0700b8d0864ddaebfca1:1921299215,ccb4a4caff6e07005fd6c11b9221aa38:760426410,91f3608a6f6e07009e5183def7422cba:100419701,9c609cc6232e070033f4fb14b62850af:-1449334031,d720100a6d2e07008cbcba73cc280edb:606406134,e3ade879c4e20700f571906047cac301:-978272376,83caa87d5de20700b3c725164459cbff:-2049602818,2a18979f13de8300cb27c7d731fcf615:-2111036135,2a18979f13de8300cb27c7d731fcf615:-2111036135,2a18979f13de8300cb27c7d731fcf615:-2111036135</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_63fc8cdcdb284340f59974131f9619d3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil, $window) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	}; 
	c.state = $window.state;
	c.columns = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Project Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalICTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedICTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};
	//start client JS 
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'sampleTime', 'sampleConsent'];
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var sd = c.data.info.sd;
	
	c.viewSDIC = function(doc_id, sys_id, state, stage, ticket_id){
		//alert(doc_id + ":" + sys_id +":" + stage + ":" + stage);
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	
	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;
	
	c.reportSDIC = function(sys_id, ic_id, flag){
			$('#refresh').val('0');
			$('#loading').show();
		  var req_id = sys_id;
		  var fileName = '';
		  if(flag == 'pi'){
				fileName = ic_id+"_pi.pdf";
			}
			if(flag == 'sd'){
				fileName = ic_id+"_sd.pdf";
			}
			initialTime = new Date();
			documentInterval = setInterval(function() {
			 getDocument(req_id, fileName);
			}, 5000);		
	}
	function getDocument(req_id, fileName){
		  var req = {
					method: 'GET',
					url: '/api/naci/gds/getAttachmentFileID',
					beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				  params: {request_id: req_id, file_name: fileName}
			};
		  $http(req).then(handleResponse, handleError);
		  function handleResponse(response) {
					  if (new Date() - initialTime &gt; documentTimeout) {
							 window.clearInterval(documentInterval);
							 $('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
               $('#infoModal').modal('show');
               $('#btnOkConfirm').off('click').click(function() {
                   $('#infoModal').modal('hide');
               });
							return;
						}				
					var result = response.data.result;
					//hightlight right record
				  var id = result.file_id;
		      if(id != null &amp;&amp; id.trim().length &gt; 0){
						window.clearInterval(documentInterval);
				    window.location.href = '/sys_attachment.do?sys_id=' + id;
						setTimeout(function(){}, 3000);
						$('#loading').hide();
					}
			}
			function handleError(response) {
			  window.clearInterval(documentInterval);
			  $('#loading').hide();
				console.error(response);
					alert('ERROR');
			}
	}
	
function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
				var result = response.data.result;
			  var variables = result.variables;
			  var comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayICId').html(ticket_id);
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewICId1').empty();
				$('#commentReviewICId1').append(comment_str);

				$('#commentICId1').show();
				$('#commentICId1Lable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_ic_div').hide();
				 }else{
							 $('#pre_comments_ic_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('SD');
				$('#comments_ic_div').show();
				if(state == 'approved' || state.indexOf('not_required') &gt;=0){
					 $('#comments_ic_div').hide();
					 $('#submitButton1').hide();
					 $('#closeButton1').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gpa){
							$('#comments_ic_div').show();
							$('#sd_ic_div').show();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }else{
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }
				}else{
					 $('#comments_ic_div').show();
					 $('#submitButton1').show();
					 $('#closeButton1').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
				$('#displayICId').html(ticketN);		
			  $('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;');
			  loadConsentGroupData();
				if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
					$('#insDiv').show();
				}else{
					$('#insDiv').hide();
				}			
			  $('#displayICRequests').modal('show').on('shown.bs.modal', function(){$('#displayICRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
	
	function loadConsentGroupData(){
		var consentStr = $('#consent_group1').val();
	  if(consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0){
			$('#consentGrpDiv').hide();
		}else{
      getConsentGroups(consentStr);
		}
	}
	
	function getConsentGroups(consentStr){
		var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentGrp: consentStr}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
		  for(var i = 0; i &lt; result.length; i++){
				var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " ["+ result[i].data_field +"] ";
				}			  
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;"+result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier +"&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";
			  
			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	
    function clearDiv(){
		$('#comments_ic_div').hide();
		$('#sd_ic_div').hide();
		$('#submitButton1').hide();
		$('#closeButton1').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
	  for(key in data){
		  if(key == 'consent_group'){
			$('#'+key+"1").val(data[key]);   
		  }else{
			$('#'+key+"1").html(data[key]);
		  }
		}
	}

 function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
        $('#'+names[i] + "1").html('');
    }
  }	

spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.highlight {
  background-color: yellow !important;
}

.form-control1 {
    display: block;
    width: 20%;
    height: 30px;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857;
    color: #555555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}


.overlay {
  position: fixed; 
  width: 100%; 
  height: 100vh; 
  background-color: white; 
  opacity: 0.9; 
  z-index: 9999; 
  top: 0; 
  left: 0;
  
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}



.spinner {
  animation: spin 2s infinite linear;
}

/** spin animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gsiat&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS SD IC Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalICTasks = [];
	data.reviewedICTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		sd: sd
	};
	if(sd){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);

			 gr_approval_items.addQuery('approver', my_sys_id); 
			 gr_approval_items.addQuery('source_table','sc_req_item');
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
					//if(stage_v == 'Waiting for PI Resubmit'|| stage_v == 'Completed'|| (stage_v == 'Waiting for SD Review' &amp;&amp; gpa) || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; sd )){
						//	if (!((stage_v == 'SD Rejected - Waiting for PI Resubmit' || stage_v == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gr_approval_items.state == 'approved')) {
							//	 if ((gr_approval_items.document_id.sys_created_by == gr_approval_items.sys_created_by)||(gr.isMemberOf('CCR_SD'))) {
									
								if(!((stage_v == 'Waiting for GPA Review' ) || (stage_v == 'Waiting for SD Review')) &amp;&amp; gr_approval_items.state == 'approved'){	
									 if(stage_v != 'Completed' || (stage_v == 'Completed' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for SD Review')){
											 var item = {};
											item.ic_id = ticket_number;
											item.study_name = gr_approval_items.document_id.variables.study_name.toString();
											item.project_title = gr_approval_items.document_id.variables.project_title.toString();
											item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
											item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
											item.status = gr_approval_items.document_id.context.stage.name.toString(); 
											item.last_update_date = gr_approval_items.sys_updated_on.toString();
											item.stage = stage_v.toString();
											item.sys_id = gr_approval_items.sys_id.toString();
											item.doc_id = gr_approval_items.document_id.toString();
											item.state = gr_approval_items.state.toString();
											data.reviewedICTasks.push(item);
									}
							}
							if (stage_v == 'Waiting for SD Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for SD Review' ) {
									var items = {};
									items.ic_id = ticket_number;
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalICTasks.push(items);
							}

					//}
			 }
	}
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 18:20:59&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;63fc8cdcdb284340f59974131f9619d3&lt;/sys_id&gt;&lt;sys_mod_count&gt;79&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS SD IC Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_63fc8cdcdb284340f59974131f9619d3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-11 14:31:37&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;br/&gt;
  &lt;div class="panel panel-success" ng-show="c.data.approvalICTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_sdApprovalICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsesdApprovalICItems" aria-expanded="true" data-target="#collapsesdApprovalICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications Waiting for SD Approval &lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalICTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_sdApprovalICItems" class="panel-collapse collapse in" id="collapsesdApprovalICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchSavedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalICTasks | filter:searchSavedIC"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"
            				 ng-class="{highlight: row.doc_id == c.state.id }"
          					 id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.viewSDIC(row.doc_id, row.sys_id, row.state, row.stage, row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.reportSDIC(row.doc_id, row.ic_id, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt; 
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
            ng-model="c.pagination.currentSize"
            ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalICTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;br/&gt;&lt;br/&gt;
  &lt;div class="panel panel-success" ng-show="c.data.reviewedICTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_sdReviewedICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsesdReviewedICItems" aria-expanded="true" data-target="#collapsesdReviewedICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications reviewed by SD &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedICTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_sdReviewedICItems" class="panel-collapse collapse" id="collapsesdReviewedICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchSubmittedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedICTasks | filter: searchSubmittedIC"
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"
            				 ng-class="{highlight: row.doc_id == c.state.id }"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.viewSDIC(row.doc_id, row.sys_id, row.state, row.stage,row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-show="row.status == 'Completed'" ng-click="c.reportSDIC(row.doc_id, row.ic_id, 'sd')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-show="row.status != 'Completed'" ng-click="c.reportSDIC(row.doc_id, row.ic_id, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;            
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
            ng-model="c.pagination1.currentSize"
            ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.reviewedICTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange1() track by $index"
          ng-click="c.setPage1($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;

&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;

&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1635686445</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>25f9c652dbd7570054d8ff621f961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>163ef426c6d0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS SD IC Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>98b89ccf26ea1f00d8378dba2a00e2c5</update_guid>
<update_guid_history>98b89ccf26ea1f00d8378dba2a00e2c5:1635686445,8147d73eab859b0077d5b4ca20038f02:891342023,659c1d43987413008b9d2ac5cea36ecd:1798134664,79bad1c381741300c414e90e275a8669:-534043511,18bad1c326741300728cdef979ccd91d:1122978377,d8aad18fd03413005cef114d2bccaaa7:-798316830,c84a9d83547413000b8173209e00019a:-1334678776,0a02514fec341300ab1f25f8d9a342c5:-1129077577,65f1110f9c341300828ac239fc0dfbc4:1612957457,7cf1d14b04341300895ba95653053d0f:-819112523,1ec159cb42341300aec8cfde35d6786c:812287296,3ab1110fb534130037337669b6c92ffa:1376939676,66d9c9b5d6a7cf0064061a2467183cf7:-2010104314,d3c985b5e8a7cf00e431c6ef66937078:-124716817,00c9c9b530a7cf0014b166441c88fef1:147888110,a68bf70dccf24f0075772290f23d307e:1335602904,412d31ce81624700baea51a7d8d582f5:-785936265,af0db54e0062470096a1e043f1bce69a:488789085,c3cc7dce2a6247004c54d1d5e9c5b9f0:-1863850069,86bc754eab6247006667a73470b2e17f:-1417211621,b47c798e776247009a33184872c86515:-185185855,1a2bb54e906247009126dd6d5c5dc6a5:-323011231,26ca314edd6247001774ed80957b9ed8:-1256888217,b6d8b50e9d6247005c462b3725d70484:-323011231,17c8390eb16247009ea684be65f7e37e:-614030579,bec8390e04624700cc7e1c2ce5c1a274:811611070,ad48f1cadb624700095d4eddfeaab1af:-346647644,47f7f9ca2a6247006803c4b98b38f4ba:525214081,76e731cab8624700ab237fbb9916f39c:-1064940939,c4c77d4aa5624700ab0bddf57957e77b:-1979305186,f6a7398a91624700380cda5e371b981f:730356318,32577d8abc6247009e5973275ac8dbe1:-245806116,2b27f94a646247008dd422439ac55f00:1339499676,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_15bc7770dba6ba0054d8ff621f961932</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http) {
  /* widget controller */
	$('[data-toggle="popover"]').popover();   
  var c = this;
	var sessionId = c.data.info.sessionId;
	c.data.info.sdList.unshift({
		value: 'NONE',
		label: 'Please select a scientific director'
	});

	$scope.closeDisplayModal = function(){
		$('#displayRequests').modal('hide');
	}
	
	$scope.loadApprovalConfirm = function(){
		$('#messageGPAApproval').html('Are you sure you want to approve this request?');
		$('#confirmGPAApprovalDiv').modal('show'); 
		$('#btnYesGPAApprovalConfirm').off('click').click(function() {
			var role = $('#roleId').val();
			if( role == 'GPA'){
				if(!approvalValidation()){
					$('#gpaErrorMessage').html('');
					$('#gpaErrorMessage').hide();
					submitRequestApproval('approved', 'GPA');	
				}
			}else if(role == 'SD'){
				submitRequestApproval('approved', 'SD');
			}
			$('#confirmGPAApprovalDiv').modal('hide');
	});
		$('#btnNoGPAApprovalConfirm').off('click').click(function() {
			$('#confirmGPAApprovalDiv').modal('hide');
		});		
	}
	
	$scope.loadRejectConfirm = function(){
		$('#messageGPAReject').html('Are you sure you want to reject this request?');
		$('#confirmGPARejectDiv').modal('show');	
		$('#btnYesGPARejectConfirm').off('click').click(function() {
			var role = $('#roleId').val();
			if(role == 'GPA'){
					submitRequestApproval('rejected', 'GPA');	
			}else if(role == 'SD' ){
				  submitRequestApproval('rejected', 'SD');	
			}
			$('#confirmGPARejectDiv').modal('hide');
		});
		$('#btnNoGPARejectConfirm').off('click').click(function() {
			$('#confirmGPARejectDiv').modal('hide');
		});			
	}
	function approvalValidation(){
		var sdSelected = $('#selectSD').val();
		if(sdSelected == 'NONE'){
			$('#gpaErrorMessage').html('&lt;font size="2" color="red"&gt;&lt;ul&gt;&lt;li&gt;Please select a Scientific Director&lt;/li&gt;&lt;/ul&gt;&lt;/font&gt;');
			$('#gpaErrorMessage').show();
			return true;
		}else{
			return false;
		}
	}
	function submitRequestApproval(action, role){
  //validate SD when approve the request
   var sdSelected = $('#selectSD').val();	
   var request_id = $('#hiddenRequestId').val();
   var comments = $('#commentId1').val();
   var stage = $('#hiddenStage').val();
   var variables= {};
   variables.requested_id = request_id;
   variables.requestedItem_id = $('#hiddenRequestItemId').val();
   variables.approval_comment = comments;
   variables.action = action;
   variables.role = role;
   variables.sd_id = sdSelected;
   var request = {
		 url: '/api/naci/gdspapi/updateGDSPRequest',
		 method : "POST",
		 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
		 headers: {
				'Content-Type': 'application/json'
			},
		 data : variables
	 }
	 $http(request).then(handleResponse, handleError);
	 function handleResponse(response){
			var result = response.data.result;
		  console.log(result.status);
		}
	  function handleError(){
			console.error(response);
			alert('ERROR');
		}
   $('#displayRequests').modal('hide');		
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.btn-form {
  width: 100px;
  margin-left: 50px;
}

.form-label {
  font-weight: normal
}

.full-width {
  width: 100%;
}

label.control-label {
  font-size: 14px;
  white-space: nowrap;
}

legend.scheduler-border {
  font-size: 16px;
  font-weight: bold;
}

.align-checkboxes {
  margin-top: 8px;
}

.inline-form-input {
  width: 160px;
  max-width: 160px;
  display: inline-block;
  margin-left: 8px;
}

input[type=checkbox], input[type=radio] {
  vertical-align: middle;
  position: relative;
  bottom: 3px !important;
}

input[type=radio] {
  bottom: 2px;
}

.input-xs {
  height: 24px;
  padding: 4px;
  font-size: 12px;
  line-height: 1.2;
  border-radius: 3px;
}
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-data-display-section&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS Data Display Section&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var sd_list = [];
	var getMembers = new GlideRecord('sys_user_grmember');
      getMembers.addQuery('group.name','CCR_SD');
      getMembers.query();
  while(getMembers.next())
  {
		 sd_list.push({
			 value: getMembers.user.toString(),
			 label: [getMembers.user.first_name, getMembers.user.last_name].join(' ')
		 });
  }	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		sdList: sd_list
	};

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-03 14:59:49&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;15bc7770dba6ba0054d8ff621f961932&lt;/sys_id&gt;&lt;sys_mod_count&gt;14&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS Data Display Section&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_15bc7770dba6ba0054d8ff621f961932&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-13 21:38:18&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="displayRequests" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;
  &lt;div class="modal-dialog modal-lg"&gt;
    &lt;div class="modal-content" style="height:900px; overflow-y:auto; overflow-x: hidden;"&gt;
      &lt;div class="modal-header"&gt;
		  &lt;button type="button" class="close btn btn-xs" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;x&lt;/span&gt;&lt;/button&gt;
           &lt;div&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Genomic Data Sharing Plan&lt;/b&gt;&lt;/font&gt; &lt;br/&gt;
                  &lt;b&gt;GDSP Number - &lt;span id="displayRequestId"&gt;&lt;/span&gt;&lt;/b&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
         &lt;div id="gpaErrorMessage" style="display:none;"&gt;&lt;/div&gt;
         &lt;div class="col-md-12"&gt;
  &lt;!-- start table --&gt;
         &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Principal Investigator&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
           	&lt;form class="form-horizontal"&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5 " for="investigator1"&gt;Principal Investigator&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;&lt;div id="investigator1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5 " for="pTitle1"&gt;Principal Investigator Title&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;&lt;div id="pTitle1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5 " for="pBranch1"&gt;Branch&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;&lt;div id="pBranch1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" for="email1"&gt;Email&lt;/label&gt;
                  &lt;div class="col-md-6 align-checkboxes" &gt;&lt;div id="email1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;    				
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="phone1"&gt;Phone&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="phone1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;  
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="date1"&gt;Plan Submission Date&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="date1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;           
           &lt;/form&gt;
       	&lt;/fieldset&gt;           
        &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Project Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
  					&lt;form class="form-horizontal"&gt;
            &lt;!-- project number --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="valign-top col-md-5 align-right" for="projectName"&gt;Intramural Project (Z01), Grant, or Contract number (if available) &lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;div id="projectNumber1"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;              
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="projectName1"&gt;Study Name&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="projectName1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;        
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="sampleSize1"&gt;Plan enrollment/Sample Size&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="simpleSize1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;              
              &lt;div class="form-group" &gt;
                &lt;label class="control-label col-md-5" for="prospective1"&gt;Collection Type [Check all that apply]&lt;/label&gt;
                &lt;div class="col-md-7 align-checkboxes"&gt;
                  &lt;span id="prospective1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Prospective
                  &lt;br&gt;
                  &lt;span id="restrospective1"&gt;&lt;/span&gt;&amp;#160;&amp;#160;Retrospective
                &lt;/div&gt;
              &lt;/div&gt;    
          	&lt;/form&gt;  
         &lt;/fieldset&gt;
         &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Data&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
  					&lt;form class="form-horizontal"&gt;
            	&lt;div class="form-group"&gt;           
                 &lt;label class="control-label col-md-5" id="dataId"&gt;Source [Check all that apply]&lt;/label&gt;
 									&lt;div class="col-md-7 align-checkboxes"&gt;
                    &lt;span id="human1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Human
                    &lt;br&gt;
                    &lt;span id="rat1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Rat
                    &lt;br&gt;
                    &lt;span id="mouse1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Mouse
                    &lt;br&gt;
                    &lt;span id="celegans1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;C. elegans
                    &lt;br&gt;  
                    &lt;span id="drosophila1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Drosophila
                    &lt;br&gt;
                    &lt;span id="yeast1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Yeast
                     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (Species: &lt;span id="yeastSpecies1"&gt;&lt;/span&gt; )
                    &lt;br&gt;
                    &lt;span id="bacteria1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Bacteria
                     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (Species: &lt;span id="bacteriaSpecies1"&gt;&lt;/span&gt; )
                    &lt;br&gt;
                    &lt;span id="nonHuman1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other
                     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (Species: &lt;span id="noHumanOther1"&gt;&lt;/span&gt; )
                	&lt;/div&gt;	
              &lt;/div&gt;
        			&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;      
				    	&lt;div class="form-group"&gt;
                 &lt;label class="control-label col-md-5" id="data2Id"&gt;Sample Types [Check all that apply]&lt;/label&gt;
                 &lt;div class="col-md-6 align-checkboxes"&gt;
                      &lt;span id="germLine1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;GermLine
                      &lt;br&gt;
                      &lt;span id="dnaType1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;DNA
                      &lt;br&gt;
                      &lt;span id="rnaType1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;RNA
                      &lt;br&gt;
                      &lt;span id="microbiome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Microbiome
                      &lt;br&gt;
                      &lt;span id="mitochrondria1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mitochrondria 
                      &lt;br&gt;
                   		&lt;span id="otherType1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifyOtherType1"&gt;&lt;/span&gt;
                 &lt;/div&gt;                
              &lt;/div&gt;       
           	&lt;/form&gt;
           &lt;/fieldset&gt;  
           &lt;fieldset class="scheduler-border"&gt;
              &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Type&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
							&lt;form class="form-horizontal"&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" for="snpArrayData" id="arrayDataId"&gt;Array Data [Check all that apply]&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;
                      &lt;label class="form-label full-width" for="snpArrayData"&gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="snpArrayData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;SNP Array 
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSNP1"&gt;&lt;/span&gt;                      
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/label&gt;            
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="snpArrayData"&gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="expressionArray1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Expression Array 
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numExpression1"&gt;&lt;/span&gt;                      
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/label&gt;   
                    &lt;br&gt;
                     &lt;label class="form-label full-width" for="snpArrayData"&gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="methylationArray1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Methylation Array
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numMethylation1"&gt;&lt;/span&gt;                      
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/label&gt;  
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" id="genotypesId" for="arrayDerive"&gt;Genotypes [Check all that apply]&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;
                    &lt;label class="form-label full-width" for="arrayDerive1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                         &lt;span id="arrayDerive1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Genotypes
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numDerivedGenotype1"&gt;&lt;/span&gt;  
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="microarrayData1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                  		   &lt;span id="microarrayData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;CNV calls from Microarray               
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numMicroarrayData1"&gt;&lt;/span&gt;  
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="sequenceData1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                         &lt;span id="sequenceData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;CNV calls derived from Sequencing
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSquenceData1"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="somaticSnv1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                        &lt;span id="somaticSnv1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Somatic SNV (.MAF)
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                        # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSomaticSnv1"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="arrayCgh1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                        &lt;span id="arrayCgh1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array CGH CNVs
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numArrayCgh1"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
             			&lt;label class="control-label col-md-5" id="sequenceId" for="wholeGenome"&gt;Sequence [Check all that apply]&lt;/label&gt;
                     &lt;div class="col-md-7 align-checkboxes"&gt;
                        &lt;label class="form-label full-width" for="wholeGenome1"&gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                             &lt;span id="wholeGenome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Genome
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeGenome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;   
                       &lt;br&gt;
                       &lt;label class="form-label full-width" for="wholeExome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="wholeExome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Exome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeExome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt; 
                        &lt;br&gt;
                       &lt;label class="form-label full-width" for="targetGenome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="targetGenome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Genome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetGenome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="targetExome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                             &lt;span id="targetExome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Exome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetedExome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;  
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="wholeTranscriptome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="wholeTranscriptome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Transcriptome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeTranscriptome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt; 
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="targetTrabscriptome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="targetTrabscriptome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Transcriptome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetedTranscriptome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="epigenomicMark1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="epigenomicMark1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Epigenomic Marks
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                          # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numEpigenomic1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;  
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="sanger1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="sanger1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Sanger
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSanger1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;  
                        &lt;br&gt;
                       &lt;label class="form-label full-width" for="rrna1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="rrna1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;16S rRNA
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numRrna1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;
                     &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
                    &lt;label class="control-label col-md-5" id="analysisId" for="association"&gt;Analysis [Check all that apply]&lt;/label&gt;
                    &lt;div class="col-md-6 align-checkboxes"&gt;
                        &lt;span id="association1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Association/Linkage
                        &lt;br&gt;
                        &lt;span id="arrayDerivedExpression1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Expression
                        &lt;br&gt;
                        &lt;span id="rnaExpression1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;RNA Seq Derived Expression
                        &lt;br&gt;
                        &lt;span id="derivedMethylation1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Methylation
                     &lt;/div&gt;  
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
             				&lt;label class="control-label col-md-5" for="otherAnalysis"&gt;Other&lt;/label&gt;
                    &lt;div class="col-md-6 align-checkboxes"&gt;
                      &lt;span id="otherAnalysis1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="spcifiedOtherAnalysis1"&gt;&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
             			 &lt;label class="control-label col-md-5" id="dataFormId" for="individual"&gt;Data Form [Check all that apply]&lt;/label&gt;
                   &lt;div class="col-md-6 align-checkboxes"&gt;
                        &lt;span id="individual1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Individual
                        &lt;br&gt;
                        &lt;span id="aggregate1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Aggregate
                        &lt;br&gt;
                        &lt;span id="notApplicableDataForm1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Not Applicable
                  	&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
								&lt;div class="form-group"&gt;
             				&lt;label class="control-label col-md-5" id="dataRepositoryId" for="arrayExpress"&gt;Data Repository [Check all that apply]&lt;/label&gt;
                 		&lt;div class="col-md-6 align-checkboxes"&gt;
                          &lt;span id="arrayExpress1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Express
                          &lt;br&gt;
                          &lt;span id="cancerGenomics1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Cancer Genomics Hub
                          &lt;br&gt;
                          &lt;span id="clinVar1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;ClinVar 
                          &lt;br&gt;
                          &lt;span id="dbGap1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Genotypes and Phenotypes (dbGaP)
                          &lt;br&gt;
                          &lt;span id="dbSnp1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Short Generic Variants (dbSNP)
                          &lt;br&gt;
                          &lt;span id="dbVar1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Genomic Structure Variation (dbVar)
                          &lt;br&gt;
                          &lt;span id="ena1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;European Nucleotide Archive (ENA)
                          &lt;br&gt;
                          &lt;span id="geo1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Gene Expression Omnibus (GEO)
                          &lt;br&gt;
                          &lt;span id="mgi1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mouse Genome Informatics (MGI)
                          &lt;br&gt;
                          &lt;span id="genBank1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;GenBank
                          &lt;br&gt;
                          &lt;span id="traceArchive1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Trace Archive               
                          &lt;br&gt;
                          &lt;span id="wormbase1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;WormBase                    
                          &lt;br&gt;
                          &lt;span id="sra1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Sequence Read Archive (SRA)  
                          &lt;br&gt;
                          &lt;span id="zfin1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Zebrafish Model Organism Database (ZFIN)
                          &lt;br&gt;
                          &lt;span id="OtherRepository1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifiedRepository1"&gt;&lt;/span&gt;
                  	&lt;/div&gt;
                &lt;/div&gt;  
             		&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
              			&lt;label class="control-label col-md-5" id="companionInfoId" for="phenotype"&gt;Companion Information [Check all that apply]&lt;/label&gt;
             					&lt;div class="col-md-6 align-checkboxes"&gt;
                        &lt;span id="phenotype1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Phenotype&amp;nbsp;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-trigger="focus"  data-content="Data pertinent to the interpretation of genomic data, including the minimal phenotype information needed to reproduce the primary analysis, such as associated phenotype data (e.g., clinical information), exposure data, relevant metadata, and descriptive information (e.g., protocols or methodologies used) will be shared. Individual-level Phenotype data will include."&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                        &lt;br&gt;
                        &lt;span id="exposure1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Exposure  
                        &lt;br&gt;
                        &lt;span id="surveyTool1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Survey Tool
                        &lt;br&gt;
                        &lt;span id="clinicalData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Clinic Data&amp;#160; &amp;#160;&lt;span id="specifiedClinicalData1"&gt;&lt;/span&gt;
                        &lt;br&gt;
                        &lt;span id="protocol1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Study/Protocol&amp;#160; &amp;#160;&lt;span id="specifiedProtocol1"&gt;&lt;/span&gt;               
                        &lt;br&gt;
                        &lt;span id="instrument1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Data Collection instrument&amp;#160; &amp;#160;&lt;span id="specifiedInstrument1"&gt;&lt;/span&gt;
                        &lt;br&gt;
                        &lt;span id="otherCompanion1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifiedCompanion1"&gt;&lt;/span&gt;                                   
                  		&lt;/div&gt;	
                &lt;/div&gt; 
             &lt;/form&gt;  
           &lt;/fieldset&gt;
           &lt;fieldset class="scheduler-border"&gt;
               &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Submission Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
     					 &lt;form class="form-horizontal"&gt;
                  &lt;!-- dataCheck --&gt;
                  &lt;div class="form-group"&gt;
                    &lt;label class="control-label col-md-5" id="dataSubmissionId" for="dataCheck"&gt;Data Submission and Release Timeline &lt;div style="white-space: auto;"&gt;[Check all that apply]&lt;/div&gt;&lt;/label&gt;
                    &lt;div class="col-md-6 align-checkboxes"&gt;
                      &lt;span id="dataCheck1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Following data cleaning, analysis, and quality checks
                      &lt;br&gt;
                      &lt;span id="publication1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;At the time of publication
                      &lt;br&gt;
                      &lt;span id="otherSubmission1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160; &lt;span id="psecifiedOtherSubmission1"&gt;&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                 	&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                  &lt;div class="form-group"&gt;
                    &lt;label class="control-label col-md-5" id="dataUseId" for="noHumanData"&gt;Data Use Limitation [Check all that apply]&lt;/label&gt;
                    &lt;div class="col-md-7 align-checkboxes"&gt;
                      &lt;span id="noHumanData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Not Applicable, no human data
                      &lt;br&gt;
                      &lt;span id="noLimitation1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;No data use limitations
                      &lt;br&gt;
                      &lt;span id="limitedOnly1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Limited only by the terms of the Data Use Certification
                      &lt;br&gt;                
                      &lt;span id="limitedPurpose1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Limited to health/medical/biomedical purposes
                      &lt;br&gt;
                        &lt;span style="display: inline-block; margin-left: 28px"&gt;
                         doesn't include the study of population origins or ancestry
                        &lt;/span&gt;
                      &lt;br&gt;                      
                      &lt;span id="relateToDisease1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Must be related to the specified disease
                    &lt;/div&gt;
                  &lt;/div&gt;                   
             &lt;/form&gt;
           &lt;/fieldset&gt;   
           &lt;div id="pre_comments_div" class="col-md-12" style="display:none;"&gt;
               &lt;fieldset class="scheduler-border"&gt;
                  &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                  &lt;div id="commentReviewId1"&gt;&lt;/div&gt;
               &lt;/fieldset&gt;
           &lt;/div&gt;
           &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
           &lt;div class="row form-group" id="sd_div" style="display:none;"&gt;
             &lt;div class="col-md-3"&gt;
               	&lt;label class="form-label"&gt;Scientific Director&lt;/label&gt;
             &lt;/div&gt;
             &lt;div class="col-md-9"&gt;
               &lt;select class="form-control" id="selectSD" width="100px"&gt;
                   &lt;option ng-repeat="sd in c.data.info.sdList" value="{{sd.value}}"&gt;{{sd.label}}&lt;/option&gt;
               &lt;/select&gt;
             &lt;/div&gt;
           &lt;/div&gt; 
           
           &lt;div id="comments_div" class="row form-group" style="display:none;"&gt;
           		&lt;br&gt;
         	 	  &lt;div class="col-md-3" id="commentId1Lable"&gt;
                &lt;label for="commentId1" class="form-label"&gt;Comments&lt;/label&gt;
             &lt;/div&gt;
              &lt;div class="col-md-9" style="valign:top; align:left;"&gt;
                	&lt;textarea id="commentId1" rows="5" class="form-control"&gt;&lt;/textarea&gt;
             &lt;/div&gt;
           &lt;/div&gt;
        	 &lt;div class="clearfix"&gt;  
              &lt;div id="closeButton" class="pull-right"&gt;&lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="closeDisplayModal()" value="CLOSE"/&gt; &lt;/div&gt;
              &lt;div id="submitButton" class="pull-right"&gt; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="loadApprovalConfirm()" value="APPROVE"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="loadRejectConfirm()" value="REJECT"/&gt;&amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="closeDisplayModal()" value="CLOSE"/&gt;&lt;/div&gt;
           &lt;/div&gt;
           &lt;div class="col-md-7 align-checkboxes"&gt;
          &lt;/div&gt;
       &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
  
&lt;input type="hidden" id="hiddenRequestId" /&gt;
&lt;input type="hidden" id="hiddenRequestItemId" /&gt;
&lt;input type="hidden" id="hiddenStage"/&gt;
&lt;input type="hidden" id="resubmitCommentsId"/&gt;
&lt;input type="hidden" id="withdrawCommentsId"/&gt;
&lt;input type="hidden" id="withdrawSubmitId"/&gt;
&lt;input type="hidden" id="roleId"/&gt;

  &lt;div id="confirmGPAApprovalDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAApproval"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPAApprovalConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPAApprovalConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;

  &lt;div id="confirmGPARejectDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAReject"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPARejectConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPARejectConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
  
&lt;/div&gt;  
  
  ]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1974792633</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>29f9c652dbd7570054d8ff621f961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1649594911d0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS Data Display Section</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>6e3d2e15431b930028eab325180c15d6</update_guid>
<update_guid_history>6e3d2e15431b930028eab325180c15d6:-1974792633,c9976990a15b5340231b7c2a1b5cf743:732581495,c837a150ff5b5340459b644c4edfebc2:-1733127926,3e276550235b534093beb64cf922c0a1:-1385925502,-1062601951:-1062601951,732581495:732581495</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>wf_workflow_573922a0db82f60054d8ff621f961994</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="wf_workflow_version"&gt;&lt;wf_workflow_version action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;activity_stages&gt;{"subflows":[],"stages":{"d6b19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"d6b19e1bdba21f00f59974131f9619ac","name":"Waiting for GPA Review","value":"gpa_review"},"d2b19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"d2b19e1bdba21f00f59974131f9619ac","name":"Waiting for GPA Review - SD Rejected","value":"sd_rejected_gpa_review"},"deb19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"deb19e1bdba21f00f59974131f9619ac","name":"Waiting for PI Resubmit","value":"pi_resubmit"},"dab19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"dab19e1bdba21f00f59974131f9619ac","name":"PI Submitted","value":"pi_submitted"},"52b19e1bdba21f00f59974131f9619ad":{"order":100,"duration":"","stageId":"52b19e1bdba21f00f59974131f9619ad","name":"Wait for PI to Sign","value":"wait_for_pi_signature"},"5eb19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"5eb19e1bdba21f00f59974131f9619ac","name":"Waiting for SD Review","value":"SD_review"},"56b19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"56b19e1bdba21f00f59974131f9619ac","name":"Completed","value":"Completed"},"5ab19e1bdba21f00f59974131f9619ac":{"order":100,"duration":"","stageId":"5ab19e1bdba21f00f59974131f9619ac","name":"SD Rejected","value":"sd_rejected"}},"activities":{"0bb1525bdba21f00f59974131f9619c9":"d6b19e1bdba21f00f59974131f9619ac","8bb1525bdba21f00f59974131f9619eb":"52b19e1bdba21f00f59974131f9619ad","8fb1525bdba21f00f59974131f9619dd":"dab19e1bdba21f00f59974131f9619ac","aab19e1bdba21f00f59974131f9619b0":"5ab19e1bdba21f00f59974131f9619ac","0fb1525bdba21f00f59974131f9619e4":"d2b19e1bdba21f00f59974131f9619ac","6ab1525bdba21f00f59974131f961997":"deb19e1bdba21f00f59974131f9619ac","8bb1525bdba21f00f59974131f9619c5":"56b19e1bdba21f00f59974131f9619ac","62b1525bdba21f00f59974131f961992":"52b19e1bdba21f00f59974131f9619ad","07b1525bdba21f00f59974131f9619c8":"56b19e1bdba21f00f59974131f9619ac","47b1525bdba21f00f59974131f9619cb":"56b19e1bdba21f00f59974131f9619ac","e6b19e1bdba21f00f59974131f9619b2":"56b19e1bdba21f00f59974131f9619ac","8fb1525bdba21f00f59974131f9619e9":"d6b19e1bdba21f00f59974131f9619ac","4fb1525bdba21f00f59974131f9619c3":"deb19e1bdba21f00f59974131f9619ac","c7b1525bdba21f00f59974131f9619ed":"5eb19e1bdba21f00f59974131f9619ac","0fb1525bdba21f00f59974131f9619ea":"deb19e1bdba21f00f59974131f9619ac","a6b1525bdba21f00f59974131f961999":"5eb19e1bdba21f00f59974131f9619ac","5ab19e1bdba21f00f59974131f9619ad":"5ab19e1bdba21f00f59974131f9619ac","07b1525bdba21f00f59974131f9619ef":"d6b19e1bdba21f00f59974131f9619ac","8bb1525bdba21f00f59974131f9619df":"d6b19e1bdba21f00f59974131f9619ac"},"ends":["87b1525bdba21f00f59974131f9619c7"]}&lt;/activity_stages&gt;&lt;after_business_rules&gt;false&lt;/after_business_rules&gt;&lt;checked_out/&gt;&lt;checked_out_by/&gt;&lt;column_renderer display_value="Workflow-driven"&gt;a56213111b030100adca1e094f0713ac&lt;/column_renderer&gt;&lt;condition/&gt;&lt;condition_type&gt;run_match&lt;/condition_type&gt;&lt;description&gt;This is the workflow for GDS Intramural Submission Certification &lt;/description&gt;&lt;expected_sequences&gt;0bb1525bdba21f00f59974131f9619cc,8fb1525bdba21f00f59974131f9619dd,07b1525bdba21f00f59974131f9619ef,0bb1525bdba21f00f59974131f9619c9,4bb1525bdba21f00f59974131f9619cd,8bb1525bdba21f00f59974131f9619df,8fb1525bdba21f00f59974131f9619e9,c7b1525bdba21f00f59974131f9619ed,a6b1525bdba21f00f59974131f961999,47b1525bdba21f00f59974131f9619cb,8bb1525bdba21f00f59974131f9619c5,e6b19e1bdba21f00f59974131f9619b2,07b1525bdba21f00f59974131f9619c8,87b1525bdba21f00f59974131f9619c7&lt;/expected_sequences&gt;&lt;expected_time&gt;1970-01-01 14:00:00&lt;/expected_time&gt;&lt;expected_time_type/&gt;&lt;full_sequences&gt;0bb1525bdba21f00f59974131f9619cc,8fb1525bdba21f00f59974131f9619dd,07b1525bdba21f00f59974131f9619ef,8bb1525bdba21f00f59974131f9619eb,0bb1525bdba21f00f59974131f9619c9,62b1525bdba21f00f59974131f961992,4bb1525bdba21f00f59974131f9619cd,8bb1525bdba21f00f59974131f9619df,4fb1525bdba21f00f59974131f9619c3,8fb1525bdba21f00f59974131f9619e9,c7b1525bdba21f00f59974131f9619ed,6ab1525bdba21f00f59974131f961997,0fb1525bdba21f00f59974131f9619ea,a6b1525bdba21f00f59974131f961999,87b1525bdba21f00f59974131f9619c7,47b1525bdba21f00f59974131f9619cb,5ab19e1bdba21f00f59974131f9619ad,8bb1525bdba21f00f59974131f9619c5,aab19e1bdba21f00f59974131f9619b0,e6b19e1bdba21f00f59974131f9619b2,0fb1525bdba21f00f59974131f9619e4,07b1525bdba21f00f59974131f9619c8&lt;/full_sequences&gt;&lt;journal/&gt;&lt;max_activity_count&gt;100&lt;/max_activity_count&gt;&lt;name&gt;GDS IC workflow&lt;/name&gt;&lt;not_cacheable&gt;false&lt;/not_cacheable&gt;&lt;on_cancel&gt;&lt;![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]&gt;&lt;/on_cancel&gt;&lt;order&gt;100&lt;/order&gt;&lt;pin_type&gt;set_by_activity&lt;/pin_type&gt;&lt;published&gt;true&lt;/published&gt;&lt;relative_duration/&gt;&lt;requires_ert&gt;true&lt;/requires_ert&gt;&lt;run_multiple&gt;false&lt;/run_multiple&gt;&lt;schedule/&gt;&lt;stage_field/&gt;&lt;stage_order&gt;computed&lt;/stage_order&gt;&lt;start display_value="Begin"&gt;0bb1525bdba21f00f59974131f9619cc&lt;/start&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;16b19e1bdba21f00f59974131f9619aa&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-28 21:05:26&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;timezone/&gt;&lt;validated&gt;false&lt;/validated&gt;&lt;workflow display_value="GDS IC workflow"&gt;573922a0db82f60054d8ff621f961994&lt;/workflow&gt;&lt;/wf_workflow_version&gt;&lt;wf_workflow action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;description&gt;This is the workflow for GDS Intramural Submission Certification &lt;/description&gt;&lt;name&gt;GDS IC workflow&lt;/name&gt;&lt;preview/&gt;&lt;sys_class_name&gt;wf_workflow&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-07 17:44:39&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_id&gt;573922a0db82f60054d8ff621f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS IC workflow&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;wf_workflow_573922a0db82f60054d8ff621f961994&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-07 17:44:39&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;template&gt;false&lt;/template&gt;&lt;vars/&gt;&lt;/wf_workflow&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Completed&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;56b19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;Completed&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GPA Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;12b19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;gpa_rejected&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for GPA Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;d6b19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for PI Resubmit&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;deb19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;pi_resubmit&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;PI Submitted&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;dab19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;pi_submitted&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;5ab19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;sd_rejected&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for GPA Review - SD Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;d2b19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;sd_rejected_gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for SD Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;5eb19e1bdba21f00f59974131f9619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;SD_review&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Wait for PI to Sign&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;52b19e1bdba21f00f59974131f9619ad&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;value&gt;wait_for_pi_signature&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Begin"&gt;c7a5e32c0a0a0b3a002377c24ed8ea76&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;1&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Begin&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619cc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;20&lt;/x&gt;&lt;y&gt;20&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0bb1525bdba21f00f59974131f9619cc"/&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Begin"&gt;0bb1525bdba21f00f59974131f9619cc&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619cd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;11&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Complete&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;56b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619c8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;1192&lt;/x&gt;&lt;y&gt;542&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=07b1525bdba21f00f59974131f9619c8"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619c8&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619c8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619c8&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619c8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Complete"&gt;07b1525bdba21f00f59974131f9619c8&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619c9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;10&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to  GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;56b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;1187&lt;/x&gt;&lt;y&gt;191&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=8bb1525bdba21f00f59974131f9619c5"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498,3cc796f36f7d9200bbc002e6eb3ee4db&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498,3cc796f36f7d9200bbc002e6eb3ee4db&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619c5&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619c6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to  GPA"&gt;8bb1525bdba21f00f59974131f9619c5&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619c7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;8&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to GPA for Rejection&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;5ab19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;956&lt;/x&gt;&lt;y&gt;402&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=5ab19e1bdba21f00f59974131f9619ad"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;1ab19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;1eb19e1bdba21f00f59974131f9619ae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;56b19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;92b19e1bdba21f00f59974131f9619ae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;92b19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;deb19e1bdba21f00f59974131f9619ae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;92b19e1bdba21f00f59974131f9619ae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;1ab19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;92b19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;56b19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;1eb19e1bdba21f00f59974131f9619ae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;deb19e1bdba21f00f59974131f9619ae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to GPA for Rejection"&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb19e1bdba21f00f59974131f9619af&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;18&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to PI for resubmission&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;deb19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;735&lt;/x&gt;&lt;y&gt;235&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=6ab1525bdba21f00f59974131f961997"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;26b1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;62b1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aeb1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research GPA.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eab1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eab1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;26b1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research GPA.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aeb1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6ab1525bdba21f00f59974131f961997&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;62b1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to PI for resubmission"&gt;6ab1525bdba21f00f59974131f961997&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb1525bdba21f00f59974131f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;6&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to SD for approval&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;5eb19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;950&lt;/x&gt;&lt;y&gt;120&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=c7b1525bdba21f00f59974131f9619ed"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c7b1525bdba21f00f59974131f9619ed&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to SD for approval"&gt;c7b1525bdba21f00f59974131f9619ed&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;16&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;56b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;1196&lt;/x&gt;&lt;y&gt;371&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=e6b19e1bdba21f00f59974131f9619b2"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2eb1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;66b1525bdba21f00f59974131f961991&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b1525bdba21f00f59974131f961991&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;66b1525bdba21f00f59974131f961991&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b1525bdba21f00f59974131f961991&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2eb1525bdba21f00f59974131f961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter"&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961991&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;17&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;5ab19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab19e1bdba21f00f59974131f9619b0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;951&lt;/x&gt;&lt;y&gt;509&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=aab19e1bdba21f00f59974131f9619b0"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2ab19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2eb19e1bdba21f00f59974131f9619b0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;66b19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eab19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb19e1bdba21f00f59974131f9619b0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2eb19e1bdba21f00f59974131f9619b0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eab19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;66b19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2ab19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb19e1bdba21f00f59974131f9619b0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;aab19e1bdba21f00f59974131f9619b0&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b19e1bdba21f00f59974131f9619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter"&gt;aab19e1bdba21f00f59974131f9619b0&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;22b19e1bdba21f00f59974131f9619b2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="End"&gt;c7a66f7d0a0a0b3a004544a6d2f14076&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;2&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;End&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619c7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;220&lt;/x&gt;&lt;y&gt;758&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=87b1525bdba21f00f59974131f9619c7"/&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;4&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;GPA review&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;d6b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;738&lt;/x&gt;&lt;y&gt;3&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=8bb1525bdba21f00f59974131f9619df"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619e1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619df&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619e3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="GPA review"&gt;8bb1525bdba21f00f59974131f9619df&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="GPA review"&gt;8bb1525bdba21f00f59974131f9619df&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;15&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Pi Need to Resubmit&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;deb19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;727&lt;/x&gt;&lt;y&gt;499&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0fb1525bdba21f00f59974131f9619ea"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619ea&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619ea&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Pi Need to Resubmit"&gt;0fb1525bdba21f00f59974131f9619ea&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;24&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Pi Sign Action&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Wait for PI to Sign"&gt;52b19e1bdba21f00f59974131f9619ad&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;62b1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;199&lt;/x&gt;&lt;y&gt;396&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=62b1525bdba21f00f59974131f961992"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;22b1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;22b1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;26b1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2ab1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2eb1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;62b1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;66b1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6eb1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6eb1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aeb1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e2b1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e2b1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
answer=[];&amp;#13;
answer.push(current.request.requested_for);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eab1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aeb1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6eb1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2eb1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2ab1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;66b1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e6b1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;22b1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eab1525bdba21f00f59974131f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;62b1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;26b1525bdba21f00f59974131f961995&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;22b1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6ab1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e2b1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;eeb1525bdba21f00f59974131f961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6eb1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;aab1525bdba21f00f59974131f961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;62b1525bdba21f00f59974131f961992&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e2b1525bdba21f00f59974131f961996&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
answer=[];&amp;#13;
answer.push(current.request.requested_for);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Pi Sign Action"&gt;62b1525bdba21f00f59974131f961992&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;22b1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Pi Sign Action"&gt;62b1525bdba21f00f59974131f961992&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a2b1525bdba21f00f59974131f961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Run Script"&gt;db8c65aec0a8016501d00259bc7203a4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;21&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;PI Sign Script&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;d6b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-28 21:05:18&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;459&lt;/x&gt;&lt;y&gt;559&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=8fb1525bdba21f00f59974131f9619e9"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619e9&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-28 21:05:18&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
//var consent_group = current.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
	if(item.data_specified != null &amp;amp;&amp;amp; item.data_specified.trim().length &amp;gt; 0){&amp;#13;
	   item.use_limit = item.use_limit + " [ " + item.data_specified +" ]";&amp;#13;
	}&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'pi';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &amp;#13;
&amp;#13;
&amp;#13;
&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619e9&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-28 21:05:18&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
//var consent_group = current.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
	if(item.data_specified != null &amp;amp;&amp;amp; item.data_specified.trim().length &amp;gt; 0){&amp;#13;
	   item.use_limit = item.use_limit + " [ " + item.data_specified +" ]";&amp;#13;
	}&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'pi';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &amp;#13;
&amp;#13;
&amp;#13;
&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="PI Sign Script"&gt;8fb1525bdba21f00f59974131f9619e9&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="If"&gt;98f621ca0a0a0b5900f7c291f5e45a0e&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;23&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Same PI&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="PI Submitted"&gt;dab19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;190&lt;/x&gt;&lt;y&gt;86&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=8fb1525bdba21f00f59974131f9619dd"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619dd&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;493cba6a0a6a803f07df24b118473551&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619dd&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&amp;#13;
//&amp;#13;
// For example,&amp;#13;
//&amp;#13;
   answer = ifScript();&amp;#13;
&amp;#13;
   function ifScript() {&amp;#13;
	   &amp;#13;
      if (current.u_director == 'signed' || current.request.opened_by == current.request.requested_for) {&amp;#13;
         return 'yes';&amp;#13;
      }&amp;#13;
      return 'no';&amp;#13;
   }&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e50810a0a0ba96248a709b450fc32&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619dd&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;493d2c1d0a6a803f3217a75738ea3289&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619dd&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;493cba6a0a6a803f07df24b118473551&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619dd&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;493d2c1d0a6a803f3217a75738ea3289&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8fb1525bdba21f00f59974131f9619dd&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&amp;#13;
//&amp;#13;
// For example,&amp;#13;
//&amp;#13;
   answer = ifScript();&amp;#13;
&amp;#13;
   function ifScript() {&amp;#13;
	   &amp;#13;
      if (current.u_director == 'signed' || current.request.opened_by == current.request.requested_for) {&amp;#13;
         return 'yes';&amp;#13;
      }&amp;#13;
      return 'no';&amp;#13;
   }&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e50810a0a0ba96248a709b450fc32&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Same PI"&gt;8fb1525bdba21f00f59974131f9619dd&lt;/activity&gt;&lt;condition&gt;activity.result == 'no'&lt;/condition&gt;&lt;condition_default display_value="No"&gt;c1eff6430a0a0b59000f955abe842c94&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;No&lt;/name&gt;&lt;order&gt;200&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Same PI"&gt;8fb1525bdba21f00f59974131f9619dd&lt;/activity&gt;&lt;condition&gt;activity.result == 'yes'&lt;/condition&gt;&lt;condition_default display_value="Yes"&gt;c1ef63200a0a0b59005ef89bae78feb7&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Yes&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619df&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;7&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;SD Approval&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;5eb19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a6b1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;950&lt;/x&gt;&lt;y&gt;260&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=a6b1525bdba21f00f59974131f961999"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f96199a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f96199b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f961999&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a6b1525bdba21f00f59974131f961999&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619c2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="SD Approval"&gt;a6b1525bdba21f00f59974131f961999&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619c3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="SD Approval"&gt;a6b1525bdba21f00f59974131f961999&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619c3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Run Script"&gt;db8c65aec0a8016501d00259bc7203a4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;20&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;SD Create PDF &lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;56b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619cb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;1300&lt;/x&gt;&lt;y&gt;37&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=47b1525bdba21f00f59974131f9619cb"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;47b1525bdba21f00f59974131f9619cb&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619cb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'sd';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;47b1525bdba21f00f59974131f9619cb&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619cb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'sd';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="SD Create PDF "&gt;47b1525bdba21f00f59974131f9619cb&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619cc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;25&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send an email to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;deb19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619c3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;198&lt;/x&gt;&lt;y&gt;554&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=4fb1525bdba21f00f59974131f9619c3"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Principal Investigator.  Please address the issues identified, revise your Institutional Certification and resubmit t.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619c3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619c3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Principal Investigator.  Please address the issues identified, revise your Institutional Certification and resubmit t.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4fb1525bdba21f00f59974131f9619c3&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619c4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send an email to Submitter"&gt;4fb1525bdba21f00f59974131f9619c3&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;14&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;d6b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619c9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;463&lt;/x&gt;&lt;y&gt;256&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0bb1525bdba21f00f59974131f9619c9"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619c9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619c9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619c9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619c9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0bb1525bdba21f00f59974131f9619c9&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to GPA"&gt;0bb1525bdba21f00f59974131f9619c9&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;22&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send notification to PI for signature&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Wait for PI to Sign"&gt;52b19e1bdba21f00f59974131f9619ad&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;194&lt;/x&gt;&lt;y&gt;242&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=8bb1525bdba21f00f59974131f9619eb"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer = current.requested_for;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;8bb1525bdba21f00f59974131f9619eb&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer = current.requested_for;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send notification to PI for signature"&gt;8bb1525bdba21f00f59974131f9619eb&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;3&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;d6b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;461&lt;/x&gt;&lt;y&gt;116&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=07b1525bdba21f00f59974131f9619ef"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'IC ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'IC ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;07b1525bdba21f00f59974131f9619ef&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to Submitter"&gt;07b1525bdba21f00f59974131f9619ef&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Timer"&gt;3961a1da0a0a0b5c00ecd84822f70d85&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;26&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Timer&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619cd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;461&lt;/x&gt;&lt;y&gt;404&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=4bb1525bdba21f00f59974131f9619cd"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc740fe0a0a0b520025dcf8e2ff78e7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;4cc4a4030a0a0b52007334f001376dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cbfe48a0a0a0b5200cf8b82cc6685f1&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;220cd53d0a0a0b214103bdc2ec5c7ab4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292b2f0e0a0a0b215aa2dd2cbc578dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc836da0a0a0b520083ebc07da2f47c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35dc0df0a0a0ba96248a7098d737925&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;script&lt;/value&gt;&lt;variable display_value=""&gt;21f80cd00a0a0b2101fcd5b5defc0810&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;220dc5a40a0a0b2109fbd28b8c4b6213&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;3000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 15;&lt;/value&gt;&lt;variable display_value=""&gt;293493710a0a0b2115e3e5b4fce1d12a&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292c91070a0a0b212543d91ffde5014c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292bd15e0a0a0b215a040c701033e3c5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc6788c0a0a0b5200e6743c94001b16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;21fd462c0a0a0b211c997276d7806c03&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619cd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cba34da0a0a0b5200798c86eafe1203&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;script&lt;/value&gt;&lt;variable display_value=""&gt;21f80cd00a0a0b2101fcd5b5defc0810&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619cd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cba34da0a0a0b5200798c86eafe1203&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cbfe48a0a0a0b5200cf8b82cc6685f1&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;220dc5a40a0a0b2109fbd28b8c4b6213&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35dc0df0a0a0ba96248a7098d737925&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;220cd53d0a0a0b214103bdc2ec5c7ab4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;21fd462c0a0a0b211c997276d7806c03&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;4cc4a4030a0a0b52007334f001376dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc6788c0a0a0b5200e6743c94001b16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc740fe0a0a0b520025dcf8e2ff78e7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc836da0a0a0b520083ebc07da2f47c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292bd15e0a0a0b215a040c701033e3c5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292c91070a0a0b212543d91ffde5014c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292b2f0e0a0a0b215aa2dd2cbc578dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;4bb1525bdba21f00f59974131f9619cd&lt;/document_key&gt;&lt;order&gt;3000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619db&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 15;&lt;/value&gt;&lt;variable display_value=""&gt;293493710a0a0b2115e3e5b4fce1d12a&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Timer"&gt;4bb1525bdba21f00f59974131f9619cd&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;9&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Waiting for GPA reivew&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review - SD Rejected"&gt;d2b19e1bdba21f00f59974131f9619ac&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;x&gt;960&lt;/x&gt;&lt;y&gt;606&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0fb1525bdba21f00f59974131f9619e4"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4bb1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cfb1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0fb1525bdba21f00f59974131f9619e4&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Waiting for GPA reivew"&gt;0fb1525bdba21f00f59974131f9619e4&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Waiting for GPA reivew"&gt;0fb1525bdba21f00f59974131f9619e4&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;eeb19e1bdba21f00f59974131f9619af&lt;/condition&gt;&lt;from display_value="Email to GPA for Rejection"&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;03b1525bdba21f00f59974131f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter"&gt;aab19e1bdba21f00f59974131f9619b0&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;22b1525bdba21f00f59974131f961997&lt;/condition&gt;&lt;from display_value="Pi Sign Action"&gt;62b1525bdba21f00f59974131f961992&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Same PI"&gt;8fb1525bdba21f00f59974131f9619dd&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;c3b1525bdba21f00f59974131f9619e4&lt;/condition&gt;&lt;from display_value="GPA review"&gt;8bb1525bdba21f00f59974131f9619df&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;07b1525bdba21f00f59974131f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to SD for approval"&gt;c7b1525bdba21f00f59974131f9619ed&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;c3b1525bdba21f00f59974131f9619c5&lt;/condition&gt;&lt;from display_value="Send an email to Submitter"&gt;4fb1525bdba21f00f59974131f9619c3&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0bb1525bdba21f00f59974131f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Pi Need to Resubmit"&gt;0fb1525bdba21f00f59974131f9619ea&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;22b19e1bdba21f00f59974131f9619b2&lt;/condition&gt;&lt;from display_value="Email to Submitter"&gt;aab19e1bdba21f00f59974131f9619b0&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Waiting for GPA reivew"&gt;0fb1525bdba21f00f59974131f9619e4&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;03b1525bdba21f00f59974131f9619ed&lt;/condition&gt;&lt;from display_value="Send notification to PI for signature"&gt;8bb1525bdba21f00f59974131f9619eb&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Pi Sign Action"&gt;62b1525bdba21f00f59974131f961992&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;8fb1525bdba21f00f59974131f9619ca&lt;/condition&gt;&lt;from display_value="Send Notification to GPA"&gt;0bb1525bdba21f00f59974131f9619c9&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;0fb1525bdba21f00f59974131f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Timer"&gt;4bb1525bdba21f00f59974131f9619cd&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;c7b1525bdba21f00f59974131f9619e9&lt;/condition&gt;&lt;from display_value="Waiting for GPA reivew"&gt;0fb1525bdba21f00f59974131f9619e4&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to PI for resubmission"&gt;6ab1525bdba21f00f59974131f961997&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;c3b1525bdba21f00f59974131f9619eb&lt;/condition&gt;&lt;from display_value="Pi Need to Resubmit"&gt;0fb1525bdba21f00f59974131f9619ea&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;87b1525bdba21f00f59974131f9619c7&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Yes"&gt;c3b1525bdba21f00f59974131f9619df&lt;/condition&gt;&lt;from display_value="Same PI"&gt;8fb1525bdba21f00f59974131f9619dd&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;43b1525bdba21f00f59974131f9619f7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submitter"&gt;07b1525bdba21f00f59974131f9619ef&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;4fb1525bdba21f00f59974131f9619ee&lt;/condition&gt;&lt;from display_value="Email to SD for approval"&gt;c7b1525bdba21f00f59974131f9619ed&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;47b1525bdba21f00f59974131f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="SD Approval"&gt;a6b1525bdba21f00f59974131f961999&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;87b1525bdba21f00f59974131f9619c3&lt;/condition&gt;&lt;from display_value="SD Approval"&gt;a6b1525bdba21f00f59974131f961999&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;4fb1525bdba21f00f59974131f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="SD Create PDF "&gt;47b1525bdba21f00f59974131f9619cb&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;a2b1525bdba21f00f59974131f961997&lt;/condition&gt;&lt;from display_value="Pi Sign Action"&gt;62b1525bdba21f00f59974131f961992&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Send an email to Submitter"&gt;4fb1525bdba21f00f59974131f9619c3&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;eeb1525bdba21f00f59974131f961998&lt;/condition&gt;&lt;from display_value="Email to PI for resubmission"&gt;6ab1525bdba21f00f59974131f961997&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;83b1525bdba21f00f59974131f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Pi Need to Resubmit"&gt;0fb1525bdba21f00f59974131f9619ea&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;47b1525bdba21f00f59974131f9619e4&lt;/condition&gt;&lt;from display_value="GPA review"&gt;8bb1525bdba21f00f59974131f9619df&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to PI for resubmission"&gt;6ab1525bdba21f00f59974131f961997&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;c7b1525bdba21f00f59974131f9619dd&lt;/condition&gt;&lt;from display_value="Timer"&gt;4bb1525bdba21f00f59974131f9619cd&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;87b1525bdba21f00f59974131f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="PI Sign Script"&gt;8fb1525bdba21f00f59974131f9619e9&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;83b1525bdba21f00f59974131f9619cd&lt;/condition&gt;&lt;from display_value="Begin"&gt;0bb1525bdba21f00f59974131f9619cc&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Same PI"&gt;8fb1525bdba21f00f59974131f9619dd&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;8bb1525bdba21f00f59974131f9619f0&lt;/condition&gt;&lt;from display_value="Send Notification to Submitter"&gt;07b1525bdba21f00f59974131f9619ef&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to GPA"&gt;0bb1525bdba21f00f59974131f9619c9&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;8fb1525bdba21f00f59974131f9619ca&lt;/condition&gt;&lt;from display_value="Send Notification to GPA"&gt;0bb1525bdba21f00f59974131f9619c9&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8bb1525bdba21f00f59974131f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="GPA review"&gt;8bb1525bdba21f00f59974131f9619df&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;aab1525bdba21f00f59974131f961991&lt;/condition&gt;&lt;from display_value="Email to Submitter"&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Complete"&gt;07b1525bdba21f00f59974131f9619c8&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;03b1525bdba21f00f59974131f9619c7&lt;/condition&gt;&lt;from display_value="Email to  GPA"&gt;8bb1525bdba21f00f59974131f9619c5&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;8fb1525bdba21f00f59974131f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter"&gt;e6b19e1bdba21f00f59974131f9619b2&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;47b1525bdba21f00f59974131f9619e9&lt;/condition&gt;&lt;from display_value="Waiting for GPA reivew"&gt;0fb1525bdba21f00f59974131f9619e4&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to SD for approval"&gt;c7b1525bdba21f00f59974131f9619ed&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="No"&gt;43b1525bdba21f00f59974131f9619df&lt;/condition&gt;&lt;from display_value="Same PI"&gt;8fb1525bdba21f00f59974131f9619dd&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c3b1525bdba21f00f59974131f9619f7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Send notification to PI for signature"&gt;8bb1525bdba21f00f59974131f9619eb&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;43b1525bdba21f00f59974131f9619c9&lt;/condition&gt;&lt;from display_value="Complete"&gt;07b1525bdba21f00f59974131f9619c8&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;87b1525bdba21f00f59974131f9619c7&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;83b1525bdba21f00f59974131f9619cc&lt;/condition&gt;&lt;from display_value="SD Create PDF "&gt;47b1525bdba21f00f59974131f9619cb&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c7b1525bdba21f00f59974131f9619f7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to  GPA"&gt;8bb1525bdba21f00f59974131f9619c5&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;07b1525bdba21f00f59974131f9619c3&lt;/condition&gt;&lt;from display_value="SD Approval"&gt;a6b1525bdba21f00f59974131f961999&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:57&lt;/sys_created_on&gt;&lt;sys_id&gt;cbb1525bdba21f00f59974131f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:57&lt;/sys_updated_on&gt;&lt;to display_value="Email to GPA for Rejection"&gt;5ab19e1bdba21f00f59974131f9619ad&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_estimated_runtime_config action="INSERT_OR_UPDATE"&gt;&lt;estimated_run_time/&gt;&lt;no_of_data_points&gt;1&lt;/no_of_data_points&gt;&lt;percentage_threshold_ert&gt;20&lt;/percentage_threshold_ert&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-12 17:58:54&lt;/sys_created_on&gt;&lt;sys_id&gt;d6b19e1bdba21f00f59974131f9619aa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-12 17:58:54&lt;/sys_updated_on&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;16b19e1bdba21f00f59974131f9619aa&lt;/workflow_version&gt;&lt;/wf_estimated_runtime_config&gt;&lt;wf_workflow_version action="update_multiple" query="workflow=573922a0db82f60054d8ff621f961994^sys_id!=16b19e1bdba21f00f59974131f9619aa"&gt;&lt;published&gt;false&lt;/published&gt;&lt;/wf_workflow_version&gt;&lt;/record_update&gt;</payload>
<payload_hash>1759469808</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>2df9c652dbd7570054d8ff621f961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164483718750000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table>sc_ic_aprvl_defn_staging</table>
<target_name>GDS IC workflow</target_name>
<type>Workflow</type>
<update_domain>global</update_domain>
<update_guid>4bd599ec83431b00b0b09a33c032948a</update_guid>
<update_guid_history>4bd599ec83431b00b0b09a33c032948a:1759469808,4b72398b67225f00fbbcec5d93a8efe0:-1754303410,52d2998774ee1f00e989b598579f4361:-1248691539,db43d60dd01113404080f61c8a1378d2:-1310175307,dd0152491011134074eeb2560c874b21:-1998971687,a320d6c5b011134036534192a5fa6e43:-290561075,1002529266b413006dd1fc920677f1eb:2124918627,b7f0965254b41300b9a3bc88a1b0f220:-353486175,a9cf0a126db413008e95abe03486855c:1472760378,2bcc069ea7741300b3a6e572d7a0b5d4:1072112225,9ae8cada1d741300a7aaee2a50121e39:-1250750507,e327469ace74130052ba37c87fe64941:70119078,0f96ce5a35741300634779eb7c08f721:-603545673,d2f1425286b41300e52a3bf6b15789d3:-808080500,e7ef5e8ad1b41b009ad0ae6254030a18:-467720869,70e6da06adb41b00341d116a8ad21201:1165488271,851516c27cb41b00c5347b5ad869123a:695249805,cdc3968213b41b00dabb9cce2901bd59:-105919118,10725642b8b41b007338b98ea412fc6f:394676036,ce809ece8e741b00072a3c2f72a82e2e:1691137362,570016ce26741b0028128fd5083bbae1:1984139351,40cf02ce6b741b00d6ca29245ef2cd99:289206669,3f8e028e76741b002634f9596aa092c2:-908528473,10bd064ea8741b004efb887f2237b83f:1205071822,1d2c820e95741b005036807e515e9c65:-264998731,9ce84a4a9f741b0023cabf630adfef68:382999847,bb17c6c683741b005eef86c6c558ae70:331209727,15520606e8741b0076cdbdbcd723c7fb:1304686807,f23146c21f741b0020ab06baa734c141:109069317,ef1d3d020e741b00d8a821f035283c79:-1459213295,4ebcb502e9741b00a9aeb7229a0705f1:-667067956,b5db3dce35341b009fdf54bc30fd1e34:245853345,b02bb1ce63341b0094adea80563ed6ea:628333150,829a398ec5341b00ac163d906bd9c8e0:-262779414,58e9fdca28341b00d84ddd3d7978490d:1917734092,3a39718aef341b00cfeafd6761857950:1743897647,d28cad425b341b00e4f3e84c82ca2322:1360892622,7061b07506fc170015356be9a31ad7a5:-504701818,32e12d7482789300e82737d1d88abbe6:381017963,a5a1e134a478930099b3f0dceebec680:1759361951,fd11a9f033789300ada44d137e1b451f:-137157617,4acbc9fc63f4930003e89ca40b4b1066:1144895786,448c783477f493005897dea7e5d597f1:-815428661,9dfab4f0cdf49300ed4509902b81e0e3:594969402,21322034ddb49300495fb404dfd0174b:1281093919,cf91e4f006b49300d39dfa82adc137f7:1938070997,b18f10b01cb493008d2f1e641a682470:-404752480,d2bd1c302cb4930073d0f25167114f66:872024326,17ec10302ab49300b7f078cadd239a85:751989697,ead7d0f8fb749300c4774347f6974aaf:115172691,b925f0e46cb417001ff4abc4fd5c0962:1875124234,79a43ca4afb41700c5f82227be28a59a:429033953,d4f3f0a4acb4170097cca244eeca0b78:-2064418105,3213b46422b417002f239df8fd0c3bbf:-482436774,d79de82c28741700deb5c7a5999e0134:1410686618,46ab60a8d374170061dfd1149700beb7:-718159304,326ae0684d7417007b549a0aeb0ebd61:400570362,a1079c2cd6341700e6a8453fe359f674:-1101371621,9f75d8e82a341700f90808430a1c346a:1282964414,8d73d428c6341700b106b910f8fb83ed:992830246,ca9fa5069d6247007c6b69977e664562:359832462,47a3698a2322470073a1536f53900924:233865092,984c44f946a207004b3acae7e433f66b:-434388654,9e69b32c34a28300f1bfe3a465bd9afa:-1925934989,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_613dc09cdb284340f59974131f96194d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, spUtil, $http) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};
	c.columns = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.tasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.tasks = c.data.tasks.sort(compareRows);
		}
	};
	//start client JS	 
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'sampleTime', 'sampleConsent', 'consent_group'];
	var my_sys_id = c.data.info.my_sys_id;
	var sessionId = c.data.info.session_id;
	$scope.viewICPsoItem = function(id, ic_id){
		$('#refresh').val('0');
		var data = {
			requestedid: id	
		};
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/fetchSubmittedRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			cleanDisplayDiv();
			$('#displayICId').html(ic_id);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewICId1').empty();
			$('#commentReviewICId1').append(comment_str);
			if(comment_str.length &lt; 137){
            $('#pre_comments_ic_div').hide();
            $('#comments_ic_div').hide();
      }else{
          $('#pre_comments_ic_div').show();
          $('#comments_ic_div').hide();
      }
			resetRequestValue();
			loadSubmittedData(variables);
			 $('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;');
			 loadConsentGroupData();
			 if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
			  $('#insDiv').show();
			 }else{
					$('#insDiv').hide();
			 }				
			$('#displayICRequests').modal('show').on('shown.bs.modal', function(){$('#displayICRequests .modal-content').scrollTop(0);}); 
			$('#closeButton1').show();
			$('#sd_ic_div').hide();
			$('#submitButton1').hide();
		}
		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}			
	};
	
	function loadConsentGroupData(){
		var consentStr = $('#consent_group1').val();
	  if(consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0){
			$('#consentGrpDiv').hide();
		}else{
      getConsentGroups(consentStr);
		}
	}
	
	function getConsentGroups(consentStr){
		var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentGrp: consentStr}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
		  for(var i = 0; i &lt; result.length; i++){
				var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " ["+ result[i].data_field +"] ";
				}			  
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;"+result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier +"&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";
			  
			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	
	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;
	
	$scope.reportICPso = function(sys_id, ic_id){
		  $('#refresh').val('0');
		  $('#loading').show();
		  var req_id = sys_id;
		  var fileName = ic_id+"_sd.pdf";
		
			initialTime = new Date();
			documentInterval = setInterval(function() {
				 getDocument(req_id, fileName);
			}, 5000);		
	};
	
	function getDocument(req_id, fileName){
		  var req = {
					method: 'GET',
					url: '/api/naci/gds/getAttachmentFileID',
					beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				  params: {request_id: req_id, file_name: fileName}
			};
		  $http(req).then(handleResponse, handleError);
		  function handleResponse(response) {
				  if (new Date() - initialTime &gt; documentTimeout) {
						 window.clearInterval(documentInterval);
						 $('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
             $('#infoModal').modal('show');
             $('#btnOkConfirm').off('click').click(function() {
                 $('#infoModal').modal('hide');
             });
						return;
					}				
					var result = response.data.result;
					//hightlight right record
				  var id = result.file_id;
		      if(id != null &amp;&amp; id.trim().length &gt; 0){
							window.clearInterval(documentInterval);
				     window.location.href = '/sys_attachment.do?sys_id=' + id;
						 setTimeout(function(){}, 3000);
							  $('#loading').hide();
					}
			}
			function handleError(response) {
					window.clearInterval(documentInterval);
					console.error(response);
					alert('ERROR');
			}			
	}
	
	
	function cleanDisplayDiv(){
		$('#pre_comments_ic_div').hide();
		$('#closeButton1').hide();
		$('#comments_ic_div').hide();
		$('#submitButton1').hide();
	}
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
		}
		commentsblock = commentsblock + "&lt;/table&gt;";
		return commentsblock;
	}	
	
	function loadSubmittedData(data){
	  for(key in data){
		  if(key == 'consent_group'){
			$('#'+key+"1").val(data[key]);  
		  }else{
			$('#'+key+"1").html(data[key]);
		  }
		}
	}
	
 function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
         $('#'+names[i] + "1").html('');
    }
  }	
	
	spUtil.recordWatch($scope, "sc_req_item", "", function(name, data) {  
			spUtil.update($scope);
	});
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.form-control1 {
    display: block;
    width: 20%;
    height: 30px;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857;
    color: #555555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}

.overlay {
  position: fixed; 
  width: 100%; 
  height: 100vh; 
  background-color: white; 
  opacity: 0.9; 
  z-index: 9999; 
  top: 0; 
  left: 0;
  
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}



.spinner {
  animation: spin 2s infinite linear;
}

/** spin animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gpit&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS PSO IC table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.info = []; 
	data.tasks = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.info.session_id = session_id;
	data.info.my_sys_id = my_sys_id;
	var gr = gs.getUser();
	var isPSO = gr.isMemberOf('CCR_PSO');
	
	var gr1 = new GlideRecord("sc_cat_item");
			gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
			gr1.query();	
			gr1.next();
	var cat_item_id = gr1.getValue('sys_id');
	
	if(isPSO){
	   var gr_requested_items = new GlideRecord('sc_req_item');
     var gd_requested_items = gr_requested_items.addQuery('context.stage.name', 'Completed');
     var gc_requested_items = gr_requested_items.addQuery('cat_item', cat_item_id);
         gr_requested_items.addActiveQuery();
         gr_requested_items.orderByDesc('number');
         gr_requested_items.query();		
		
		 while (gr_requested_items.next()){
         var orginId = '';
         var tickerNum = '';
         var org_ticket_num = '';
         var version = '';
         var hasParent = '';
         var selectedOrginId = '';
                      
         selectedOrginId = gr_requested_items.contact_type;
                      
         if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web'){
              orginId = gr_requested_items.sys_id;
              org_ticket_num = gr_requested_items.number;
              hasParent = 'false';
          }else{
              var orgIds = selectedOrginId.split("=");
              var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
              gr_tracking_item.addQuery('u_orgid',orgIds[0]);
              gr_tracking_item.query();

              if(gr_tracking_item.getRowCount() &gt; 0){
                  gr_tracking_item.next();
                  orginId = gr_tracking_item.u_orgid;
                  org_ticket_num = gr_tracking_item.u_ticket_number;
                  version = orgIds[1];
                  hasParent = 'true';
               }else {
                  orginId = gr_requested_items.sys_id;
                  org_ticket_num = gr_requested_items.number;
                  hasParent = 'false';
						   }
          }		
          if(hasParent == 'true'){
               ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
          }else{
               ticketNum = 'CCR_IC' + org_ticket_num.substring(8);
          } 
			
					var items = {};
			    items.sys_id = gr_requested_items.sys_id.toString();
					items.ic_id = ticketNum;
					items.study_name = gr_requested_items.variables.study_name.toString();		 
					items.project_title = gr_requested_items.variables.project_title.toString();
					items.status = gr_requested_items.context.stage.name.toString();
					items.approval = gr_requested_items.context.stage.name.toString();
					items.submitted_date = gr_requested_items.sys_created_on.toString();
					data.tasks.push(items);
		 }
		
	}

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 18:21:47&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;613dc09cdb284340f59974131f96194d&lt;/sys_id&gt;&lt;sys_mod_count&gt;50&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS PSO IC table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_613dc09cdb284340f59974131f96194d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-11 14:32:07&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;br/&gt;
  &lt;div class="panel panel-success" ng-show="c.data.tasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_psoICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsepsoICItems" aria-expanded="true" data-target="#collapsepsoICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Approved Institutional Certifications &lt;span class="badge" id="ritm_count"&gt;{{ c.data.tasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_psoICItems" class="panel-collapse collapse in table-responsive" id="collapsepsoICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="6"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchCompletedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt; 
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.tasks | filter: searchCompletedIC"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id="{{row.sys_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="viewICPsoItem(row.sys_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="reportICPso(row.sys_id, row.ic_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
            ng-model="c.pagination.currentSize"
            ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.tasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1125871981</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>61f9c652dbd7570054d8ff621f961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>163ef42e11a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS PSO IC table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>efc89883432e1f00ace0ed94b63e2283</update_guid>
<update_guid_history>efc89883432e1f00ace0ed94b63e2283:-1125871981,6ac713bed0859b00090ca108e86760c6:-147772899,a6dbddc3977413002aea15d9fd9a0fca:-257298550,99db5dc3ff74130074e3c77376e2ff15:-1707730583,e7cbddc3bd741300d6db094caafc2c5c:-721570836,0ecb11430a741300d073040aa9ab70ef:-1617660237,93ab9dc35f741300ea3638ab3996a916:400443409,e18b59c3ad7413006914e3d196498e83:2125225104,655bd9c36a74130039d5f9924b20a76c:2108779014,b53b99c399741300e3e02f19502a205a:151901875,271b59c3ca74130028983a2f4ffbb67b:1201251063,ce0a8dfddc67cf005704b51e44c6ac12:-1686389227,ac49fd0eeb624700f77ef3d0ab5401b1:492507980,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_01160574db12720054d8ff621f96192a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope) {
  /* widget controller */
var c = this;
	var names=['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna']; 
var comment_str = parse(c.data.tasks.comments);
$('#numId').html(c.data.tasks.gdsp_id);
$('#numId2').html(c.data.tasks.gdsp_id);
loadApprovalData(c.data.tasks.variables);
if(comment_str.length &lt; 137){
    $('#pre_comments_div1').hide();
    $('#pre_comments_div2').hide();
    $('#pre_comments_div3').hide();
}else {
    $('#pre_comments_div1').show();
    $('#pre_comments_div2').show();
    $('#pre_comments_div3').show();
    $('#commentReviewId1').empty();
    $('#commentReviewId1').append(comment_str);   
    $('#commentReviewId2').empty();
    $('#commentReviewId2').append('&lt;table width="100%" border="1"&gt;' + comment_str + "&lt;/table&gt;");   
    $('#commentReviewId3').empty();
    $('#commentReviewId3').append('&lt;table width="60%" border="0" id="data8"&gt;' + comment_str + "&lt;/table&gt;");   
}
$('#printable3').hide();
$('#printable4').hide();	

		//start creating a PDF for the report	
		var doc = new jsPDF('p','pt','letter');	
    var page1 = $('#data1')[0];
    var gdspNum = $('#printable3')[0];
    var imgData = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/4RESRXhpZgAATU0AKgAAAAgABAE7AAIAAAAYAAAISodpAAQAAAABAAAIYpydAAEAAAAwAAAQ2uocAAcAAAgMAAAAPgAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFpob3UsIEppbSAoTklIL05DSSkgW0NdAAAFkAMAAgAAABQAABCwkAQAAgAAABQAABDEkpEAAgAAAAM3OQAAkpIAAgAAAAM3OQAA6hwABwAACAwAAAikAAAAABzqAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAxNjowNDoxMyAxNDozNjo1NQAyMDE2OjA0OjEzIDE0OjM2OjU1AAAAWgBoAG8AdQAsACAASgBpAG0AIAAoAE4ASQBIAC8ATgBDAEkAKQAgAFsAQwBdAAAA/+ELKmh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4NCjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iPjxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+PHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6ZmFmNWJkZDUtYmEzZC0xMWRhLWFkMzEtZDMzZDc1MTgyZjFiIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iLz48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+PHhtcDpDcmVhdGVEYXRlPjIwMTYtMDQtMTNUMTQ6MzY6NTUuNzkyPC94bXA6Q3JlYXRlRGF0ZT48L3JkZjpEZXNjcmlwdGlvbj48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+PGRjOmNyZWF0b3I+PHJkZjpTZXEgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj48cmRmOmxpPlpob3UsIEppbSAoTklIL05DSSkgW0NdPC9yZGY6bGk+PC9yZGY6U2VxPg0KCQkJPC9kYzpjcmVhdG9yPjwvcmRmOkRlc2NyaXB0aW9uPjwvcmRmOlJERj48L3g6eG1wbWV0YT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0ndyc/Pv/bAEMABwUFBgUEBwYFBggHBwgKEQsKCQkKFQ8QDBEYFRoZGBUYFxseJyEbHSUdFxgiLiIlKCkrLCsaIC8zLyoyJyorKv/bAEMBBwgICgkKFAsLFCocGBwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKv/AABEIAF8DZwMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APpGqMuuaTDIY5tUs43HVXuEBH4ZrzH4weK7yC9j0CxlaGLyhLcMjYLkk4X6YGffNeS0AfUv/CQ6L/0F7D/wJT/Gj/hIdF/6C9h/4Ep/jXy1RQB9S/8ACQ6L/wBBew/8CU/xo/4SHRf+gvYf+BKf418tUUAfUv8AwkOi/wDQXsP/AAJT/Gj/AISHRf8AoL2H/gSn+NfLVFAH1L/wkOi/9Bew/wDAlP8AGj/hIdF/6C9h/wCBKf418tUUAfUv/CQ6L/0F7D/wJT/Gp7XVNPvpDHZX1tcOo3FYZlcgeuAa+U61/DGuzeG/EVrqUGSI2xIn99Dww/L9cUAfSV3rOmWEwiv9RtLaQjcEmnVGx64JqS01Gy1BS1heW90F6mGVXx+Rrzz4seGofFvg2DXtJAluLOPzkZBkywEZI49Oo/H1rwPTdSvNI1CK9024kt7iJsrJG2D9Pce1S5WZ9Dgcop43D+0hUtJdLH2RRXOeBfFUfi/wrb6gCouVHl3Ma/wyAc8eh6j610dUeFVpypTdOa1QUUUUGYUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfP/xb/wCSg3P/AFxi/wDQa4mu2+Lf/JQbn/rjF/6DXFKCzADqTgUAJRXW6j8M/E2madNe3NpGYoF3v5cyswHc4FclQAUVb0zTbjV9TgsLJVaedtqBmwCfrWp4h8Gax4Xt4ZtXhjjSZiiFJA2SBntQBgUV0el+AvEutabFqGmab59rNnZJ58a5wSp4LA9QaxtN0+41bUoLCzUNPcPsjDHAJ+tAFWit/wAQ+C9Z8MW8M+rwxxpM5RCkobJxntWBQAUVqaB4e1DxLqDWWlRo8yxmUh3CjaCB1P1FO8QeG9R8M30dpq0aRyyR+aoRww25I7e4NAHpXwe8Ti4tZfDt824oDJbbucr/ABL+HX8680+JvhE+E/FsqQJixu8zWx7AE8r+B/TFVdL1GfSdUt7+0bbNbyB1Pr7fj0r3DxVpVt8S/hwlzp4BuQnn23qsgHzIfryPyqZK6PXyjG/VMQub4ZaP/P5Hknwl8X/8Iz4qW2upNthqBEUuTwjfwt+Zx9DX0tXxc6NHIyOpV1OGBGCDX0v8J/F//CT+FEgupN1/YARTZPLr/C/4jj6ilF9D2OIMFtioej/R/p9x3VFFFWfIBRRVE63pSzGJtTsxIG2lDcJkHpjGetBSjKWyL1FFNklSGJpJnWONAWZ2OAo9SaCR1FU7fV9Nu5lhtdQtZpW6JHOrMfwBq5QNxcdGgopskiRRtJKyoiAszMcBQOpJqrBrGmXUyw22o2k0rfdSOdWY9+ADQNRk1dIuUUVUuNW020mMV3qFrBIBkpLMqsPwJoEouTskW6Kz/wDhING/6C1j/wCBKf40f8JBo3/QWsf/AAJT/Ggv2c/5WaFFQWt7a30ZeyuYbhFOC0UgcA+nFQDXNJMnljVLLfnbt+0JnPpjNBPJJu1i9RRQTgZPSgkKKxbnxl4as5jFda9pscgOChukyPqM8VoWGq6fqsXm6ZfW15GOrW8quB+RoNJUqkVzOLS9C1RRUF1fWliqte3UNurHCmaQICfbNBCTbsieioLW9tb5GeyuYbhVOC0UgcA+nFT0A007MKKqXOq6dZzeVd39rBJjOyWZVOPXBNWIZ4riFZbeRJY2GVdGDKfoRQNxkldofRRVW51XT7KURXl9bW8hGQksyqceuCaBJOTsi1RUcE8N1Cs1tKk0TfdeNgyn6EVJQLYKKq3WqafZSiO9vra3kI3BZZlQkeuCfY1NBcQ3UCzWs0c0TZ2vGwZTzjgigrlkldokooooJCiiigAorKv/ABToOlymLUdZsLaUdY5LhQw/DOam07XtI1ckaVqdneEdRbzq5H1APFBo6VRR5nF29C/RRRQZhRVW51XT7KURXl9bW8hGQksyqceuCamgnhuoVmtpUmib7rxsGU/Qigpxkldokooqrdapp9lKI72+treQjcFlmVCR64J9jQJJt2RaoqOCeG5hWa2lSaJvuvGwZT9CKkoFsFFUZNb0qGVo5tTs45EJVka4QFT6EZq9nPSgpxkt0FFFY954u8O6fMYb3XNPhlHWN7lAw+ozkUDjCc3aKubFFUtP1nTNWUtpeo2t6q9TbzLJj64PFXaCZRcXZqwUVRk1zSYZWjl1SySRCVZWuEBUjqCM03/hING/6C1j/wCBKf40Fezn2ZoUVnjXtHZgq6rYkk4AFynP61dmmit4WlnkSKNBlndgAo9yaBOMlo0PorP/AOEg0b/oLWP/AIEp/jUkWsaZOwWHUbSQscAJOpz+tA/ZzXRlyiiiggKKKq3Wp2FjIEvb23t3YZCyyqhI9eTQNJt2RaoqO3uYLuETWs0c8R6PG4ZT+IqvPrGmWs7Q3Wo2kMq43JJOqsOM8gmgajJuyRcopqOssayRsrowBVlOQQe4NOoJCiqKa5pMkqxx6pZPIxCqq3CEk+gGavUFOMo7oKKqX+q6fpUYk1S/trNG6NcTLGD9MmqVn4v8OX8wis9d0+aU9EW5TcfoM80FKlUlHmUXb0NiiiqD67pEcjJJqlkjqcMrXCAg+h5oJUZS2RforP8A+Eg0b/oLWP8A4Ep/jR/wkGjf9Bax/wDAlP8AGgr2c/5WaFFQrd2z2n2pLiJrfaW84OCmB1O7piobfV9Nu5lhtdQtZpW6JHOrMfwBoJ5Zdi5RVW61TT7KUR3t9bW8hG4LLMqEj1wT7Gof+Eg0b/oLWP8A4Ep/jQNU5tXSNCis/wD4SDRv+gtY/wDgSn+NWLXULO+3/YbuC52Y3eTKH256ZweOhoBwmldosUVROuaSJTGdUshIDtKm4TOfTGavUCcZR3QUVBdXtrYor3tzDbqxwrTSBAT6c0Wt9aXys1ldQ3IU4YwyB8fXFAcsrXtoT0VnnXtHVirarYgg4INynH60f8JBo3/QWsf/AAJT/Ggr2c+zNCis/wD4SDRv+gtY/wDgSn+NWjeWy2n2priIW+3d5xcbMeu7pigThJbomorP/wCEg0b/AKC1j/4Ep/jR/wAJBo3/AEFrH/wJT/Ggfs5/ys0KKq22qafeymOzvra4kA3FIplY49cA1aoIacXZhRRRQI+f/i3/AMlBuf8ArjF/6DXGQ/65P94fzrs/i3/yUG5/64xf+g1xkP8Ark/3h/OgD6xcKylZApVuCG6H2r54+IfhQ+F/ETCBCLG6zJbnHA9V/DP5EV7B8SLqax8CXl3auY5oJIJI3HZhMmKoSLZ/FH4eArtS7AyP+mM6j+R/kaAPJfh9/wAlA0j/AK7/APspr0P43/8AIF0v/r4b/wBBrgfA9vNZfErTbe4QxzRXJR1YcggEGu++N/8AyBdL/wCvhv8A0GgDovhb/wAk10v/ALbf+jnrxfwF/wAj9o//AF8rXtHwt/5Jrpf/AG2/9HPXi/gL/kftH/6+VoA9H+N3/IC0z/r5b/0GvF6+ifiB4QufGGn2lvaXMVuYJTITKCc5GO1cH/wpHVv+grZ/98v/AIUAVPgx/wAjvP8A9eL/APoaVL8bP+Rusv8ArxX/ANGPXWeA/hzfeEvEEmoXd7bzo9u0QWMMDkspzz/u1yfxs/5G6y/68V/9GPQB5xXpnwf8UfYdTfQruT9xdndBk/dk9PxH6ivM6fDNJbzpNCxSSNgyMOoI5BoA6340eD/7F8QLrNlHiz1EkuFHCS9/z6/nXMeAvFUnhHxZb325vsznyrlAfvRnqfqOv4V7zbNafE/4bPDcbRLKnlyH/nlOo4P8j9DXzTqFjcaXqNxY3ieXPbyGORfQg4rOSs7n3mUYmONwjw9XVpWfmuh9jwypPCk0LB45FDIw6MCMg0+vK/gj4u/tPRX0C8fNzYLugJPLQ56f8BJx9CK9Uq07o+NxeGlha0qUun5BXyH4pOPGWskcH7fP/wCjGr68r5E8Srv8aasrcbtQmBx/10NTM+g4b/iVPRHt/wAI/iB/wkGnDRdVkH9pWqfu3Y8zxjv9R3rr/HH/ACIGvf8AYPn/APQDXzfrujat8O/GIjEjJNbuJbW5UYEi9m/oR9a9rHjC28ZfB7WryLCXUenTJdQ5/wBW/ln9D1FCfRkY/AxhWhiqGsJNfLX8meS/B/8A5KppX0m/9EvX05XzJ8Hsf8LT0rP92bH/AH5evpuiOxnxF/vcf8K/Nnmvxs8Sf2T4RXS4Hxcam2xgDyIhy358D8TXgek6nPo2sWuo2hxNayrIvvg9Px6V0fxK8Qt4p8d3MkBMkEDfZbYDuqk8j6sSfxrb+IHw6/4RnwXomoQp++SPyb8gdXYlgT9CSv4Cperue9gIUsFh6dCr8VS/5f8ADL1PfdJ1KDWNHtdRtDmG5iWRfbI6fh0ryf4j/DDxB4o8Zz6npYtfs7xRqPNm2tkLg8Yqf4EeJftOk3Xh+4fMlo3nW4P/ADzY/MPwbn/gVeuVe6PlZSq5VjJqnutNez1PknxT4R1PwffQ2msCHzJo/MTyn3DGSPT2rU8OfDDxB4o0ZNT0sWv2d2ZR5s21sg4PGK6f4/f8jVpn/Xl/7O1d78Fv+SZ2v/XeX/0Kpsr2Ppa+ZV6eXQxKtzN/Lr/kSfCrwhqfg/Q7211jyfNmufMTyX3DG0D09q+f0/5Hhf8AsIj/ANGV9dV8ip/yPC/9hEf+jKctLHHkteeIqV6s92l+p9bzzR21vJPcOscUSl3djgKoGST+FfNnj34lan4u1F7TTpJbbSlfbDBGSGm7ZfHXP93oM/jXr/xfv5LH4aX/AJJw1wyQE+zMM/oCPxryb4K6NBqvj0TXSCRLCA3CA/3wyhT+Gc/gKJb2OfJ6NKjh546or8uwaZ8E/FmoWazyrZ2O5dyx3UpD/iFU4/GsPV/D3if4eapDLcebZSE5huraTKPjsGH8j+VfVlc38QNFt9d8Danb3CBmigeeEn+CRFJU/wBPoTRyhh8+rTrKNZJxemxj/DD4g/8ACZ6bJbahtTVbQAyhRgSoTw4Hb0I+nrWD+0B/yLuk/wDX03/oFec/Ce/ksfiXpflnCzs0Dj1DKf6gH8K9F/aAz/wj+k+n2pv/AECi94mssJDC5vTVPZ6+m55l8P8AxrceDPECz5Z7GbCXUPqv94e4r6is7y31Cyhu7OVZoJkDxyKchga+UdO8KXeq+Eb7W7HMp0+YJPCBzsK53j6Ecj3rtvg/8Qf7Hvl8P6vLixuG/wBHlc8QyHsf9k/ofrSi7HTnOBjiYyr0fjjo1/XX9Ch8cP8Akox/684v/Zq9h+F3/JMtF/64t/6G1ePfHD/kox/684v/AGavYfhfj/hWWi4/54n/ANDamviOPMf+RVQ+X5M6qWVIIXllYJHGpZmPQAck18l+MfED+J/Fl9qjE+XJIVhB/hjHCj8v517p8ZvEn9i+C3sYH23OpkwjHUR/xn8R8v8AwKvMfhT4Gi8WXWpT6gmbSC3aFCR/y1dSAfqo5+uKJauxeSwhhcPPG1dtl/Xm/wAjrvgP4k82zvPD1w/zQn7Rbgnqp4YD6HB/E17FXydot/d+BfHkU0yskun3JjnT+8vKsPxGf0r6ugmjubeOeBg8cqB0YdwRkGnF6HDnuGVPEKtD4Z6/Pr/meAfHz/keLH/sHJ/6Mkr0z4P/APJK9K+s3/o568z+Pn/I8WP/AGDk/wDRklemfB//AJJXpX1m/wDRz0l8R147/kT0fVfkztqKKKs+VCvBvif8U7u81C40Tw5cNb2cLGOe5ibDzMDyAR0Xtx1+lexeK7+TTPB+r3sBxLBZyvGfRgpwfzr5k8C6RDr3jnS9Ou13wTTZkXONyqpYj9KiT6H0mSYak1PFVVdQ/wCHLWgfDfxR4ltRd2GnlbZz8s9w4jVvcZ5I9wMUzXfA3ijwcUvb60khjRgUu7aTcqN2+ZeVP1xX1UiLGipGoVVGFVRgAelMuLeG6t5Le5iSWGVSjxuuVYHqCKOVFriKv7S7guXt1+//AIBxXwo1vxBrvhT7R4iiyqtttrpuHnUcEkex/i78+mT28sqQQvLKwSONSzMegA5JpIoo4IUigRY441CoiDAUDgADsK4D4zeJP7F8FvYwPtudTJhGOoj/AIz+I+X/AIFVbI8dR+u4vlpx5eZ7LoeF+MfED+J/Fl9qjE+XJIVhB/hjHCj8v516p8B/Enm2d54euH+aE/aLcE9VPDAfQ4P4muR+FPgaLxZdalPqCZtILdoUJH/LV1IB+qjn64rntFv7vwL48immVkl0+5Mc6f3l5Vh+Iz+lZq6dz7XFU6OJozwVPeCVv0/4PqfWNfPvx8/5Hix/7Byf+jJK9/gmjubeOeBg8cqB0YdwRkGvAPj5n/hOrH0/s1P/AEbJVy2Pmch0xy9GRfCP4gf8I9qQ0bVJD/Zt0/yOTxBIe/0Pf86+hwQRkcg18l3/AIUu7TwdpfiOLMtne+YkhA/1MiyMoB9iFBB9cj0r134PfEH+1bNfD2sTZvbdf9Flc/66MD7p/wBofqPpSi+jO/OcDGqni6Gtm1L5aX/z+88h8cf8j/r3/YQn/wDQzX1hbkLZxFjgCMEk9uK+T/HH/I/69/2EJ/8A0M19FeP759O+F+qzwMVb7IIww6gOQn8moj1HnFN1YYWmuun38p5B8R/ile6/fz6bodw9tpMbbN0bFWuccEkj+E9h+foMbRPhb4s12zS7tdO8m3kGUkuZBHuHqFPzY98Yp3ws0S2134g2VvfIJLeENO8Z6PtGQD6jdjj0r6hpJc2rNsdjo5Uo4bDRV7Xbf9bnylrHhTxR4Fu4bu8t5rIq37q7t5MqG9mU8H2OK+gvhxq2ua14Pt7zxJbrFO5/dSdGnj7OV7Z/Xr3rpbyzttQtHtb6CO4gkGHilUMrd+QamAAAAGAOgFUo2PEx2afXaKjOC5l1Pkfxn/yPmv8A/YSuf/RrV0n/AApbxl/z523/AIErXN+M/wDkfNf/AOwlc/8Ao1q9S/4aEi/6Ft//AANH/wARUK3U+txFTGwo0vqkVLTW/ordV5nL2nwa8YRX0Ej2luFSRWJ+0r0Br2f4k/8AJN9b/wCvY/zFcx4U+MsfijxRZ6OuiNbG6LDzTdb9uELdNgz09a6f4k/8k31v/r2P8xVq1tD5vF1sXUxdGOLik01a3m/V9j5p8N+HL7xVrC6bpXl/aGRnHmvtGB15rqLv4MeMbWFpEtLe52jJWG4UsfoDjNQfCXVbHRvHkV3qt1Ha24t5FMkrYGSOBXuN58TvB9nbPM2uW8u0ZCQ5dm9gAKlJNant5jjsbQxChQhzKy6N/keG+AvHmq+FNft7e4uZn015BFcWsrEhATjIB+6R7elfTtfIRWTxH4uYWkTeZqN6THGOo3v0/DNfXtOJ5PENOEZ05pWk07/h/wAEK8C+P3/I26b/ANeP/tRq99rwL4/f8jbpv/Xj/wC1Gpy2OTIf9+j6P8j0L4M/8kwsP+us3/oxq8c+L3/JVdY/7Yf+iI69j+DP/JMLD/rrN/6MavHPi9/yVXWP+2H/AKIjpS+E9XLP+RtX/wC3v/Skdj8GviB5TJ4Y1iX5D/x5Sseh/wCeZ/p+Ve218m+IPC974bttJ1EMzWuo2kVzBcKMbXKBmTPYgn8sGvdPhb4+XxZo32PUJANWtFxJn/lsnZx79j7896IvozlzjAxa+uYfWL39e/8An5ngvhn/AJHzSP8AsJQ/+jRX094w10+GvCOoasqB3tosop6FiQq59skV8w+Gf+R80j/sJQ/+jRX0/wCL9EfxH4R1HSYmVJLmLCM3QMCCM/iBRHY6M85PrND2nw9fS6ufM2nWOvfELxQLdZ2u76fc7S3EmFRepJ9APQD6Cuj1X4J+LNOtjNAtpqAUZKWsp3j8GAz+HNctZXmueBvEgljSSw1C3yrJNH1B6gg9Qf8A9Vem6N8f3GE8QaOp9ZbJ8f8Ajjf/ABVSrdT1sXLHU3GWDjFwtt/X6G38FbTxJFpN3NrVxcLYb/LtrW4B3BgcMwzyAMYx659K5DXPg14q1DxDqN5biy8q4upZU3T4O1nJGePQ17ZoHiPS/E2mrfaNdLPEeGHRo2/usOoNadXZNHyn9qYihialSMVFvdW2t9x8ea3o114f1q40vUNn2i3YK/ltlckA8H6Guvsvg14p1DT7e8txZeVcRLKm6fB2sMjPHoaz/in/AMlP1n/rqn/ota+j/Cv/ACJ2jf8AXhB/6LWpSTZ9FmGZV8PhqVWFryWv3JnMf2NdeH/gXe6XqGz7Rb6ZcK/ltlckOeD9DXj/AMH/APkqmlfSb/0S9e/+OP8AkQNe/wCwfP8A+gGvAPg//wAlU0r6Tf8Aol6b3RwZdUdTA4qct3zP70z0X4p/DrXfF/ia2vtIFt5MVmsLebLtO4O56Y9GFeTeLPA+r+DPsn9s+R/pe/y/Jk3fd25zx/tCvrCvFv2hf+Ze/wC3n/2lRJLcjJsyryrU8K7cuvrs2cD4W+HOueL9MlvtI+zeTFMYW82XadwAPTHowr2H4S+B9X8Gf2t/bPkf6X5Pl+TJu+7vznj/AGhVX4B/8iPff9hF/wD0XHXqFEUtzHN8yryqVMK7ct/n0Z8j6n/yPl5/2En/APRpr64r5H1P/kfLz/sJP/6NNfXFETXiD4aPo/0PKPj9/wAirpn/AF+/+yNVX9n3/kG63/12i/k1Wvj9/wAirpn/AF+/+yNVX9n3/kG63/12i/k1H2gj/wAiN+v/ALccze/BTxZPf3E0YsdskrMubjsTn0rz/VdNuNH1a50682+fayGOTYcjI9DX2PXyf8QP+Sia7/1+yfzpSSR6GTZlXxdSUKlrJdDoIfgp4snt45oxY7ZFDLm47EZ9K9Q8Q6bcaN8B59OvNvn2unpHJsORkEZwa7bTP+QTZ/8AXBP/AEEVgfEz/kmut/8AXv8A+zCqskeHLMq+LxFOFS1lJbep80+H/D2oeJ9WXTtJjSS5ZC4V3CjA68mur/4Ut4y/587b/wACVrD8D+KR4O8TJqzWhuwsTx+UJNmdw65wa9K/4aEi/wChbf8A8DR/8RUK3U+pxtXMoVbYWCcbde/3om+Fnw78Q+FfFsl/rEEMdu1o8QKTKx3FlI4H0NewVyPgDx4vjq0vJ0082P2V1TBm8zdkE/3RjpXXVorW0Picxq16mIbxCtJaaf0wooopnnnz/wDFv/koNz/1xi/9BrjIf9cn+8P512fxb/5KDc/9cYv/AEGuMh/1yf7w/nQB9CfFQ4+G+pe5i/8ARq15R8OfFp8M+IVS5ciwuyI58nhD2f8ADv7V6v8AFP8A5JvqX1i/9GpXzxQB77rvhEf8LA0bxHp6Da04W7Cj/ZO1/wCh/Csn43/8gXS/+vhv/QaufCjxd/a+kf2ReyZvLJf3ZY8yR9vxHT8qp/G//kC6X/18N/6DQB0Xwt/5Jrpf/bb/ANHPXi/gL/kftH/6+Vr2j4W/8k10v/tt/wCjnrxfwF/yP2j/APXytAHsPxK8Vaj4V0uyn0ryt80xR/NTcMbc15z/AMLh8Uetn/34/wDr11nxu/5AWmf9fLf+g14vQB7R8OvH2teJ/Estjqht/JW2aUeXHtO4Mo659zXPfGz/AJG6y/68V/8ARj1F8GP+R3n/AOvF/wD0NKl+Nn/I3WX/AF4r/wCjHoA84qa0tJr68htbVDJNM4RFA6knFQ16r8HfC/nXEniG7TKREx2oI6t/E34dPzoA6y9ubP4X/DUldrTxJtQf89p27/TP6Cvme6uZr27lublzJNM5d3PViTkmu8+L3jD/AISPxQbG0k3WGnExpg8PJ/E39B9KzPht4SPi3xbDBMmbK2xNdH1UHhfxPH51nJ3dj77K8PDL8G69XRtXfp0R638GfCH9h+HDq15HtvdRAYBhykX8I/Hr+Vek0iqqKFRQqqMAAYAFLVrQ+JxWInia0qs92FfIviIY8b6qCc/8TGbn/toa+uq+Ytd8E+J7jxfqVxBoN+8Ml/K6OsDEMpkJBHtipke/w9UhCdTnaWi3Pc/iB4Lt/Gfh57fCpfQ/PazH+Fv7p9j0/I9q+bra/wBV8LXmpWOGgkmhks7uBxwQwIOR6jqD/Q19d15b8W/h0+vQDW9DgL6jENs0MY5nXsQP7w/UU5LqZ5NmEab+rV/ge1+j/wAv1PNvg8cfFPSuOqzf+iXr2z4neJP+Ea8D3c0T7bq6H2eDnncw5I+gya8r+F3hHxDpfxG0281HRr21toxLvllhKquYnAyT7kCtX4w2HiXxJ4khtdN0a/nsLGPCPHCxV3bliPXsPwNStEd+NhSxOaU7yXKopvVdG9DyC1uZbO7iubdtk0LiRGKg4YHIODxW9qfxA8Uazp0tjqerSXFtKAHjaNMHBz2Wvd/hR4Vk8MeD1+2wtFfXr+dOjDDIOiqfoP5mu4pqLsLFZ5QVZr2SlyvR3/LRnyV4M8QP4Y8XWGqKT5ccm2ZQfvRtww/I5+oFfWcUiTQpLEwdHUMrDoQehrwz4ufD/U7jxaNU0DTbi8jvk3TLbxltki8EnHqMH869E+F82rf8IXBZa/Y3NpdWR8lftEZUyJ/CRnrgcfhRHR2OXOJUsXQp4um1fZq+v9Jnmvx+/wCRq0z/AK8v/Z2rvfgt/wAkztf+u8v/AKFXK/Gvw3rWt+I9Pl0jS7q8jjtNrvBEWCneTjiuz+E2m3uk/D+3tNTtZbW4WaUmKVSrAFuODQviDFVIPJ6UE1e+33na18ip/wAjwv8A2ER/6Mr66r5iTwT4n/4S9bj+wb/yftwff5DY2+ZnP0xRIMgqQh7XmaWi/U91+I+iS+IPAOpWVshe4CCaJR1ZkIbH4gEfjXgPw18UR+E/GkF5dcWsym3nb+4rEfN+BAP0zX1NXkfxA+DZ1W8m1bws0cVxKS81m52q7dyh6An0PHuKcl1RllONoxpzwmI0jLqesW9xDd20dxaypNDKoZJEOQwPcGuE+LHjK10Dwtc6bHKr6jqERhWIN8yIwIZz7YyB7mvGV8MeP9EZre107XLcHhhaCQqfxTINX9F+E3i7X7wSX9s9hC5zJcXrYb/vn7xP1wPelzNnTSyrC4eoq1WsnFa+v4/kS/BjQ5dU8fQ3uwm301GmkbsGIKqPzJP/AAE1237QA/4p/STn/l6bj/gFegeFPCun+ENETTtNUnndLMw+aVvU/wBB2rjvjZoup63oemRaRYXF7JHcszrBGWKjbjJxRa0TKOPjis1hV2itFftZmb8AVWTQdZR1DK1wgYEZBBU8VxfxT8At4T1g32nRn+yrtyY8f8sH6lD7entx2r0P4JaHqmiaTqqavYXFk8s6FFnjKlgFPIzXoOtaPZ6/o9xpupRCS3nXaw7qexHoRRa6CpmDwmZzqRd4u1/uX5HyXq+tXmuTW82oyebNBbrbiQ9WVc4z6nBxn2r6W+F5z8MtF4x+5P8A6G1eE638MfE+l6xcWlrpN3fQRt+7uIIiyyL2OR39q9h0wazoHwRt4LXTbp9WW2aKO2WIl0ZnbkjtgHNKO53ZzKjXw9OFGS1kuvdP7jyL4q+JP+Ej8c3Jhfda2X+jQ4PB2n5m/Fs/gBWTo3jbxF4esTZ6NqT2sBcuUSNDlj3yQT2rqfh/8OdauvGtnLr2lXVrZW7faJHuIiocr0XnqScfhmvouhJvUrF5jhsFCGFjBVEl3Vvyep8canqd5rOoy3+pTefdTEGSTaF3EDHQADoK+gPgr4kGr+D/AOzZ3zc6Y3l4J5MZ5U/hyPwrpPHvhweKfBt7p6KDcbfNt/aReR+fT8a8f+GWkeKvC/jW2nuNC1GOzuP3FyTAwAU9GPHY4P507NMyrYmjmeAkklCUdlft226aC/Hz/keLH/sHJ/6Mkr0z4P8A/JK9K+s3/o564f40eGdb1rxhZ3Gk6Vd3kS2Co0kMRYBvMkOMjvgj864aHwp47t4hFb6XrUUa9ERJFA/AUtmWqNPGZbSouoota6/Pz8z6nor5k03w749TVbRpbDWxGJkLFhJgDcM5r6bq07nzmOwUcI4qNRSv2KOt6cNX0C/05jgXdtJDn03KRn9a+U9Gv7nwj4vt7uaAi4065xLC3ByDhl/mK+uq83+Ivwph8VzNqmjyR2uqYAkD8Rz49cdG9/z9aUlc7snx1Kg5Ua/wz/r8TudF1zTvEOmx3+kXSXEDjqp5U/3WHY+xql4o8X6T4R01rrVbgB8furdCDJKfRV/r0FfOc/gPxrotwdui6irjjfZqZM/jHmrOlfDDxjr94DNp09qrEb7i/Jjx74PzH8AaXMzr/sfBxl7SVdcny/O/6H0homt2HiHSYdS0qcTW8o4PdT3UjsR6V84fFXxJ/wAJH45uTC+61sv9GhweDtPzN+LZ/ACvXYfC7/Dv4c38HhyG51LVbhcF40JLyEYDBR0Cgk15r8P/AIc61deNbOXXtKurWyt2+0SPcRFQ5XovPUk4/DNErvQMrjhcPOrilK8Y3Ub7v5fgcto3jbxF4esTZ6NqT2sBcuUSNDlj3yQT2rM1PU7zWdRlv9Sm8+6mIMkm0LuIGOgAHQV9j1znj3w4PFPg2909FBuNvm2/tIvI/Pp+NHKzWjn1H2yboqN93fX8jm/gr4kGr+D/AOzZ3zc6Y3l4J5MZ5U/hyPwrhPj4P+K6sT/1DU/9GyUnwy0jxV4X8a209xoWox2dx+4uSYGACnox47HB/OtX40eGdb1rxhZ3Gk6Vd3kKWCo0kMRYBvMkOMjvgj86N4l0oUqGbc8ZLlkm918/xOu+GWnWmsfBiw0/UIVlt51nSRT3Bmfn2PvXinirw5qPw/8AFgijlkXy286zul4LKDwfqOhr374Xafd6X8OdNs9RtpLa5jMu+KVdrLmVyMj6EGrXjjwhbeMvD0llNhLlMvbTY/1b/wCB6Ghq6OHD5isLj6qlrTlJ3+/f+uh8tapqE2ratdahchRNdStNJtGBuY5OPxNfVPirSH1/wFf6dAP3txaful9XADKPzAFfOE3w98WwzyRHw/fOUYqWSEspweoI6j3r6qt1K20SsMEIAR+FETqz2vBOjKi0+W+3ysfKXgrxAfCXjOz1KeNjHC5jnTHOxgVbj1Gc49RX1Pp2pWWr2Ed7plzHdW0gyskbZB9vY+1ea/EP4QLr13Jq3ht47e+kJae3kO1Jj/eB7Mffg+3fymTwR410edlTRdUjfoWtY2cH/gSZBpaxNMRTwmbqNWNRQmlZp/0vvPojxX440Xwfbo+qT7pnYBLaHDSEZ5bGeABzk1s6fqFpqunw32nTpcW067o5EPBH+e3avm7RPhR4t168BurKSwhZv3lxe/KR/wABPzE/h+Ne/eEvCtn4P0GPTLB5JADvllkPMjnq2Og+g9B1qk2zxsfhMJhqajTqc0+ttv8AgHzH4z/5HzX/APsJXP8A6NavoT/hUPgb/oB/+Tc//wAXXjHivwT4nu/GetXFtoN/LDNqE8kciQMQ6mRiCD6EVW/4Rv4gf9A/XfykqVp0PpsTD6xSpqliOSy1s99uzWx75pPw38KaHqkOo6VpXkXcBJjk+0yttyCDwzEdCe1L8Sf+Sb63/wBex/mK8C/4Rv4gf9A/Xfykr3/xtZ3V98OtTtLWGSe5ktdqxINzM3HGKpbHgYnDyoYijOdb2l2uu1mvN9z5s8KeGbnxdryaVZTRQSujOHmztwoz2Bq54z8Cap4JuYI9RMc0VwpMc8OShI6ryBzXY/CXwpr+k+PobrU9IvLS3WCQGWaEqoJHAya9h8WeGbXxZ4duNMvAAXG6KTvG46MP89KlRuj2cXnDw+NjBNOnZXseW/Auw8PXLXF06M+u25OBKwKrGejIPXsc5/WvbK+ZNJ8L+OPCfiZL3T9EvnmtJSu6OJikq5wRkdVIr6R0y8bUNMt7qS2mtXlQM0E6lXjPcEVUdjxc7pr2/toz5oy8728vQtV4F8fv+Rt03/rx/wDajV77Xi3xq8Na1rXiawm0jS7q8iSz2M8ERYA72OOPrRLYyyScYY1OTsrM674M/wDJMLD/AK6zf+jGrxz4vf8AJVdY/wC2H/oiOvbPhTp15pXw9s7TUraW1uEklLRSqVYZckcfSvLPih4R8Q6p8SNUvNO0a9ubaTytksUJZWxCgOD9QRSex6eXVacc1rSclZ83/pSPVLDw9ZeKvhHpGl6gnyS6Zb7HA+aNxGuGHuD/AIV8/wA0Ws/DvxpgMYb2yk3K2PllT+qsK+mvCVvNZ+C9FtrqNopobCBJI3GCjBACCPXNYHxM8CJ4x0TzLRVXVLUE27H+Md0J9+3vTaujky/MI0MROjV1pyb+Xn6dz578Ktv8caMx/i1GA/8AkRa+stQv7XS9Pnvr+ZYLaBC8kjHhQK+afDPgjxPa+LNInuNBv44or6F3doGAVRICST6Yr6C8X+FbXxhoL6ZeTSwKWEiPE33WGcZHRhz0NKN7HTnk6NTEUk5e71a16mPpOv8Ag74mWZikt7e5mTINreRr5yD1Xvj3U1xXxJ+FOg6N4autb0aSSye32k27yb43BYDAzyDz6muR1r4S+LtBui9naNqESNmO4smy3t8v3gfw/GqT+F/H+vMkF5p2t3IVsIL3zAqn2MnA+tJvujqw+Fp0aiq4bE2p9U3+G/6XRufAzUJ7fx49nGzeRdWz+YgPGVwQx+nI/GvoivO/hh8NX8HCbUdVkjk1K4j8vbGcrCmQSM9ySBk+1eiVUdEeDnGIpYjFudLVWSv3Plv4p/8AJT9Z/wCuqf8Aota+j/Cv/InaN/14Qf8Aota8K+I3g/xFqXxC1W7sNFvri3lkUpLHCWVvkUcH6ivePDkEtt4W0qC4Ro5YrKFHRhgqwQAg/jSjud+bVISwWHUWm0l+SKnjj/kQNe/7B8//AKAa8A+D/wDyVTSvpN/6JevoPxhbTXngrWba1iaaeaxmSONBlmYoQAB614r8LvCPiHS/iNpt5qOjXtrbRiXfLLCVVcxOBkn3IFEt0PK6kI5fiIyaTaf5H0HXi37Qv/Mvf9vP/tKvaa8m+OOgatrn9h/2Pp1ze+T9o8zyIy2zPl4zj1wfypy2POyeUYY6EpOy1/Jln4B/8iPff9hF/wD0XHXqFed/BfR9R0XwfeW+rWU1nM9+zrHMhUlfLjGcHtkH8q9EprYyzOSljKji7q58meMbSXSPH2rREbWjvpJE47Ftyn8iK+odA1yz8RaJb6lp8qvHMgJAOSjd1PoQa4z4mfDEeL9upaU6Q6rGoRg5ws6joCexHr6cV463hDx1oc8kFvperxFuGNkrsrfimQajWLPoJrD5thqa9oozj3/E7n4969a3EunaLbSLJNAzTz7TnYSNqqff73H09a2PgHZSQ+FtRvHUhLi6CpnuFUZP5tj8K4Lw78IvE+vXiyanA+mWzNmSa6/1h9cJ1J+uK+htG0i00HR7bTNNj8u2t02oOpPck+5JJP1pq7dzmzCtQw2CjgqUuZ9X+P5l2vk/4gf8lE13/r9k/nX1hXzX428F+Jb7xzrF1Z6HfzQS3btHIkDFWGeoNEtiOHqkIV5ubtp19T6K0z/kE2f/AFwT/wBBFYHxM/5Jrrf/AF7/APswrodPRo9MtUdSrLCgYHsdorE+IFncah4A1e1soHuJ5YMJFGu5mO4dBVdDxcO0sVBv+ZfmeA/C3QtN8R+No7DWbb7TatBI5j8xk5A45Ug17b/wqHwN/wBAP/ybn/8Ai68Gg8E+MraTzLbQ9VhfGN0cLqfzFWf+Eb+IH/QP138pKhadD7PG0ZYirz0sTyK2yf8Akz6M8P8AhTRfCsM0Wg2f2VJ2DSDzXfcR0+8TjrWxXhfwu0XxdZePLabW7TVIrMRSB2ud+zO04znjrXulWj5HMKDo1rOpztq9/wCrhRRRTPPPn/4t/wDJQbn/AK4xf+g1xQJBBHBHSu2+Lf8AyUG4/wCuMX/oNcRQBtah4u1/VbF7PUNUuLi3kxvjcjBwcj9QKxaKKALNhqN3pV4l3p1xJbzpnbJGcEZ4NW9V8R6vrcUcerX810kbbkEh+6ay6KAOj0vx74l0XTYtP0zUvItYc7I/IjbGSWPJUnqTWHaXdxYXkd1ZytDPE25JF6qfWoKKANTVfEmsa3FHFq2oTXSRtuRZD0PrWXRRQBd0zV7/AEa6Nzpd1JazMhQvGeSpIOP0FLqms6hrVws+q3cl1KibFeQ8hck4/MmqNFAGhoekXGva1badaDMk7gE4+6O5P0Fey/EDXrf4f/D+LTdLIjuZo/s1sAeVGPmf/Pc1T+EvhtNL0abxDqKhJLhD5TP/AARDkt+OPyFeQ/EHxW/i7xZcXisfskX7q1Q9kHf6k81MnZHtZPgvrWIvJe7HV/ojmQGkcAAszHgDkk19Q/DPwkPCfhKKKZMX11ia5PcEjhfwH65ryT4N+EP7e8S/2peR7rLTWDYYZDy9VH4dfyr6LpRXU9PiDG3awsHtq/0X6hRRRVnyQUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAeX/FfwTe6tPFrWkRNcSxxiKeBBlioyQwHfrgj6V49JbTxOUlgkRh1VkIIr6xooA+TPJk/55t/3yaPJk/55t/3ya+s6KAPkzyZP+ebf98mjyZP+ebf98mvrOigD5M8mT/nm3/fJo8mT/nm3/fJr6zooA+TPJk/55t/3yaPJk/55t/3ya+s6KAPkzyZP+ebf98mt3wf4Zm8S+JbewKOsH+snfH3UHX8+B+NfS1FAHlnxl8Tf2L4dg8N6SCkt4gEgQf6uAcY/4ERj6A14vofhbWfEV8ltpWnzTMxwZNhCIPVm6AV9d0VLjdnvYPOPqdD2VOnr3v19LfqYvhHw3B4U8M2ulW5DNGu6aQf8tJD95vz/AExW1RRVHiVJyqTc5O7YUUUUEBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//9k=';  
    doc.addImage(imgData, 'jpeg', 40, 20, 450, 45);
    doc.setFontSize(12);   

    var specialElementHandlers = {
         '#editor': function(element, renderer){
                return true;
        }
    };
   
    doc.fromHTML(gdspNum, 40, 70, {
       'width': 450, 
       'elementHandlers': specialElementHandlers
   });
    var projName = $('#projectName1').html();
    var vGap = 0;
    var sub1 = " ";
    var sub2 = " ";
	  var sub3 = " ";
	  var sub4 = " ";
	  //var sub5 = " ";
	  var position = 0;
	  
    addTableToPdf(doc, document.getElementById("data1"), 100);
	  if(projName.length &gt; 65){
			var lines = Math.ceil(projName.length);
      //projName = projName.substring(0,130);
			vGap = 20;
			sub1 =  projName.substring(0, 55);
			var step = 65;
			for(var i = 1; i &lt; lines; i++){
				if(i == 1){	sub2 = projName.substring(55, 110);	}
				if(i == 2){ sub3 = projName.substring(110, 165);}
				if(i == 3){sub4 = projName.substring(165, 220);}
				//if(i == 4){sub5 = projName.substring(220, 275);}
			}
      /*var bPoint = findBreakPoint(projName);
      if(bPoint == '-'){
         sub1 = projName.substring(0, 65) + '-';
         sub2 = projName.substring(65);
      }else{
         sub1 = projName.substring(0, bPoint);
         sub2 = projName.substring(bPoint);
      }*/
			for(var k = 0; k &lt; lines; k++){
				if(k == 0){
					$('#projectName15').attr('display', 'block');
					 $('#projectName15').html(sub1);
				}
				if(k == 1){
					$('#extra1').attr('display', 'block');
					 $('#extra1').html(sub2);					
				}
				if(k == 2){
					$('#extra2').attr('display', 'block');
					$('#extra2').html(sub3);				
				}
				if(k == 3){
					$('#extra3').attr('display', 'block');
					$('#extra3').html(sub4);			
				}
			 // if(k == 4){
				//	 $('#extra4').attr('display', 'block');
				//	 $('#extra4').html(sub5);				
				//}
			
			}
			$('#simpleSize15').html($('#simpleSize1').html());
      addTableToPdf(doc, document.getElementById("data25"), 255);
			position = 420;
    }else{
      addTableToPdf(doc, document.getElementById("data2"), 255);
			position = 385;
    }
    addTableToPdf(doc, document.getElementById("data3"), position + vGap);
	  setCheckMark(doc, 'page1', vGap)
	  doc.addPage();     
    addTableToPdf(doc, document.getElementById("data4"), 25 + vGap);
    setCheckMark(doc, 'page2', vGap)
    doc.addPage();
    addTableToPdf(doc, document.getElementById("data6"), 45);
    addTableToPdf(doc, document.getElementById("data7"), 350);
    setCheckMark(doc, 'page3', vGap);
    if(comment_str.length &gt; 137){
			 doc.addPage();
			 doc.text(40, 45, 'Approval Status');
       addTableToPdf1(doc, document.getElementById("data8"), 55);
    }
   
    doc.save('Report_' + c.data.tasks.gdsp_id + '.pdf');

  function findBreakPoint(str){
     var retVal = 0;
     var char1 = str.charAt(65);
     var substr = str.substring(0,65);
     if(char1 == ' '){
        return 65;
     }else{
       var count = 0;
       for(count = 65; count &gt; 57; count--){
           var ch = substr.charAt(count);
           if(ch == ' '){
              retVal = count;
              break;
           }
       } 
       if(retVal == 0){
          return '-';
       }else{
          return retVal;
       }
     }
  }

  function getImage(){
      var imgData = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAhCAYAAAAoNdCeAAAACXBIWXMAABJ0AAASdAHeZh94AAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAABVElEQVR42mL8//8/A70AEwMdwahlo5YNY8tuP3rOhkuOhVqWqMrJH/7PKvTrzt3zzjgV/f//n2KsLyt7mIFT+/7NF5/Z8KmjOBjtteQOMzAwMGw7tMFbTZznF17FlPgoxEL2MAOr4X3vlLapxKgn26J9qyb5STMw3JfVCT5MrB5Gckt9eTntw//ZOBke3TljS7QmcnzlIMlwn5GB/37/zCUBpOgj2aLj21ebQIIv7DCpegkq0LVy2Dxl7kIfGN9NU/awsazs4dvPv7FQ1bIZ5THNDAzS91U1nXb///+fYVJ3ZRoDh+b9+hnrEsgJfvxBtm6mGwOD9H0GJvn7XAwM97kZGe7L6nkfJjcFE1U6iDIw/GdgkPzPwCpzn5J8SbAEyctPmf2fgYGBgY3tQUB81AaKihtCrnl2/waHjqzsYVkF08OUlqGMo025UctGLRu1jGwAGAD/Nw2VQUWd1wAAAABJRU5ErkJggg==';
    return imgData;
  }


 function setCheckMark(doc, page, vGap){
    var data = c.data.tasks.variables;
   
    for(key in data){
			if(textFields.indexOf(key) &lt; 0 &amp;&amp; data[key] == 'true' ){
        if(page == 'page1'){
             locateMarkPage1(doc, key, vGap);
        }else if(page == 'page2'){
             locateMarkPage2(doc, key);
        }else if(page == 'page3'){
             locateMarkPage3(doc, key);  
        }
			}
    }
 }

function locateMarkPage1(doc, name, vGap){
	 var length = $('#projectName1').html().length;
	 var index = 0;
	 if(length &gt; 65){
		 index = 55;
	 }
   if(name == 'prospective'){
      doc.addImage(getImage(), 'jpeg', 270, 340 + index + vGap, 15, 15);
   }else if(name == 'restrospective'){
      doc.addImage(getImage(), 'jpeg', 270, 360 + index + vGap, 15, 15);
   }else if(name == 'human'){
      doc.addImage(getImage(), 'jpeg', 270, 411 + index + vGap, 15, 15);
   }else if( name == 'rat'){
	    doc.addImage(getImage(), 'jpeg', 270, 431 + index + vGap, 15, 15);
	 }else if(name == 'mouse'){
			doc.addImage(getImage(), 'jpeg', 270, 451 + index + vGap, 15, 15);
	 }else if(name == 'celegans'){
	    doc.addImage(getImage(), 'jpeg', 270, 471 + index + vGap, 15, 15);
	 }else if(name == 'drosophila'){
	    doc.addImage(getImage(), 'jpeg', 270, 491 + index + vGap, 15, 15);
	 }else if(name == 'yeast'){
	    doc.addImage(getImage(), 'jpeg', 270, 511 + index + vGap, 15, 15);
	 }else if(name == 'bacteria'){
	    doc.addImage(getImage(), 'jpeg', 270, 531 + index + vGap, 15, 15);
	 }else if(name == 'nonHuman'){
      doc.addImage(getImage(), 'jpeg', 270, 551 + index + vGap, 15, 15);
   }else if(name == 'germLine'){
      doc.addImage(getImage(), 'jpeg', 270, 571 + index + vGap, 15, 15);
   }else if(name == 'dnaType'){ 
      doc.addImage(getImage(), 'jpeg', 270, 591 + index + vGap, 15, 15);
   }else if(name == 'rnaType'){ 
      doc.addImage(getImage(), 'jpeg', 270, 611 + index + vGap, 15, 15);
   }else if(name == 'microbiome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 631 + index + vGap, 15, 15);
   }else if(name == 'mitochrondria'){ 
      doc.addImage(getImage(), 'jpeg', 270, 651 + index + vGap, 15, 15);
   }else if(name == 'otherType'){ 
      doc.addImage(getImage(), 'jpeg', 270, 671 + index + vGap, 15, 15);
   }
}

function locateMarkPage2(doc, name){
	 if(name == 'snpArrayData'){ 
      doc.addImage(getImage(), 'jpeg', 270, 50, 15, 15);
   }else if(name == 'expressionArray'){ 
      doc.addImage(getImage(), 'jpeg', 270, 70 , 15, 15);
   }else if(name == 'methylationArray'){ 
      doc.addImage(getImage(), 'jpeg', 270, 90, 15, 15);
   }else if(name == 'arrayDerive'){ 
      doc.addImage(getImage(), 'jpeg', 270, 110, 15, 15);
   }else if(name == 'microarrayData'){ 
      doc.addImage(getImage(), 'jpeg', 270, 130, 15, 15);
   }else if(name == 'sequenceData'){ 
      doc.addImage(getImage(), 'jpeg', 270, 150, 15, 15);
   }else if(name == 'somaticSnv'){ 
      doc.addImage(getImage(), 'jpeg', 270, 170, 15, 15);
   }else if(name == 'arrayCgh'){ 
      doc.addImage(getImage(), 'jpeg', 270, 190, 15, 15);
   }else if(name == 'wholeGenome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 210, 15, 15);
   }else if(name == 'wholeExome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 230, 15, 15);
   }else if(name == 'targetGenome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 250, 15, 15);
   }else if(name == 'targetExome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 270, 15, 15);
   }else if(name == 'wholeTranscriptome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 290, 15, 15);
   }else if(name == 'targetTrabscriptome'){ 
      doc.addImage(getImage(), 'jpeg', 270, 310, 15, 15);
   }else if(name == 'epigenomicMark'){ 
      doc.addImage(getImage(), 'jpeg', 270, 330, 15, 15);
   }else if(name == 'sanger'){ 
      doc.addImage(getImage(), 'jpeg', 270, 350, 15, 15);
   }else if(name == 'rrna'){ 
      doc.addImage(getImage(), 'jpeg', 270, 370, 15, 15);
   }else if(name == 'association'){ 
      doc.addImage(getImage(), 'jpeg', 270, 390, 15, 15);
   }else if(name == 'arrayDerivedExpression'){ 
      doc.addImage(getImage(), 'jpeg', 270, 410, 15, 15);
   }else if(name == 'rnaExpression'){ 
      doc.addImage(getImage(), 'jpeg', 270, 430, 15, 15);
   }else if(name == 'derivedMethylation'){ 
      doc.addImage(getImage(), 'jpeg', 270, 450, 15, 15);
   }else if(name == 'otherAnalysis'){ 
      doc.addImage(getImage(), 'jpeg', 270, 470, 15, 15);
   }else if(name == 'individual'){ 
      doc.addImage(getImage(), 'jpeg', 270, 490, 15, 15);
   }else if(name == 'aggregate'){ 
      doc.addImage(getImage(), 'jpeg', 270, 510, 15, 15);
   }else if(name == 'notApplicableDataForm'){ 
      doc.addImage(getImage(), 'jpeg', 270, 530, 15, 15);
   }else if(name == 'arrayExpress'){ 
      doc.addImage(getImage(), 'jpeg', 270, 550, 15, 15);
   }else if(name == 'cancerGenomics'){ 
      doc.addImage(getImage(), 'jpeg', 270, 570, 15, 15);
   }else if(name == 'clinVar'){ 
      doc.addImage(getImage(), 'jpeg', 270, 590, 15, 15);
   }else if(name == 'dbGap'){ 
      doc.addImage(getImage(), 'jpeg', 270, 610, 15, 15);
   }else if(name == 'dbSnp'){ 
      doc.addImage(getImage(), 'jpeg', 270, 630, 15, 15);
   }else if(name == 'dbVar'){ 
      doc.addImage(getImage(), 'jpeg', 270, 650, 15, 15);
   }else if(name == 'ena'){ 
      doc.addImage(getImage(), 'jpeg', 270, 670, 15, 15);
   }else if(name == 'geo'){ 
      doc.addImage(getImage(), 'jpeg', 270, 690, 15, 15);
   }else if(name == 'mgi'){ 
      doc.addImage(getImage(), 'jpeg', 270, 710, 15, 15);
   }
	/*else */
}

function locateMarkPage3(doc, name){
	 if(name == 'genBank'){ 
      doc.addImage(getImage(), 'jpeg', 270, 70, 15, 15);
   }else if(name == 'traceArchive'){ 
      doc.addImage(getImage(), 'jpeg', 270, 90, 15, 15);
   }else if(name == 'wormbase'){ 
      doc.addImage(getImage(), 'jpeg', 270, 110, 15, 15);
   }else if(name == 'sra'){ 
      doc.addImage(getImage(), 'jpeg', 270, 130, 15, 15);
   }else if(name == 'zfin'){ 
      doc.addImage(getImage(), 'jpeg', 270, 150, 15, 15);
   }else if(name == 'OtherRepository'){ 
      doc.addImage(getImage(), 'jpeg', 270, 170, 15, 15);
   }else if(name == 'phenotype'){ 
      doc.addImage(getImage(), 'jpeg', 270, 190, 15, 15);
   }else if(name == 'exposure'){ 
      doc.addImage(getImage(), 'jpeg', 270, 210, 15, 15);
   }else if(name == 'clinicalData'){ 
      doc.addImage(getImage(), 'jpeg', 270, 230, 15, 15);
   }else if(name == 'protocol'){ 
      doc.addImage(getImage(), 'jpeg', 270, 250, 15, 15);
   }else if(name == 'instrument'){ 
      doc.addImage(getImage(), 'jpeg', 270, 270, 15, 15);
   }else if(name == 'surveyTool'){ 
      doc.addImage(getImage(), 'jpeg', 270, 290, 15, 15);
   }else if(name == 'otherCompanion'){ 
      doc.addImage(getImage(), 'jpeg', 270, 310, 15, 15);
   }else if(name == 'dataCheck'){ 
      doc.addImage(getImage(), 'jpeg', 270, 375, 15, 15);
   }else if(name == 'publication'){ 
      doc.addImage(getImage(), 'jpeg', 270, 395, 15, 15);
   }else if(name == 'otherSubmission'){ 
      doc.addImage(getImage(), 'jpeg', 270, 415, 15, 15);
   }else if(name == 'noHumanData'){ 
      doc.addImage(getImage(), 'jpeg', 270, 435, 15, 15);
   }else if(name == 'noLimitation'){ 
      doc.addImage(getImage(), 'jpeg', 270, 455, 15, 15);
   }else if(name == 'limitedOnly'){ 
      doc.addImage(getImage(), 'jpeg', 270, 475, 15, 15);
   }else if(name == 'limitedPurpose'){ 
      doc.addImage(getImage(), 'jpeg', 270, 495, 15, 15);
   }else if(name == 'relateToDisease'){ 
	    doc.addImage(getImage(), 'jpeg', 270, 535, 15, 15);
   }
}

function addTableToPdf(doc, data, height){
   var res = doc.autoTableHtmlToJson(data);
   doc.autoTable(res.columns, res.data, {startX:60, startY: height, headerStyles:{fillColor: [204, 204, 204], textColor: [0, 0, 25]}, styles:{overflow: 'visible'}, columnStyles: { 0: {columnWidth: 250},  1: {columnWidth: 280}}});
}

function addTableToPdf1(doc, data, height){
	 console.log(data); 
   var res = doc.autoTableHtmlToJson(data);
   doc.autoTable(res.columns, res.data, {startX:60, startY: height, headerStyles:{fillColor: [204, 204, 204], textColor: [0, 0, 25]}, styles:{overflow: 'linebreak', columnWidth: 'wrap'}, columnStyles: { 0: {columnWidth: 50}, 1: {columnWidth: 100}, 2: {columnWidth: 60}, 3: {columnWidth: 250}, 4: {columnWidth: 70}}});
}

	
	
	
function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
					t = t.replace(/([\\n])/g, '');
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 59,comments[i].indexOf('(Additional comments)') + 67);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 68, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	return commentsblock;
}	

	function loadApprovalData(data){
    for(key in data){
			var value = getValue(key, data[key]);
			$('#'+key+"2").html(value);
			$('#'+key+"1").html(value);
		}
	}
	
  function getValue(name, value){
     if(textFields.indexOf(name) != -1 ){ 
        if(name == 'date'){
           return getConvertedValue(value, '1');
        }else{
           return value;
        }
     }else{
			  if(value == "true"){
           return '&lt;img src="ico-complete.gif" height="16" width="16" alt="Selected"/&gt;';
        }else{
           return '&lt;img src="ico-notstarted.gif" height="12" width = "16" alt="Non-Selected"/&gt;';
        }
     }
  }	
	
	function getConvertedValue(value, flag){
		 if(flag == '0'){
				var values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				var values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css/&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description&gt;This is the report page for GDSP application&lt;/description&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gdps-report-page-content&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDSP Report Page Content&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	  
		data.tasks = {};
	  var id = $sp.getParameter('itemId');
	  var ticket = $sp.getParameter('ticket');
	  var gr_requested_item = new GlideRecord('sc_req_item');
    gr_requested_item.addQuery('sys_id',id);
	  var gr = gs.getUser();  
    if (! (gr.isMemberOf('CCR_GPA') || gr.isMemberOf('CCR_SD_HUMAN') || gr.isMemberOf('CCR_SD_NON_HUMAN') ||gr.isMemberOf('CCR_GPA_ASST') || gr.isMemberOf('CCR_PSO'))) {
       var it_rd = gr_requested_item.addQuery('opened_by',gs.getUserID() );
			 it_rd.addOrCondition('request.requested_for', gs.getUserID());
    }
	
	  gr_requested_item.query();
		var comments = '';
    var items = {};
		if (gr_requested_item.getRowCount() &gt; 0 ) {
				gr_requested_item.next();
				var variables = gr_requested_item.variables;
				for (key in variables) {
						items[key] = variables[key].toString(); 
				}
		 }
    comments =  gr_requested_item.comments.getJournalEntry(-1);
    comments = gs.escaper(comments);
	
	  data.tasks.variables = items;
	  data.tasks.comments = comments;
	  data.tasks.gdsp_id = ticket;
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-20 15:26:26&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;01160574db12720054d8ff621f96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;293&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDSP Report Page Content&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_01160574db12720054d8ff621f96192a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-13 21:39:29&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt; 
  &lt;div class="row"&gt;
     &lt;img src="NCI-logo-full.jpg" height="50" alt="NCI LOGO"/&gt;
  &lt;/div&gt;
      &lt;div class="modal-header"&gt;
           &lt;div&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Genomic Data Sharing Plan&lt;/b&gt;&lt;/font&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
         &lt;div id="sdErrorMessage" style="display:none;"&gt; &lt;/div&gt;
         &lt;div&gt;
             &lt;table width="100%" border="0"&gt;
               &lt;tr&gt;
                   &lt;td colspan="2"&gt;&amp;#160; &amp;#160;&lt;/td&gt;
               &lt;/tr&gt;
               &lt;tr&gt;
                   &lt;td colspan="2"&gt;&lt;label&gt;&lt;b&gt;&lt;font size="3"&gt;GDSP Number - &lt;/font&gt;&lt;font size="2"&gt;&lt;span id='numId'&gt;&lt;/span&gt;&lt;/font&gt; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &lt;/b&gt;&lt;/label&gt;&lt;/td&gt;
               &lt;/tr&gt;
               &lt;tr&gt;
                   &lt;td colspan="2"&gt;&amp;#160; &amp;#160;&lt;/td&gt;
               &lt;/tr&gt;

               &lt;tr&gt;
                  &lt;td colspan="2"&gt;
                     &lt;fieldset class="scheduler-border"&gt;
                        &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Demographics&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                          &lt;table width="100%" border="0"&gt;
                             &lt;tr&gt;
                               &lt;td width="60%" align="right"&gt;&lt;label&gt;Principal Investigator&lt;/label&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;
                                 &lt;td width="40%" align="left"&gt;&lt;div id="investigator2"&gt;&lt;/div&gt;&lt;/td&gt;
                             &lt;/tr&gt;
                             &lt;tr&gt;
                                 &lt;td align="right"&gt;&lt;label&gt;Principal Investigator Title&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                 &lt;td align="left"&gt;&lt;div id="pTitle2"&gt;&lt;/div&gt;&lt;/td&gt;
                             &lt;/tr&gt;
                             &lt;tr&gt;
                                 &lt;td align="right"&gt;&lt;label&gt;Branch&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                 &lt;td align="left"&gt;&lt;div id="pBranch2"&gt;&lt;/div&gt;&lt;/td&gt;
                             &lt;/tr&gt;                            
                            &lt;tr&gt;
                                 &lt;td align="right"&gt;&lt;label&gt;Email&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                 &lt;td align="left"&gt;&lt;div id="email2"&gt;&lt;/div&gt;&lt;/td&gt;
                             &lt;/tr&gt;
                             &lt;tr&gt;
                                &lt;td align="right"&gt;&lt;label&gt;Phone&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td align="left"&gt;&lt;div id="phone2"&gt;&lt;/div&gt;&lt;/td&gt;
                             &lt;/tr&gt;
                             &lt;tr&gt;
                                &lt;td align="right"&gt;&lt;label&gt;Plan Submission Date&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td align="left"&gt;&lt;div id="date2"&gt;&lt;/div&gt;&lt;/td&gt;
                              &lt;/tr&gt;
                           &lt;/table&gt;   
                     &lt;/fieldset&gt;  
                  &lt;/td&gt;
               &lt;/tr&gt;
               &lt;tr&gt;
                  &lt;td colspan="2"&gt;
                      &lt;fieldset class="scheduler-border"&gt;
                        &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Project Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                          &lt;table width="100%" border="0"&gt;
                             &lt;tr&gt;
                                &lt;td width="60%" align="right"&gt;&lt;label&gt;Intramural Project (Z01), Grant, or Contract number (if available)&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td width="40%" align="left" style="font-family:arial;font-size:10;"&gt;&lt;div id="projectNumber2"&gt;&lt;/div&gt;&lt;/td&gt;
                              &lt;/tr&gt;                            
                             &lt;tr&gt;
                                &lt;td width="60%" align="right"&gt;&lt;label&gt;Study Name&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td width="40%" align="left" style="font-family:arial;font-size:10;"&gt;&lt;div id="projectName2"&gt;&lt;/div&gt;&lt;/td&gt;
                              &lt;/tr&gt;
                              &lt;tr&gt;
                                 &lt;td width="60%" align="right"&gt;&lt;label&gt;Plan enrollment/Sample Size&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                 &lt;td width="40%" align="left"&gt;&lt;div id="simpleSize2"&gt;&lt;/div&gt;&lt;/td&gt;
                              &lt;/tr&gt;
                              &lt;tr&gt;
                                &lt;td width="60%" align="right" valign="bottom"&gt;&lt;label&gt;Collection Type [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="prospective2"&gt;&lt;/span&gt;&amp;#160;&amp;#160;Prospective&lt;/td&gt;
                              &lt;/tr&gt;
                              &lt;tr&gt;
                                &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                                &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="restrospective2"&gt;&lt;/span&gt;&amp;#160;&amp;#160;Retrospective&lt;/td&gt;
                              &lt;/tr&gt;
                          &lt;/table&gt;
                      &lt;/fieldset&gt;                  
                  &lt;/td&gt;
               &lt;/tr&gt;
                &lt;tr&gt;
                  &lt;td colspan="2"&gt;
                     &lt;fieldset class="scheduler-border"&gt;
                        &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Data&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                          &lt;table width="100%" border="0"&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&lt;label&gt;Source [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="human2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Human&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="rat2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Rat&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="mouse2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mouse&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="celegans2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;C. elegans&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="drosophila2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Drosophila&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="yeast2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Yeast&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;(Species: &amp;nbsp;&lt;span id="yeastSpecies2"&gt;&lt;/span&gt;)&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="bacteria2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Bacteria&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;(Species: &amp;nbsp;&lt;span id="bacteriaSpecies2"&gt;&lt;/span&gt;)&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160;&lt;/td&gt;
                               &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="nonHuman2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;(Species: &amp;nbsp;&lt;span id="noHumanOther2"&gt;&lt;/span&gt;)&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160;&lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&lt;label&gt;Sample Types [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="germLine2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;GermLine&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="dnaType2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;DNA&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                           &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="rnaType2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;RNA &lt;/td&gt;
                             &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                           &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&lt;label&gt;&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="microbiome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Microbiome&lt;/td&gt;
                             &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="mitochrondria2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mitochrondria&lt;/td&gt;
                             &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                              &lt;td align="right"&gt;&amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="otherType2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifyOtherType2"&gt;&lt;/span&gt;&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&lt;/td&gt;
                            &lt;/tr&gt;
                          &lt;/table&gt;
                     &lt;/fieldset&gt;   
                  &lt;/td&gt;
               &lt;/tr&gt;
 
               &lt;tr&gt;
                  &lt;td colspan="2"&gt;
                     &lt;fieldset class="scheduler-border"&gt;
                        &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Type&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                          &lt;table width="100%" border="0"&gt;
                            &lt;tr&gt;
                              &lt;td width="60%" align="right" valign="bottom"&gt;&lt;label&gt;Array Data [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="snpArrayData2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;SNP Array&lt;/td&gt;
                              &lt;td width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numSNP2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="expressionArray2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Expression Array&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numExpression2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&lt;label&gt;&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="methylationArray2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Methylation Array&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numMethylation2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160;&lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td  width="60%" align="right" valign="bottom"&gt;&lt;label&gt;Genotypes [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td  width="20%" align="left" style="white-space:nowrap;"&gt;&lt;span id="arrayDerive2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Genotypes&lt;/td&gt;
                               &lt;td  width="20%" align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numDerivedGenotype2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="microarrayData2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;CNV calls from Microarray&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numMicroarrayData2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="sequenceData2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;CNV calls derived from Sequencing&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numSquenceData2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="somaticSnv2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Somatic SNV (.MAF)&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numSomaticSnv2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="arrayCgh2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array CGH CNVs&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numArrayCgh2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160;&lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&lt;label&gt;Sequence [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="wholeGenome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Genome&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numWholeGenome2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="wholeExome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Exome&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numWholeExome2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="targetGenome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Genome&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numTargetGenome2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="targetExome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Exome&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numTargetedExome2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="wholeTranscriptome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Transcriptome&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numWholeTranscriptome2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="targetTrabscriptome2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Transcriptome&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numTargetedTranscriptome2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="epigenomicMark2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Epigenomic Marks&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numEpigenomic2"&gt;&lt;/span&gt;&lt;/td&gt; 
                            &lt;/tr&gt;
                            &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="sanger2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Sanger&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numSanger2"&gt;&lt;/span&gt;&lt;/td&gt; 
                            &lt;/tr&gt;
                            &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="rrna2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;16S rRNA&lt;/td&gt;
                              &lt;td align="left" style="white-space:nowrap;"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples&amp;nbsp;&amp;nbsp;&lt;span id="numRrna2"&gt;&lt;/span&gt;&lt;/td&gt; 
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160; &lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&lt;label&gt;Analysis [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="association2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Association/Linkage&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="arrayDerivedExpression2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Expression&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="rnaExpression2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;RNA Seq Derived Expression&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td align="left" style="white-space:nowrap;"&gt;&lt;span id="derivedMethylation2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Methylation&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160; &lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="top"&gt;&lt;label&gt;Other&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="otherAnalysis2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="spcifiedOtherAnalysis2"&gt;&lt;/span&gt;&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160; &lt;/td&gt;&lt;/tr&gt;

                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&lt;label&gt;Data Form [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="individual2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Individual&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="aggregate2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Aggregate&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="notApplicableDataForm2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Not Applicable&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&lt;label&gt;Data Repository [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="arrayExpress2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Express&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="cancerGenomics2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Cancer Genomics Hub&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="clinVar2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;ClinVar&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="dbGap2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Genotypes and Phenotypes (dbGaP)&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                             &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                             &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="dbSnp2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Short Generic Variants (dbSNP)&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                              &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                              &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="dbVar2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Genomic Structure Variation (dbVar)&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="ena2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;European Nucleotide Archive (ENA)&lt;/td&gt;
                           &lt;/tr&gt;
                           &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="geo2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Gene Expression Omnibus (GEO)&lt;/td&gt;
                            &lt;/tr&gt;
                           &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="mgi2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mouse Genome Informatics (MGI)&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="genBank2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;GenBank&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="traceArchive2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Trace Archive&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="wormbase2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;WormBase&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="sra2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Sequence Read Archive (SRA)&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="zfin2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Zebrafish Model Organism Database (ZFIN)&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="OtherRepository2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifiedRepository2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="3"&gt;&amp;#160; &amp;#160; &lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&lt;label&gt;Companion Information [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="phenotype2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Phenotype&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="exposure2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Exposure&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="surveyTool2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Survey Tool&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td align="right"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="clinicalData2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Clinic Data&amp;#160; &amp;#160;&lt;span id="specifiedClinicalData2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td align="right"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="protocol2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Study/Protocol&amp;#160; &amp;#160;&lt;span id="specifiedProtocol2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td align="right"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                                &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="instrument2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Data Collection instrument&amp;#160; &amp;#160;&lt;span id="specifiedInstrument2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td align="right"&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
                                &lt;td colspan="2" align="left" style="white-space:nowrap;"&gt;&lt;span id="otherCompanion2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifiedCompanion2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                          &lt;/table&gt;
                      &lt;/fieldset&gt; 
                  &lt;/td&gt;
               &lt;/tr&gt;
               &lt;tr&gt;
                  &lt;td colspan="2"&gt;
                     &lt;fieldset class="scheduler-border"&gt;
                        &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Submission Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                          &lt;table width="100%" border="0"&gt;
                            &lt;tr&gt;
                              &lt;td width="60%" align="right"&gt;&lt;label&gt;Data Submission and Release Timeline&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                              &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="dataCheck2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Following data cleaning, analysis, and quality checks&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="publication2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;At the time of publication&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="otherSubmission2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="psecifiedOtherSubmission2"&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;&lt;td colspan="2"&gt;&amp;#160; &amp;#160; &lt;/td&gt;&lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&lt;label&gt;Data Use Limitation [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="noHumanData2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Not Applicable, no human data&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="noLimitation2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;No data use limitations&lt;/td&gt;
                            &lt;/tr&gt;

                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="limitedOnly2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Limited only by the terms of the Data Use Certification&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="limitedPurpose2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Limited to health/medical/biomedical purposes&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt; &lt;span id=""&gt;&lt;/span&gt;&amp;#160; &amp;#160; &amp;#160; &amp;#160;&amp;#160;doesn't include the study of population origins or ancestry &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                               &lt;td width="60%" align="right" valign="bottom"&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
                               &lt;td width="40%" align="left" style="white-space:nowrap;"&gt;&lt;span id="relateToDisease2"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Must be related to the specified disease&lt;/td&gt;
                            &lt;/tr&gt;
                          &lt;/table&gt;
                     &lt;/fieldset&gt;
                  &lt;/td&gt;
               &lt;/tr&gt;

              
              &lt;tr&gt;
                  &lt;td colspan="2"&gt;
                     &lt;div id="pre_comments_div1"&gt;
                     &lt;fieldset class="scheduler-border"&gt;
                        &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                        &lt;div id="commentReviewId2"&gt;&lt;/div&gt;
                     &lt;/fieldset&gt;
                   &lt;/div&gt;
                  &lt;/td&gt;
               &lt;/tr&gt;
             &lt;/table&gt;  
          &lt;/div&gt;
       &lt;/div&gt;
      &lt;/div&gt;


&lt;div id="printable3"&gt;
 &lt;font size="4"&gt;&lt;b&gt;Genomic Data Sharing Plan - &lt;/b&gt;&lt;/font&gt;&lt;font size="4"&gt;&lt;span id='numId2'&gt;&lt;/span&gt;&lt;/font&gt;
&lt;/div&gt;
&lt;div id="printable4"&gt;
 &lt;table border="0" width="60%" id="data1"&gt;
      &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Demographics&lt;/b&gt;&lt;/td&gt;&lt;td width="50%"&gt;&lt;/td&gt;&lt;/tr&gt;
       &lt;tr&gt; 
           &lt;td&gt;Principal Investigator&lt;/td&gt;
         	&lt;td&gt;&lt;span id="investigator1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
           &lt;td&gt;&lt;label&gt;Principal Investigator Title&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
           &lt;td&gt;&lt;span id="pTitle1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
           &lt;td&gt;&lt;label&gt;Branch&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
           &lt;td&gt;&lt;span id="pBranch1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
           &lt;td&gt;&lt;label&gt;Email&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
           &lt;td&gt;&lt;span id="email1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
           &lt;td&gt;&lt;label&gt;Phone&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
           &lt;td&gt;&lt;span id="phone1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
           &lt;td&gt;&lt;label&gt;Plan Submission Date&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
           &lt;td&gt;&lt;span id="date1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
 &lt;/table&gt;
 &lt;table border="0" width="60%" id="data2"&gt;
      &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Project Information&lt;/b&gt;&lt;/td&gt;&lt;td width="50%"&gt;&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Intramural Project (Z01), Grant, or Contract number&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="projectNumber1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Study Name&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="projectName1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Plan enrollment/Sample Size&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="simpleSize1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label&gt;Collection Type [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="prospective1"&gt;&lt;/span&gt;Prospective&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="restrospective1"&gt;&lt;/span&gt;Retrospective&lt;/td&gt;
      &lt;/tr&gt;
 &lt;/table&gt;
 &lt;table border="0" width="60%" id="data25"&gt;
      &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Project Information&lt;/b&gt;&lt;/td&gt;&lt;td width="50%"&gt;&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Intramural Project (Z01), Grant, or Contract number&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="projectNumber1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt; 
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Project Name&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="projectName15"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;&amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="extra1" style="display:none;"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt; 
         &lt;tr&gt;
          &lt;td&gt;&amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="extra2" style="display:none;"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt; 
        &lt;tr&gt;
          &lt;td&gt;&amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="extra3" style="display:none;"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;!--tr&gt;
          &lt;td&gt;&amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="extra4" style="display:none;"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr--&gt; 
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Plan enrollment/Sample Size&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="simpleSize15"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label&gt;Collection Type [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="prospective15"&gt;&lt;/span&gt;Prospective&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="restrospective15"&gt;&lt;/span&gt;Retrospective&lt;/td&gt;
      &lt;/tr&gt;
 &lt;/table&gt;
 &lt;table border="0" width="60%" id="data3"&gt;
       &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Data&lt;/b&gt;&lt;/td&gt;&lt;td width="50%"&gt;&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Source [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="human1"&gt;&lt;/span&gt;Human&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="rat1"&gt;&lt;/span&gt;Rat&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="mouse1"&gt;&lt;/span&gt;Mouse&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="celegans1"&gt;&lt;/span&gt;C. elegans&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="drosophila1"&gt;&lt;/span&gt;Drosophila&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;
           &lt;span id="yeast1"&gt;&lt;/span&gt;Yeast
           &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (Species: &amp;nbsp;&amp;nbsp; &lt;span id="yeastSpecies1"&gt;&lt;/span&gt;)
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;
           &lt;span id="bacteria1"&gt;&lt;/span&gt;Bacteria
           &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (Species: &amp;nbsp;&amp;nbsp; &lt;span id="bacteriaSpecies1"&gt;&lt;/span&gt;) 
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160;&lt;/td&gt;
         &lt;td&gt;
           &lt;span id="nonHuman1"&gt;&lt;/span&gt;Other
           &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (Species: &amp;nbsp;&amp;nbsp; &lt;span id="noHumanOther1"&gt;&lt;/span&gt;)
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;label&gt;Sample Types [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="germLine1"&gt;&lt;/span&gt;GermLine&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="dnaType1"&gt;&lt;/span&gt;DNA&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="rnaType1"&gt;&lt;/span&gt;RNA &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label&gt;&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="microbiome1"&gt;&lt;/span&gt;Microbiome&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="mitochrondria1"&gt;&lt;/span&gt;Mitochrondria&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&amp;#160; &amp;#160;&lt;/td&gt;
        &lt;td&gt;&lt;span id="otherType1"&gt;&lt;/span&gt;Other&amp;#160; &amp;#160;&lt;span id="specifyOtherType1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt; 
 &lt;/table&gt;
 &lt;table border="0" width="60%" id="data4"&gt;
     &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Type&lt;/b&gt;&lt;/td&gt;&lt;td width="25%"&gt;&lt;/td&gt;&lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Array Data [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="snpArrayData1"&gt;&lt;/span&gt;SNP Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSNP1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="expressionArray1"&gt;&lt;/span&gt;Expression Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numExpression1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="methylationArray1"&gt;&lt;/span&gt;Methylation Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numMethylation1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
    &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Genotypes [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="arrayDerive1"&gt;&lt;/span&gt;Array Derived Genotypes&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numDerivedGenotype1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="microarrayData1"&gt;&lt;/span&gt;CNV calls from Microarray&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numMicroarrayData1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="sequenceData1"&gt;&lt;/span&gt;CNV calls derived from Sequencing&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSquenceData1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="somaticSnv1"&gt;&lt;/span&gt;Somatic SNV (.MAF)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSomaticSnv1"&gt;&lt;/span&gt;&lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="arrayCgh1"&gt;&lt;/span&gt;Array CGH CNVs&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numArrayCgh1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Sequence [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="wholeGenome1"&gt;&lt;/span&gt;Whole Genome&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeGenome1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="wholeExome1"&gt;&lt;/span&gt;Whole Exome&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeExome1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="targetGenome1"&gt;&lt;/span&gt;Targeted Genome&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetGenome1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="targetExome1"&gt;&lt;/span&gt;Targeted Exome&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetedExome1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="wholeTranscriptome1"&gt;&lt;/span&gt;Whole Transcriptome&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeTranscriptome1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="targetTrabscriptome1"&gt;&lt;/span&gt;Targeted Transcriptome&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetedTranscriptome1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="epigenomicMark1"&gt;&lt;/span&gt;Epigenomic Marks&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numEpigenomic1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="sanger1"&gt;&lt;/span&gt;Sanger&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSanger1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="rrna1"&gt;&lt;/span&gt;16S rRNA&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numRrna1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Analysis [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="association1"&gt;&lt;/span&gt;Association/Linkage&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="arrayDerivedExpression1"&gt;&lt;/span&gt;Array Derived Expression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="rnaExpression1"&gt;&lt;/span&gt;RNA Seq Derived Expression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="derivedMethylation1"&gt;&lt;/span&gt;Array Derived Methylation&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;label&gt;Other&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="otherAnalysis1"&gt;&lt;/span&gt;Other&amp;#160; &amp;#160;&lt;span id="spcifiedOtherAnalysis1"&gt;&lt;/span&gt;&lt;/td&gt;
       &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td &gt;&lt;label&gt;Data Form [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td &gt;&lt;span id="individual1"&gt;&lt;/span&gt;Individual&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="aggregate1"&gt;&lt;/span&gt;Aggregate&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="notApplicableDataForm1"&gt;&lt;/span&gt;Not Applicable&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Data Repository [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="arrayExpress1"&gt;&lt;/span&gt;Array Express&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="cancerGenomics1"&gt;&lt;/span&gt;Cancer Genomics Hub&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="clinVar1"&gt;&lt;/span&gt;ClinVar&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="dbGap1"&gt;&lt;/span&gt;Database of Genotypes and Phenotypes (dbGaP)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="dbSnp1"&gt;&lt;/span&gt;Database of Short Generic Variants (dbSNP)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="dbVar1"&gt;&lt;/span&gt;Database of Genomic Structure Variation (dbVar)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="ena1"&gt;&lt;/span&gt;European Nucleotide Archive (ENA)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="geo1"&gt;&lt;/span&gt;Gene Expression Omnibus (GEO)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="mgi1"&gt;&lt;/span&gt;Mouse Genome Informatics (MGI)&lt;/td&gt;
      &lt;/tr&gt;

   &lt;/table&gt;
   &lt;table border="0" width="60%" id="data6"&gt;
      &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Type&lt;/b&gt;&lt;/td&gt;&lt;td width="50%"&gt;&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="genBank1"&gt;&lt;/span&gt;GenBank&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="traceArchive1"&gt;&lt;/span&gt;Trace Archive&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="wormbase1"&gt;&lt;/span&gt;WormBase&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="sra1"&gt;&lt;/span&gt;Sequence Read Archive (SRA)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="zfin1"&gt;&lt;/span&gt;Zebrafish Model Organism Database (ZFIN)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="OtherRepository1"&gt;&lt;/span&gt;Other&amp;#160; &amp;#160;&lt;span id="specifiedRepository1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Companion Information [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="phenotype1"&gt;&lt;/span&gt;Phenotype&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="exposure1"&gt;&lt;/span&gt;Exposure&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="surveyTool1"&gt;&lt;/span&gt;Survey Tool&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
          &lt;td&gt;&lt;span id="clinicalData1"&gt;&lt;/span&gt;Clinic Data&amp;#160; &amp;#160;&lt;span id="specifiedClinicalData1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="protocol1"&gt;&lt;/span&gt;Study/Protocol&amp;#160; &amp;#160;&lt;span id="specifiedProtocol1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="instrument1"&gt;&lt;/span&gt;Data Collection instrument&amp;#160; &amp;#160;&lt;span id="specifiedInstrument1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160; &lt;/td&gt;
         &lt;td&gt;&lt;span id="otherCompanion1"&gt;&lt;/span&gt;Other&amp;#160; &amp;#160;&lt;span id="specifiedCompanion1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
   &lt;/table&gt;
   &lt;table width="60%" border="0" id="data7"&gt;
      &lt;tr&gt;&lt;td width="50%"&gt;&lt;b&gt;Submission Information&lt;/b&gt;&lt;/td&gt;&lt;td width="50%"&gt;&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Data Submission and Release Timeline&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="dataCheck1"&gt;&lt;/span&gt;Following data cleaning, analysis, and quality checks&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="publication1"&gt;&lt;/span&gt;At the time of publication&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="otherSubmission1"&gt;&lt;/span&gt;Other&amp;#160; &amp;#160;&lt;span id="psecifiedOtherSubmission1"&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;label&gt;Data Use Limitation [Check all that apply]&lt;/label&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="noHumanData1"&gt;&lt;/span&gt;Not Applicable, no human data&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="noLimitation1"&gt;&lt;/span&gt;No data use limitations&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="limitedOnly1"&gt;&lt;/span&gt;Limited only by the terms of the Data Use Certification&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="limitedPurpose1"&gt;&lt;/span&gt;Limited to health/medical/biomedical purposes&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt; &lt;span id=""&gt;&lt;/span&gt;doesn't include the study of population origins or ancestry &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&amp;#160; &amp;#160; &amp;#160;&lt;/td&gt;
         &lt;td&gt;&lt;span id="relateToDisease1"&gt;&lt;/span&gt;Must be related to the specified disease&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/table&gt;
 
  &lt;div id="commentReviewId3"&gt;&lt;/div&gt;
  &lt;br&gt;&lt;br&gt;&lt;br&gt;
 &lt;input type="hidden" name="img_val" id="img_val" value="" /&gt;       
 &lt;input type="hidden" name="pName" id="pName"/&gt;  
  
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-358212309</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>65f9c652dbd7570054d8ff621f961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1649595a4780000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDSP Report Page Content</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>3b7d6255f81b93006a16113b42b5f91f</update_guid>
<update_guid_history>3b7d6255f81b93006a16113b42b5f91f:-358212309,dc6d2e959e1b93009898f68ad8ce5c98:-1438422981,c540ea28adfecb00aabde6c792de6370:-425565397,5ebfd62894fecb0091323d64a41d4328:-1582142754,c29f5ae410fecb00e2a0850e6fe38700:5464300,b76f92a43afecb00b82211d0377485c2:-1582142754,035f5ee057fecb0076980e9083416573:248013622,8e4f56e432fecb0038656b0bfb56187d:-1582142754,3c2fd2a416fecb00c3ae99784c7ddf4a:-860288766,72ee12242dfecb00fd93e9e0e9e1fc73:-1582142754,767ed2a4b1fecb00f0b5388281922c44:-225020354,b26e56a4e9fecb00950716ed9b911e26:398604707,a41e922452fecb004494b21d51b58024:-1512505731,680e1e6498fecb00dc30673f2e6372ca:1494976188,0a5ddee030fecb00d74d329dd75ac4cd:235964874,-1427975039:-1427975039,1682068153:1682068153,316863321:316863321,-1135437227:-1135437227,1078112196:1078112196,-450566309:-450566309,207490811:207490811,1995293764:1995293764,207490811:207490811</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>wf_workflow_3d0f6870db66830054d8ff621f961923</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="wf_workflow_version"&gt;&lt;wf_workflow_version action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;activity_stages&gt;{"subflows":[],"stages":{"e57692d0dbdb534054d8ff621f9619f1":{"order":100,"duration":"","stageId":"e57692d0dbdb534054d8ff621f9619f1","name":"Requested","value":"Requested"},"e57692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"e57692d0dbdb534054d8ff621f9619f0","name":"SD Approved","value":"SD Approved"},"e97692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"e97692d0dbdb534054d8ff621f9619f0","name":"GPA Approved","value":"GPA Approved"},"e17692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"e17692d0dbdb534054d8ff621f9619f0","name":"SD Rejected","value":"SD Rejected"},"697692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"697692d0dbdb534054d8ff621f9619f0","name":"Waiting for PI Resubmit","value":"pi_resubmit"},"e17692d0dbdb534054d8ff621f9619f1":{"order":100,"duration":"","stageId":"e17692d0dbdb534054d8ff621f9619f1","name":"Waiting for SD Review","value":"sd_review"},"ed7692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"ed7692d0dbdb534054d8ff621f9619f0","name":"Completed","value":"completed"},"ed7692d0dbdb534054d8ff621f9619ef":{"order":100,"duration":"","stageId":"ed7692d0dbdb534054d8ff621f9619ef","name":"SD Rejected - Waiting for GPA Review","value":"gpa_review"},"6d7692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"6d7692d0dbdb534054d8ff621f9619f0","name":"GPA Rejected","value":"GPA Rejected"},"657692d0dbdb534054d8ff621f9619f0":{"order":100,"duration":"","stageId":"657692d0dbdb534054d8ff621f9619f0","name":"Waiting for GPA Review","value":"gpa_review"}},"activities":{"ad7616d0dbdb534054d8ff621f96190e":"e57692d0dbdb534054d8ff621f9619f0","697616d0dbdb534054d8ff621f961905":"697692d0dbdb534054d8ff621f9619f0","ed7692d0dbdb534054d8ff621f9619f1":"e17692d0dbdb534054d8ff621f9619f1","ed7616d0dbdb534054d8ff621f961901":"e97692d0dbdb534054d8ff621f9619f0","b17616d0dbdb534054d8ff621f961921":"697692d0dbdb534054d8ff621f9619f0","657616d0dbdb534054d8ff621f96191f":"6d7692d0dbdb534054d8ff621f9619f0","e97616d0dbdb534054d8ff621f961910":"e17692d0dbdb534054d8ff621f9619f1","e57616d0dbdb534054d8ff621f961906":"657692d0dbdb534054d8ff621f9619f0","2d7616d0dbdb534054d8ff621f961903":"697692d0dbdb534054d8ff621f9619f0","a17616d0dbdb534054d8ff621f961909":"657692d0dbdb534054d8ff621f9619f0","6d7692d0dbdb534054d8ff621f9619f5":"ed7692d0dbdb534054d8ff621f9619ef","257616d0dbdb534054d8ff621f961908":"ed7692d0dbdb534054d8ff621f9619f0","297616d0dbdb534054d8ff621f96191d":"e57692d0dbdb534054d8ff621f9619f0","a17616d0dbdb534054d8ff621f961900":"6d7692d0dbdb534054d8ff621f9619f0","257616d0dbdb534054d8ff621f961916":"e57692d0dbdb534054d8ff621f9619f1","e97616d0dbdb534054d8ff621f96191b":"e57692d0dbdb534054d8ff621f9619f0","ad7616d0dbdb534054d8ff621f961919":"e17692d0dbdb534054d8ff621f9619f0","617616d0dbdb534054d8ff621f961918":"e17692d0dbdb534054d8ff621f9619f0","217692d0dbdb534054d8ff621f9619f4":"6d7692d0dbdb534054d8ff621f9619f0"},"ends":["2d7616d0dbdb534054d8ff621f961915"]}&lt;/activity_stages&gt;&lt;after_business_rules&gt;false&lt;/after_business_rules&gt;&lt;checked_out/&gt;&lt;checked_out_by/&gt;&lt;column_renderer display_value="Workflow-driven"&gt;a56213111b030100adca1e094f0713ac&lt;/column_renderer&gt;&lt;condition/&gt;&lt;condition_type&gt;run_match&lt;/condition_type&gt;&lt;description&gt;This is Genomic Data Sharing Plan Work Flow&lt;/description&gt;&lt;expected_sequences&gt;e17616d0dbdb534054d8ff621f96190e,257616d0dbdb534054d8ff621f961916,e57616d0dbdb534054d8ff621f961906,a17616d0dbdb534054d8ff621f961909,ed7616d0dbdb534054d8ff621f961901,ed7692d0dbdb534054d8ff621f9619f1,e97616d0dbdb534054d8ff621f961910,e97616d0dbdb534054d8ff621f96191b,297616d0dbdb534054d8ff621f96191d,ad7616d0dbdb534054d8ff621f96190e,257616d0dbdb534054d8ff621f961908,2d7616d0dbdb534054d8ff621f961915&lt;/expected_sequences&gt;&lt;expected_time/&gt;&lt;expected_time_type/&gt;&lt;full_sequences&gt;e17616d0dbdb534054d8ff621f96190e,257616d0dbdb534054d8ff621f961916,e57616d0dbdb534054d8ff621f961906,a17616d0dbdb534054d8ff621f961909,ed7616d0dbdb534054d8ff621f961901,657616d0dbdb534054d8ff621f96191f,ed7692d0dbdb534054d8ff621f9619f1,2d7616d0dbdb534054d8ff621f961903,e97616d0dbdb534054d8ff621f961910,b17616d0dbdb534054d8ff621f961921,e97616d0dbdb534054d8ff621f96191b,ad7616d0dbdb534054d8ff621f961919,2d7616d0dbdb534054d8ff621f961915,297616d0dbdb534054d8ff621f96191d,617616d0dbdb534054d8ff621f961918,ad7616d0dbdb534054d8ff621f96190e,6d7692d0dbdb534054d8ff621f9619f5,257616d0dbdb534054d8ff621f961908,a17616d0dbdb534054d8ff621f961900,217692d0dbdb534054d8ff621f9619f4,697616d0dbdb534054d8ff621f961905&lt;/full_sequences&gt;&lt;journal/&gt;&lt;max_activity_count&gt;100&lt;/max_activity_count&gt;&lt;name&gt;GDS GDSP Workflow&lt;/name&gt;&lt;not_cacheable&gt;false&lt;/not_cacheable&gt;&lt;on_cancel&gt;&lt;![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]&gt;&lt;/on_cancel&gt;&lt;order&gt;100&lt;/order&gt;&lt;pin_type&gt;set_by_activity&lt;/pin_type&gt;&lt;published&gt;true&lt;/published&gt;&lt;relative_duration/&gt;&lt;requires_ert&gt;true&lt;/requires_ert&gt;&lt;run_multiple&gt;false&lt;/run_multiple&gt;&lt;schedule/&gt;&lt;stage_field/&gt;&lt;stage_order&gt;computed&lt;/stage_order&gt;&lt;start display_value="Begin"&gt;e17616d0dbdb534054d8ff621f96190e&lt;/start&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217692d0dbdb534054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:25:37&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;timezone&gt;US/Eastern&lt;/timezone&gt;&lt;validated&gt;false&lt;/validated&gt;&lt;workflow display_value="GDS GDSP Workflow"&gt;3d0f6870db66830054d8ff621f961923&lt;/workflow&gt;&lt;/wf_workflow_version&gt;&lt;wf_workflow action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;description&gt;This is Genomic Data Sharing Plan Work Flow&lt;/description&gt;&lt;name&gt;GDS GDSP Workflow&lt;/name&gt;&lt;preview/&gt;&lt;sys_class_name&gt;wf_workflow&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-11-17 20:11:44&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_id&gt;3d0f6870db66830054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS GDSP Workflow&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;wf_workflow_3d0f6870db66830054d8ff621f961923&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-11-17 20:11:58&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;template&gt;false&lt;/template&gt;&lt;vars/&gt;&lt;/wf_workflow&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Completed&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;completed&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GPA Approved&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;GPA Approved&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GPA Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;GPA Rejected&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected - Waiting for GPA Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for GPA Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected - Waiting for PI Resubmit&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657692d0dbdb534054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;pi_resubmit&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for PI Resubmit&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;pi_resubmit&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Requested&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57692d0dbdb534054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Requested&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Approved&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;SD Approved&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;SD Rejected&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for SD Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17692d0dbdb534054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;sd_review&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Submitted&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617692d0dbdb534054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Submitted&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for Approval&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617692d0dbdb534054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;waiting&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Begin"&gt;c7a5e32c0a0a0b3a002377c24ed8ea76&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;4&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Begin&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;114&lt;/x&gt;&lt;y&gt;101&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=e17616d0dbdb534054d8ff621f96190e"/&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Begin"&gt;e17616d0dbdb534054d8ff621f96190e&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;8&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;CCR GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;657692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;335&lt;/x&gt;&lt;y&gt;237&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=a17616d0dbdb534054d8ff621f961909"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961909&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;a17616d0dbdb534054d8ff621f961909&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;a17616d0dbdb534054d8ff621f961909&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;6&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;CCR GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected - Waiting for GPA Review"&gt;ed7692d0dbdb534054d8ff621f9619ef&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;811&lt;/x&gt;&lt;y&gt;483&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=6d7692d0dbdb534054d8ff621f9619f5"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2176d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2576d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2576d2d0dbdb534054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2976d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d76d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6176d2d0dbdb534054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6576d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6976d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d76d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a176d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a576d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a976d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad76d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e176d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e576d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e976d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed76d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6976d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2976d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2576d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6576d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6176d2d0dbdb534054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e576d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d76d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e176d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2176d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e976d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a176d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a576d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d76d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed76d2d0dbdb534054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2576d2d0dbdb534054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a976d2d0dbdb534054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad76d2d0dbdb534054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6976d2d0dbdb534054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e976d2d0dbdb534054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;13&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;CCR Scientific Director&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;e17692d0dbdb534054d8ff621f9619f1&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:25:31&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;812&lt;/x&gt;&lt;y&gt;130&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=e97616d0dbdb534054d8ff621f961910"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:25:31&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f961910&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:25:31&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR Scientific Director"&gt;e97616d0dbdb534054d8ff621f961910&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR Scientific Director"&gt;e97616d0dbdb534054d8ff621f961910&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;10&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;email to CCR GPA for SD Rejection&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;e17692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;813&lt;/x&gt;&lt;y&gt;270&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=ad7616d0dbdb534054d8ff621f961919"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Science Director rejected this request&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Science Director rejected this request&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f961919&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="email to CCR GPA for SD Rejection"&gt;ad7616d0dbdb534054d8ff621f961919&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;17&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to GPA ASST&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Rejected"&gt;6d7692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;960&lt;/x&gt;&lt;y&gt;613&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=217692d0dbdb534054d8ff621f9619f4"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617692d0dbdb534054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617692d0dbdb534054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;217692d0dbdb534054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297692d0dbdb534054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to GPA ASST"&gt;217692d0dbdb534054d8ff621f9619f4&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57692d0dbdb534054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;14&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to GPA ASST&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Rejected"&gt;6d7692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;326&lt;/x&gt;&lt;y&gt;443&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=657616d0dbdb534054d8ff621f96191f"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;657616d0dbdb534054d8ff621f96191f&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to GPA ASST"&gt;657616d0dbdb534054d8ff621f96191f&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;21&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter for completion&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Approved"&gt;e57692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;1301&lt;/x&gt;&lt;y&gt;179&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=297616d0dbdb534054d8ff621f96191d"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;297616d0dbdb534054d8ff621f96191d&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter for completion"&gt;297616d0dbdb534054d8ff621f96191d&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;20&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter for GPA approval&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Rejected"&gt;6d7692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;724&lt;/x&gt;&lt;y&gt;617&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=a17616d0dbdb534054d8ff621f961900"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;a17616d0dbdb534054d8ff621f961900&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter for GPA approval"&gt;a17616d0dbdb534054d8ff621f961900&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;19&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter for SD Rejection&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;e17692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;815&lt;/x&gt;&lt;y&gt;373&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=617616d0dbdb534054d8ff621f961918"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;617616d0dbdb534054d8ff621f961918&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter for SD Rejection"&gt;617616d0dbdb534054d8ff621f961918&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;22&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email tp PI Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;697692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;306&lt;/x&gt;&lt;y&gt;603&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=2d7616d0dbdb534054d8ff621f961903"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Requires Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Requires Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;2d7616d0dbdb534054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email tp PI Submitter"&gt;2d7616d0dbdb534054d8ff621f961903&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="End"&gt;c7a66f7d0a0a0b3a004544a6d2f14076&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;15&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;End&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;1187&lt;/x&gt;&lt;y&gt;757&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=2d7616d0dbdb534054d8ff621f961915"/&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;16&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;PI need to Resubmit&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;697692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;796&lt;/x&gt;&lt;y&gt;744&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=697616d0dbdb534054d8ff621f961905"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;697616d0dbdb534054d8ff621f961905&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;697616d0dbdb534054d8ff621f961905&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="PI need to Resubmit"&gt;697616d0dbdb534054d8ff621f961905&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;12&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;PI need to Resubmit&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;697692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b17616d0dbdb534054d8ff621f961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;303&lt;/x&gt;&lt;y&gt;735&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=b17616d0dbdb534054d8ff621f961921"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;b17616d0dbdb534054d8ff621f961921&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;357616d0dbdb534054d8ff621f961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;b17616d0dbdb534054d8ff621f961921&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;357616d0dbdb534054d8ff621f961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="PI need to Resubmit"&gt;b17616d0dbdb534054d8ff621f961921&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;797616d0dbdb534054d8ff621f961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;7&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Retain the copy for a record - PSO&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Approved"&gt;e57692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;1253&lt;/x&gt;&lt;y&gt;351&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=ad7616d0dbdb534054d8ff621f96190e"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;nciprotocolsupport@mail.nih.gov&lt;/value&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url = url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gdsp_report_page&amp;amp;itemId='+current.sys_id + '&amp;amp;ticket=' + ticketNum;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;nciprotocolsupport@mail.nih.gov&lt;/value&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url = url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gdsp_report_page&amp;amp;itemId='+current.sys_id + '&amp;amp;ticket=' + ticketNum;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Retain the copy for a record - PSO"&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;11&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Retain the copy for a record for CCR All Group&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Approved"&gt;e57692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;1074&lt;/x&gt;&lt;y&gt;168&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=e97616d0dbdb534054d8ff621f96191b"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_itemId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e97616d0dbdb534054d8ff621f96191b&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17616d0dbdb534054d8ff621f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Retain the copy for a record for CCR All Group"&gt;e97616d0dbdb534054d8ff621f96191b&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;2&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Review is completed&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;ed7692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;1247&lt;/x&gt;&lt;y&gt;525&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=257616d0dbdb534054d8ff621f961908"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Review is completed"&gt;257616d0dbdb534054d8ff621f961908&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e97616d0dbdb534054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;5&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to GPA and GPA ASST&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;657692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;65&lt;/x&gt;&lt;y&gt;362&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=e57616d0dbdb534054d8ff621f961906"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;297616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;e57616d0dbdb534054d8ff621f961906&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to GPA and GPA ASST"&gt;e57616d0dbdb534054d8ff621f961906&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;9&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to SD&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;e17692d0dbdb534054d8ff621f9619f1&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;575&lt;/x&gt;&lt;y&gt;112&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=ed7692d0dbdb534054d8ff621f9619f1"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e17692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697692d0dbdb534054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to SD"&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57692d0dbdb534054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;1&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to Submiter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Approved"&gt;e97692d0dbdb534054d8ff621f9619f0&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;332&lt;/x&gt;&lt;y&gt;45&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=ed7616d0dbdb534054d8ff621f961901"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been Approved by GPA and sent for SD for review';	&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Request has been approved by GPA - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;617616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;217616d0dbdb534054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Request has been approved by GPA - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;6d7616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been Approved by GPA and sent for SD for review';	&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;ed7616d0dbdb534054d8ff621f961901&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;e57616d0dbdb534054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to Submiter"&gt;ed7616d0dbdb534054d8ff621f961901&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;3&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to Submiter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Requested"&gt;e57692d0dbdb534054d8ff621f9619f1&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;257616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;x&gt;67&lt;/x&gt;&lt;y&gt;226&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=257616d0dbdb534054d8ff621f961916"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a57616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;657616d0dbdb534054d8ff621f961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;ed7616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17616d0dbdb534054d8ff621f961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;697616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;257616d0dbdb534054d8ff621f961916&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;2d7616d0dbdb534054d8ff621f961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to Submiter"&gt;257616d0dbdb534054d8ff621f961916&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a97616d0dbdb534054d8ff621f961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;657616d0dbdb534054d8ff621f961903&lt;/condition&gt;&lt;from display_value="Send Notification to Submiter"&gt;ed7616d0dbdb534054d8ff621f961901&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;317616d0dbdb534054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to SD"&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;617616d0dbdb534054d8ff621f96191d&lt;/condition&gt;&lt;from display_value="Retain the copy for a record for CCR All Group"&gt;e97616d0dbdb534054d8ff621f96191b&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;357616d0dbdb534054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter for completion"&gt;297616d0dbdb534054d8ff621f96191d&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;297616d0dbdb534054d8ff621f961901&lt;/condition&gt;&lt;from display_value="Email to Submitter for GPA approval"&gt;a17616d0dbdb534054d8ff621f961900&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;397616d0dbdb534054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Email to GPA ASST"&gt;217692d0dbdb534054d8ff621f9619f4&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;e97616d0dbdb534054d8ff621f96190d&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;a17616d0dbdb534054d8ff621f961909&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;3d7616d0dbdb534054d8ff621f961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Email to GPA ASST"&gt;657616d0dbdb534054d8ff621f96191f&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;257616d0dbdb534054d8ff621f961915&lt;/condition&gt;&lt;from display_value="CCR Scientific Director"&gt;e97616d0dbdb534054d8ff621f961910&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;3d7616d0dbdb534054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Retain the copy for a record for CCR All Group"&gt;e97616d0dbdb534054d8ff621f96191b&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;e976d2d0dbdb534054d8ff621f9619ff&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;757616d0dbdb534054d8ff621f961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter for GPA approval"&gt;a17616d0dbdb534054d8ff621f961900&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;257616d0dbdb534054d8ff621f96191b&lt;/condition&gt;&lt;from display_value="email to CCR GPA for SD Rejection"&gt;ad7616d0dbdb534054d8ff621f961919&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;797616d0dbdb534054d8ff621f961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter for SD Rejection"&gt;617616d0dbdb534054d8ff621f961918&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;257616d0dbdb534054d8ff621f961910&lt;/condition&gt;&lt;from display_value="Retain the copy for a record - PSO"&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;7d7616d0dbdb534054d8ff621f961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Review is completed"&gt;257616d0dbdb534054d8ff621f961908&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;a57692d0dbdb534054d8ff621f9619f5&lt;/condition&gt;&lt;from display_value="Email to GPA ASST"&gt;217692d0dbdb534054d8ff621f9619f4&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b17616d0dbdb534054d8ff621f961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="PI need to Resubmit"&gt;697616d0dbdb534054d8ff621f961905&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;a17616d0dbdb534054d8ff621f961905&lt;/condition&gt;&lt;from display_value="Email tp PI Submitter"&gt;2d7616d0dbdb534054d8ff621f961903&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b17616d0dbdb534054d8ff621f961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="PI need to Resubmit"&gt;b17616d0dbdb534054d8ff621f961921&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;217616d0dbdb534054d8ff621f961906&lt;/condition&gt;&lt;from display_value="PI need to Resubmit"&gt;697616d0dbdb534054d8ff621f961905&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b17616d0dbdb534054d8ff621f961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;2d7616d0dbdb534054d8ff621f961915&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;e97616d0dbdb534054d8ff621f961908&lt;/condition&gt;&lt;from display_value="Review is completed"&gt;257616d0dbdb534054d8ff621f961908&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b57616d0dbdb534054d8ff621f961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;2d7616d0dbdb534054d8ff621f961915&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;6d7616d0dbdb534054d8ff621f961907&lt;/condition&gt;&lt;from display_value="Send Notification to GPA and GPA ASST"&gt;e57616d0dbdb534054d8ff621f961906&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b57616d0dbdb534054d8ff621f961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="CCR GPA"&gt;a17616d0dbdb534054d8ff621f961909&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;e57616d0dbdb534054d8ff621f96190e&lt;/condition&gt;&lt;from display_value="Begin"&gt;e17616d0dbdb534054d8ff621f96190e&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b57616d0dbdb534054d8ff621f961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submiter"&gt;257616d0dbdb534054d8ff621f961916&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;6d7616d0dbdb534054d8ff621f96190d&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;a17616d0dbdb534054d8ff621f961909&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b97616d0dbdb534054d8ff621f961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submiter"&gt;ed7616d0dbdb534054d8ff621f961901&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;ad7616d0dbdb534054d8ff621f96191e&lt;/condition&gt;&lt;from display_value="Email to Submitter for completion"&gt;297616d0dbdb534054d8ff621f96191d&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b97616d0dbdb534054d8ff621f961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Retain the copy for a record - PSO"&gt;ad7616d0dbdb534054d8ff621f96190e&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;e57616d0dbdb534054d8ff621f961919&lt;/condition&gt;&lt;from display_value="Email to Submitter for SD Rejection"&gt;617616d0dbdb534054d8ff621f961918&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b97616d0dbdb534054d8ff621f961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="CCR GPA"&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;a57616d0dbdb534054d8ff621f961915&lt;/condition&gt;&lt;from display_value="CCR Scientific Director"&gt;e97616d0dbdb534054d8ff621f961910&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;bd7616d0dbdb534054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="email to CCR GPA for SD Rejection"&gt;ad7616d0dbdb534054d8ff621f961919&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;797616d0dbdb534054d8ff621f961921&lt;/condition&gt;&lt;from display_value="PI need to Resubmit"&gt;b17616d0dbdb534054d8ff621f961921&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;bd7616d0dbdb534054d8ff621f961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;2d7616d0dbdb534054d8ff621f961915&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;a97616d0dbdb534054d8ff621f961917&lt;/condition&gt;&lt;from display_value="Send Notification to Submiter"&gt;257616d0dbdb534054d8ff621f961916&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;bd7616d0dbdb534054d8ff621f961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to GPA and GPA ASST"&gt;e57616d0dbdb534054d8ff621f961906&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;6976d2d0dbdb534054d8ff621f9619ff&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;6d7692d0dbdb534054d8ff621f9619f5&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;f17616d0dbdb534054d8ff621f961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submiter"&gt;ed7616d0dbdb534054d8ff621f961901&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;e57692d0dbdb534054d8ff621f9619f3&lt;/condition&gt;&lt;from display_value="Send Notification to SD"&gt;ed7692d0dbdb534054d8ff621f9619f1&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;f97616d0dbdb534054d8ff621f961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="CCR Scientific Director"&gt;e97616d0dbdb534054d8ff621f961910&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;e97616d0dbdb534054d8ff621f961920&lt;/condition&gt;&lt;from display_value="Email to GPA ASST"&gt;657616d0dbdb534054d8ff621f96191f&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:56&lt;/sys_created_on&gt;&lt;sys_id&gt;fd7616d0dbdb534054d8ff621f961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:56&lt;/sys_updated_on&gt;&lt;to display_value="Email tp PI Submitter"&gt;2d7616d0dbdb534054d8ff621f961903&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_estimated_runtime_config action="INSERT_OR_UPDATE"&gt;&lt;estimated_run_time/&gt;&lt;no_of_data_points&gt;1&lt;/no_of_data_points&gt;&lt;percentage_threshold_ert&gt;20&lt;/percentage_threshold_ert&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-10 17:24:55&lt;/sys_created_on&gt;&lt;sys_id&gt;a17692d0dbdb534054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:24:55&lt;/sys_updated_on&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;217692d0dbdb534054d8ff621f9619ef&lt;/workflow_version&gt;&lt;/wf_estimated_runtime_config&gt;&lt;wf_workflow_version action="update_multiple" query="workflow=3d0f6870db66830054d8ff621f961923^sys_id!=217692d0dbdb534054d8ff621f9619ef"&gt;&lt;published&gt;false&lt;/published&gt;&lt;/wf_workflow_version&gt;&lt;/record_update&gt;</payload>
<payload_hash>1008024463</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>69f9c652dbd7570054d8ff621f961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164853a28290000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table>sc_ic_aprvl_defn_staging</table>
<target_name>GDS GDSP Workflow</target_name>
<type>Workflow</type>
<update_domain>global</update_domain>
<update_guid>c8a696d085db53402da7e630a8589d10</update_guid>
<update_guid_history>c8a696d085db53402da7e630a8589d10:1008024463,9aa5d690f6db5340c0e7f27178b09cd8:1534439189,5163d61022db53409b80f90a3f70574b:-792513205,96f1e564049a1bc06a779536b1234a9e:631483787,a18adcb4890a9f80c86bca004571f0fb:-1153333084,28f918b4410a9f80c1e4989bb7d24347:-1672757151,fdedc2926be68700866e605f1f2d1ecb:1997407286,a63b17e52f2207001b0a5541561fdd21:-552677263,251f20b016668300e910aaff21a447a5:366885049</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_b6f188c5dba6ba0054d8ff621f96198c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
	$("#datetimepicker").datetimepicker({format:'MM/DD/YYYY'}).on('dp.show', function() {
		$('.bootstrap-datetimepicker-widget li.accordion-toggle').hide();
	});
	$('[data-toggle="popover"]').popover(); 

	var c = this;
	var names=['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna']; 
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;

	var catItemId = '';
	var itemIdArray = {};
	//ajax call to fetch catItemId
	var req = {
				method: 'GET',
				url: '/api/naci/gdspapi/getCatItem',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {name: 'CCR Genomic Data Sharing Plan'}	
	}
	$http(req).then(function(response){
		 console.log(response);
		 catItemId = response.data.result[0].cat_item_id;
	});
	//end of ajax call
	//get variable array
	var req1 = {
				method: 'GET',
				url: '/api/naci/gdspapi/getGDSPVariableIdArray',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {email: 'zhoujim@nih.gov'}	
	}
	$http(req1).then(function(response){
		 console.log(response);
		 itemIdArray = response.data.result[0].itemId;
	});	
	//end of variable array
  
	//initialize autoComplete field
	  $( "#investigator" ).autocomplete({
		 delay: 500,
     source: function(request, response){
	       var term = $('#investigator').val();
				 var temp = '';
			   if(term.indexOf(',') &gt;= 0){
					 temp = term.split(',');
					 var length = temp.length;
					 if(length &gt; 1){
						 term = temp[1].trim() + " " + temp[0].trim();
					 }else{
						 term = temp[0];
					 }
				 }	 
	       var req = {
						method: 'GET',
						url: '/api/naci/gds/fetchUserList',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
	          headers: {
								'Content-Type': 'application/json'
						},
						params: {'term': term }
					};				
				   $http(req).then(handleResponse, handleError);
					function handleResponse(responseData) {
				      var result = responseData.data.result;
							response(result);
					}
					function handleError(response) {
					  console.error(response);
						alert('ERROR');
					}    
			},
      autoFocus:true,
      select: function( event, ui ) {
				console.log(event, ui);
				var id = ui.item.id;
		        var email = ui.item.email;
		        var phone = ui.item.phone;
				var title = ui.item.title;
				var name = (ui.item.value || '').split(' ');
				$('#inUserId').val(id);
			  if(name != null &amp;&amp; name.length &gt; 1){
					$('#inFirstName').val(name[0]);
					$('#inLastName').val(name[1]);
				    $('#email').val(email);
				    $('#phone').val(phone);
					  $('#pTitle').val(title);
				}else{
					$('#inFirstName').val('');
					$('#inLastName').val('');
				    $('#email').val('');
				    $('#phone').val('');
					  $('#pTitle').val('');
				}
			}
  });
	
	var requestModal = $('#loadedRequests');
	$scope.closeModal = function(){
		$('#refresh').val('0');
		requestModal.modal('hide');
	};

	$scope.processOtherValue = function(target1, target2){
		$('#refresh').val('0');
		 if($('#'+target1).is(':checked')){
			 $('#'+target2).prop('disabled', false);
		 }else{
			 $('#'+target2).val(''); 
			 $('#'+target2).prop('disabled', true);
		 }		
	};
	$scope.toggleNotApplicable = function(){
		$('#refresh').val('0');
			if($('#notApplicableDataForm').is(":checked")){
				$('#individual').attr("checked", false);
				$('#aggregate').attr("checked", false);
				$('#individual').attr("disabled", "disabled");
				$('#aggregate').attr("disabled","disabled");
			}else{
				$('#individual').removeAttr("disabled");
				$('#aggregate').removeAttr("disabled");
			}		
	};
	$scope.toggleNoHumanData = function(){
		$('#refresh').val('0');
    if($('#noHumanData').is(":checked")){
          $('#noLimitation').attr("checked", false);
          $('#noLimitation').attr("disabled", "disabled");
          $('#limitedOnly').attr("checked", false);
          $('#limitedOnly').attr("disabled", "disabled");
          $('#limitedPurpose').attr("checked", false);
          $('#limitedPurpose').attr("disabled", "disabled");
          $('#relateToDisease').attr("checked", false);
          $('#relateToDisease').attr("disabled", "disabled");
    }else{
          $('#noLimitation').removeAttr("disabled");
          $('#limitedOnly').removeAttr("disabled");
          $('#limitedPurpose').removeAttr("disabled");
          $('#relateToDisease').removeAttr("disabled");
    }		
	};
	$scope.submitSaveRequest = function(){
		$('#refresh').val('0');
			$('#errorMessage').hide();
			var variables = getGDSPData();
		  variables.gds_id = $('#hideGDSId').val();
			var gdspData = JSON.stringify(variables);
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: gdspData
			};
			$http(request).then(handleResponse, handleError);
		  function handleResponse(response){
				var result = response.data.result;
				$('#infoModal').modal('show');
				$('#messageInfo').html('The Genomic Data Sharing Plan has been saved successfully.');
			  $('#btnOkConfirm').off('click').click(function() {
            $('#infoModal').modal('hide');
        });
			}
		  function handleError(){
				console.error(response);
				alert('ERROR');
			}
      $('#loadedRequests').modal('hide');  
	}
	
	$scope.loadRequestConfirm = function(){
		$('#refresh').val('0');
		if(validation()){
			$('#loadedRequests .modal-content').scrollTop(0);
			$('#errorMessage').show();
			return;
		}else{
			var $confirm = $('#confirmSubmitDiv');
			$confirm.modal('show');
			$('#message1').html("Are you sure you want to submit this request?");		
			$('#btnYesConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				submitRequest();	
				$confirm.modal('hide');
				requestModal.modal('hide');
				$('#loading').show();
			});
			$('#btnNoConfirm').off('click').click(function() {
				$confirm.modal('hide');
			});
			
		}
	}
	
	$scope.loadResubmitConfirm = function(){
		$('#refresh').val('0');
		if(validation()){
			$('#loadedRequests .modal-content').scrollTop(0);
			$('#errorMessage').show();
			return;
		}else{	
			var $confirm = $('#confirmResubmitDiv');
			$confirm.modal('show');
			$('#message2').html("Are you sure you want to resubmit this request?");	
			$('#btnYesResubmitConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				$confirm.modal('hide');
				requestModal.modal('hide');
				$('#loading').show();
				resubmitRequest();	
			});
			$('#btnNoResubmitConfirm').off('click').click(function() {
				$confirm.modal('hide');
			});			
		}
	}
	
	$scope.searchUser = function(){
		$('#refresh').val('0');
		$('#first_name').val('');
		$('#last_name').val('');
		$('#userPageType').val('data');
		$('#userSelection').modal('show');
	}
	
	function resubmitRequest(){    
		var variables = {};
        var currentId = $('#ccr_id').val();
	
	 	variables.org_id = $('#'+currentId +'_orginId').val();
        variables.ticket_number = $('#'+currentId +'_ticket_num').val();
        if(currentId == $('#'+currentId +'_orginId').val()){
              variables.method = 'insert';
        }else{
              variables.method = 'update';
        }

		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/gsdspUtil',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: variables
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			var version = result.version;
			resubmit($('#'+currentId +'_orginId').val(), version, currentId);
		}
		function handleError(){
			console.error(response);
			alert('ERROR');
		}		
		
	}
	
	
	function formatHistoricComment(comment){
		if(comment.length&gt;= 50){
				 var index = comment.indexOf('Added comment to Approval record:');
				 return comment.substring(index);
		}else{
				 return  ' ';
		}
	}
	function resubmit(org_id, version, currentId){
     var variables= getGDSPEntryData();
		 variables.orginId = org_id;
		 variables.version = version;
		 var request_for_id = $('#inUserId').val();
		 if(request_for_id != null &amp;&amp; request_for_id.length &gt; 0){
			 variables.requested_for = request_for_id;	
		 }else{
			 variables.requested_for = userId ;
		 }
     variables.opened_by = userId;
     variables.contact_type = org_id +"="+version;
     variables.investigator = $('#investigator').val();
     variables.projectName = $('#projectName').val();	
     variables.cat_item = catItemId;
     variables.short_description = $('#hideGDSId').val();
		 var fixedComments = formatHistoricComment($('#resubmitCommentsId').val());
		variables.comments = fixedComments;
	
		variables.resubmit = 'true';
		 variables.variables= itemIdArray;
		 var gdspData = JSON.stringify(variables);
			var req = {
						method: 'POST',
						url: '/api/naci/gdspapi/submitRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: gdspData
			}
			$http(req).then(function(response){
				 console.log(response);
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 gdsp_id: data.id,
					 gdsp_number: data.ticketNum,
					 type: 'gdsp',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 console.log(response);
				});				
			});
	}
	
	function submitRequest(){
		var variables= getGDSPEntryData();
		if ($('#withdrawSubmitId').val() == 'true') {
				variables.comments = formatHistoricComment($('#withdrawCommentsId').val());
				variables.resubmit = 'true';
		}
    var request_for_id = $('#inUserId').val();

		if(request_for_id != null &amp;&amp; request_for_id.length &gt; 0){
			variables.requested_for = request_for_id;	
		}else{
			variables.requested_for = userId ;
		}
	   variables.opened_by = userId;
     variables.contact_type = 'Web';
		 variables.short_description = $('#hideGDSId').val();
     variables.investigator = $('#investigator').val();
     variables.projectName = $('#projectName').val();	
		 variables.cat_item = catItemId;
		 variables.variables = itemIdArray;
		 var gdspData = JSON.stringify(variables);
			var req = {
						method: 'POST',
						url: '/api/naci/gdspapi/submitRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: gdspData
			};
			$http(req).then(function(response){
				 console.log(response);
				 //update GDS table with GDSP id and GDSP number
				 //from response, we can get gdsp id and gdsp number
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 gdsp_id: data.id,
					 gdsp_number: data.ticketNum,
					 type: 'gdsp',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 //var data = response.data.result;
					 removeSavedRecordAfterSubmit();	
					 //add access to requested_for user
					 var gds_id = $('#hideGDSId').val();
					 var requested_for = $('#inUserId').val();
					 if(requested_for != userId){
						 var pi = $('#investigator').val();
						 var tmp = pi.trim().split(" ");
						 var userData = requested_for+"+"+tmp[0]+"+"+tmp[1];
						 saveUser(userData, gds_id, 'Read_and_Write');
					 }
				});
			});	   
	}
	
	function saveUser(userData, gdsId, access){
		var data1 = {
			data: userData,
			gds_id: gdsId,
			access: access,
			action: 'add'
		};
		var request = {
				method: 'POST',
				url: '/api/naci/gds/saveUser',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data1
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
	 }
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}		
	}
	
	function validation(){
		var errorMessage = '&lt;font size="2" color="red"&gt; &lt;ul&gt;';
		var flag = "false";
		clearRequiredFieldBackColor();
		if($('#investigator').val().trim().length == 0 || $('#inUserId').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Principal Investigator is a required field. When using autocomplete field, you need to select(click) PI from List &lt;/li&gt;';
			 $('#investigator').css("background-color", "yellow");
			 flag = 'true';
		 }
		if($('#pTitle').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Principal Investigator Title is a required field. &lt;/li&gt;';
			 $('#pTitle').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#email').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Email is a required field. &lt;/li&gt;';
			 $('#email').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#email').val().indexOf('@') == -1){
			 errorMessage = errorMessage + '&lt;li&gt;Incorrect Email address. &lt;/li&gt;';
			 $('#email').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#phone').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Phone is a required field. &lt;/li&gt;';
			 $('#phone').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#date').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Date is a required field. &lt;/li&gt;';
			 $('#date').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#projectName').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;project Name is a required field. &lt;/li&gt;';
			 $('#projectName').css("background-color", "yellow");
			 flag='true';
		} 
		if($('#simpleSize').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Plan Enrollment/Sample Size is a required field. &lt;/li&gt;';
			 $('#simpleSize').css("background-color", "yellow"); 
			 flag = 'true';
		} 
		if(!validateCollectionType()){
			 errorMessage = errorMessage + '&lt;li&gt;Collection Type at least one needs to be checked. &lt;/li&gt;';
			 $('#collectionTypeId').css("background-color", "yellow"); 
			 flag = 'true';
		}
		if(!validateDataSection()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Section at least one needs to be checked.(if the other is chosen, please specify the data item) &lt;/li&gt;';
			 $('#dataId').css("background-color", "yellow"); 
			 $('#data2Id').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateArrayGenoSequence()){
			 errorMessage = errorMessage + '&lt;li&gt;Array Data, GenoType, Sequence at least one needs to be checked.&lt;/li&gt;';
			 $('#arrayDataId').css("background-color", "yellow"); 
			 $('#genotypesId').css("background-color", "yellow"); 
			 $('#sequenceId').css("background-color", "yellow"); 
			 flag = 'true';
		}
		if(!validateAnalysisOther()){
			 errorMessage = errorMessage + '&lt;li&gt;Analysis, Other Analysis at least one needs to be checked.(if the other is chosen, please specify the other analysis)&lt;/li&gt;';
			 $('#analysisId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataForm()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Form at least one needs to be checked.&lt;/li&gt;';
			 $('#dataFormId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataRepository()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Repository at least one needs to be checked. (if Clinic Data/Study/Data Collection/Other is chosen, please specify the companion)&lt;/li&gt;';
			 $('#dataRepositoryId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateCompanion()){
			 errorMessage = errorMessage + '&lt;li&gt;Companion Information at least one needs to be checked. (if the other is chosen, please specify the other data repository)&lt;/li&gt;';
			 $('#companionInfoId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataSubmission()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Submission and Release Timeline at least one needs to be checked. (if the other is chosen, please specify the other data)&lt;/li&gt;';
			 $('#dataSubmissionId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataUseLimitation()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Use Limitation at least one needs to be checked.&lt;/li&gt;';
			 $('#dataUseId').css("background-color", "yellow");
			 flag = 'true';
		}

		 errorMessage = errorMessage + '&lt;/ul&gt;&lt;/font&gt;';

		 if(flag == 'true'){
				$('#errorMessage').html(errorMessage);
				return true;
		 }else{
				return false;
		 }
	}
	
	function getGDSPData(){
		var variables= {};
		var request_for_id = $('#selectedUserData').val();
		variables.application = 'GDSP';
		if(request_for_id != null &amp;&amp; request_for_id.length &gt; 0){
			variables.requested_for = request_for_id;	
		}else{
			variables.requested_for = userId ;
		}
		variables.opened_by = userId;
		 variables.value=''; 
	   variables.project_name='';
		 variables.saved_id=$('#saved_id').val();		
     var index = 0;
     for(index=0; index &lt; names.length; index++) {
          if (index != 0) variables.value += ',';
          if(textFields.indexOf(names[index]) &gt; -1 ){ 
             var value= $('#'+names[index]).val();
						 if (names[index] == 'projectName')
							 variables.project_name=value;
						 if (names[index] == 'date') {
								 value = getConvertedValue(value, '0');
						 }
						 variables.value +=  names[index] + '=' + value;
					}else {
							if($('#'+names[index]).is(':checked')){
									variables.value +=  names[index] + '=true';
							}else{
									variables.value +=  names[index] + '=false';
							} 
					}
      }
		variables.value += ',inFirstName=' + $('#inFirstName').val();
		variables.value += ',inLastName=' + $('#inLastName').val();
		variables.value += ',inUserId=' + $('#inUserId').val();
		
		return variables;
	}
	function getGDSPEntryData(){
		var variables = {};
     var index = 0;
     for(index=0; index &lt; names.length; index++) {
          if(textFields.indexOf(names[index]) &gt; -1 ){ 
             var value= $('#'+names[index]).val();
						 if (names[index] == 'date') {
								 value = getConvertedValue(value, '0');
						 }
						 variables[names[index]] = value;
					}else {
							if($('#'+names[index]).is(':checked')){
									variables[names[index]] = 'true';
							}else{
									variables[names[index]] = 'false';
							} 
					}
      }		
		//add gds_id to variables
		variables.gsd_id = $('#hideGDSId').val();
		return variables;
	}
	function clearRequiredFieldBackColor(){
		$('#investigator').css("background-color", "");
		$('#pTitle').css("background-color", "");
		$('#email').css("background-color", "");
		$('#phone').css("background-color", "");
		$('#date').css("background-color", "");
		$('#projectName').css("background-color", "");
		$('#simpleSize').css("background-color", ""); 
		$('#collectionTypeId').css("background-color", "");
		$('#dataId').css("background-color", "");  
		$('#specifyOtherType').css("background-color", "");
		$('#data2Id').css("background-color", "");  
		$('#arrayDataId').css("background-color", ""); 
		$('#genotypesId').css("background-color", ""); 
		$('#sequenceId').css("background-color", ""); 
		$('#analysisId').css("background-color", "");
		$('#spcifiedOtherAnalysis').css("background-color", "");
		$('#dataFormId').css("background-color", "");
		$('#dataRepositoryId').css("background-color", "");
		$('#specifiedRepository').css("background-color", "");
		$('#companionInfoId').css("background-color", "");
		$('#specifiedClinicalData').css("background-color", "");
		$('#specifiedProtocol').css("background-color", "");
		$('#specifiedInstrument').css("background-color", "");
		$('#specifiedCompanion').css("background-color", "");
		$('#dataSubmissionId').css("background-color", "");
		$('#psecifiedOtherSubmission').css("background-color", "");
		$('#dataUseId').css("background-color", "");
	}
	
	function validateCollectionType(){
		 if($('#prospective').is(":checked") || $('#restrospective').is(":checked")){
				 return true;
		 }else{
				return false;
		 }
	}	

	function validateDataSection(){
		 if($('#human').is(":checked") || $('#rat').is(":checked") || $('#mouse').is(":checked") || $('#celegans').is(":checked") || $('#drosophila').is(":checked")  || $('#yeast').is(":checked") || $('#bacteria').is(":checked") || $('#nonHuman').is(":checked") || $('#germLine').is(":checked") || $('#somatic').is(":checked") || $('#dnaType').is(":checked") || $('#rnaType').is(":checked") || $('#microbiome').is(":checked") || $('#mitochrondria').is(":checked") || $('#otherType').is(":checked")){
				 if($('#otherType').is(":checked")){
						 if($('#specifyOtherType').val().trim().length == 0){
								$('#specifyOtherType').css("background-color", "yellow");
								return false;
						 }
				 }
				 if($('#yeast').is(":checked")){
						 if($('#yeastSpecies').val().trim().length == 0){
								$('#yeastSpecies').css("background-color", "yellow");
								return false;
						 }
				 }
				 if($('#bacteria').is(":checked")){
						 if($('#bacteriaSpecies').val().trim().length == 0){
								$('#bacteriaSpecies').css("background-color", "yellow");
								return false;
						 }
				 }
				 if($('#nonHuman').is(":checked")){
						 if($('#noHumanOther').val().trim().length == 0){
								$('#noHumanOther').css("background-color", "yellow");
								return false;
						 }
				 }
			 
				 return true;
		 }else{
				return false;
		 }
	}

	function validateArrayGenoSequence(){
	 if($('#snpArrayData').is(":checked") || $('#expressionArray').is(":checked") || $('#methylationArray').is(":checked") || $('#arrayDerive').is(":checked") || $('#microarrayData').is(":checked") || $('#sequenceData').is(":checked") || $('#somaticSnv').is(":checked") || $('#arrayCgh').is(":checked") || $('#wholeGenome').is(":checked") || $('#wholeExome').is(":checked") || $('#targetGenome').is(":checked") || $('#targetExome').is(":checked") || $('#wholeTranscriptome').is(":checked") || $('#targetTrabscriptome').is(":checked") || $('#epigenomicMark').is(":checked") || $('#sanger').is(":checked") || $('#rrna').is(":checked") ){
			 return true;
		}else{
			return false;
		}
	}	

	function validateAnalysisOther(){
		 if($('#association').is(":checked") || $('#arrayDerivedExpression').is(":checked") || $('#rnaExpression').is(":checked") || $('#derivedMethylation').is(":checked") || $('#otherAnalysis').is(":checked")){
				if($('#otherAnalysis').is(":checked")){
						if( $('#spcifiedOtherAnalysis').val().trim().length == 0){
							 $('#spcifiedOtherAnalysis').css("background-color", "yellow");
							 return false;
						}
				}
				return true;
		 }else{
				return false;
		 }
	}

	function validateDataForm(){
		if($('#individual').is(":checked") || $('#aggregate').is(":checked") || $('#notApplicableDataForm').is(":checked")){
			return true;
		}else{
			return false;
		}
	}	

	function validateDataRepository(){
		 if($('#arrayExpress').is(":checked") || $('#cancerGenomics').is(":checked") || $('#clinVar').is(":checked") || $('#dbGap').is(":checked") || $('#dbSnp').is(":checked") || $('#dbVar').is(":checked") || $('#ena').is(":checked") || $('#geo').is(":checked") || $('#mgi').is(":checked") || $('#genBank').is(":checked") || $('#traceArchive').is(":checked") || $('#wormbase').is(":checked") || $('#sra').is(":checked") || $('#zfin').is(":checked") || $('#OtherRepository').is(":checked") ){
				if($('#OtherRepository').is(":checked")){
						if( $('#specifiedRepository').val().trim().length == 0){
								$('#specifiedRepository').css("background-color", "yellow");
							 return false;
						}
				}
				return true;
		 }else{
				return false;
		 }
	}	
	
	function validateCompanion(){
		 if($('#phenotype').is(":checked") || $('#exposure').is(":checked") || $('#surveyTool').is(":checked") || $('#clinicalData').is(":checked") || $('#protocol').is(":checked") || $('#instrument').is(":checked") || $('#otherCompanion').is(":checked")){
				if($('#clinicalData').is(":checked")){
						if( $('#specifiedClinicalData').val().trim().length == 0){
							 $('#specifiedClinicalData').css("background-color", "yellow");
							 return false;
						}
				}
				if($('#protocol').is(":checked")){
						if( $('#specifiedProtocol').val().trim().length == 0){
							 $('#specifiedProtocol').css("background-color", "yellow");
							 return false;
						}
				}
				if($('#instrument').is(":checked")){
					 if( $('#specifiedInstrument').val().trim().length == 0){
							 $('#specifiedInstrument').css("background-color", "yellow");
							 return false;
						}
				}
				if($('#otherCompanion').is(":checked")){
					 if( $('#specifiedCompanion').val().trim().length == 0){
							 $('#specifiedCompanion').css("background-color", "yellow");
							 return false;
						}
				}

				return true;
		 }else{
				return false;
		 }
	}	
	
	function validateDataSubmission(){
		 if($('#dataCheck').is(":checked") || $('#publication').is(":checked") || $('#otherSubmission').is(":checked")){
				if($('#otherSubmission').is(":checked")){
						if( $('#psecifiedOtherSubmission').val().trim().length == 0){
								$('#psecifiedOtherSubmission').css("background-color", "yellow");
							 return false;
						}
				}
				return true;
		 }else{
				return false;
		 }

	}	
	
	function validateDataUseLimitation(){
		if($('#noHumanData').is(":checked") || $('#noLimitation').is(":checked") || $('#limitedOnly').is(":checked") || $('#limitedPurpose').is(":checked") || $('#relateToDisease').is(":checked")){
			return true;
		}else{
			return false;
		}
	}	

	function getConvertedValue(value, flag){
		if(value == ''){
			return '';
		}
		var values = '';
		 if(flag == '0'){
				values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}
	
	function removeSavedRecordAfterSubmit(){
			var id = $('#saved_id').val();
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);
			function handleResponse(response) {
				var result = response.data.result;
				console.log(result);
			}
			
			function handleError(response) {
				console.error(response);
				//$confirm.modal('hide');
				alert('ERROR');
			}		
		  scope.checkPI = function(){
				alert('here');
			};
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.btn-form {
  width: 100px;
  margin-left: 50px;
}

.form-label {
  font-weight: normal
}

.full-width {
  width: 100%;
}

label.control-label {
  font-size: 14px;
  white-space: nowrap;
}

legend.scheduler-border {
  font-size: 16px;
  font-weight: bold;
}

.align-checkboxes {
  margin-top: 8px;
}

.inline-form-input {
  width: 160px;
  max-width: 160px;
  display: inline-block;
  margin-left: 8px;
}

input[type=checkbox], input[type=radio] {
  vertical-align: middle;
  position: relative;
  bottom: 3px !important;
}

input[type=radio] {
  bottom: 2px;
}

.input-xs {
  height: 24px;
  padding: 4px;
  font-size: 12px;
  line-height: 1.2;
  border-radius: 3px;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-data-entry-section&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS Data Entry Section&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id
	};
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-03 15:22:37&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;b6f188c5dba6ba0054d8ff621f96198c&lt;/sys_id&gt;&lt;sys_mod_count&gt;168&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS Data Entry Section&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_b6f188c5dba6ba0054d8ff621f96198c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-13 21:37:27&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="loadedRequests" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt; 
  &lt;div class="modal-dialog modal-lg"&gt;
    &lt;div class="modal-content" style="height:900px; overflow-y:auto; overflow-x: hidden;"&gt;
      &lt;div class="modal-header"&gt;
      &lt;button type="button" class="close btn btn-xs" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;x&lt;/span&gt;&lt;/button&gt;
           &lt;div id="anchor"&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Genomic Data Sharing Plan&lt;/b&gt;&lt;/font&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        &lt;div id="errorMessage" style="display:none;"&gt;&lt;/div&gt;
        &lt;!-- Demographics --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Principal Investigator&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- investigator --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="investigator"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Principal Investigator&lt;/label&gt;
              &lt;div class="col-md-6 ui-front"&gt;
                &lt;input id="investigator" class="form-control"/&gt;
              &lt;/div&gt;
              &lt;input type="hidden" id="inFirstName"/&gt;
              &lt;input type="hidden" id="inLastName"/&gt;
              &lt;input type="hidden" id="inUserId"/&gt;
            &lt;/div&gt;
            &lt;!-- PI title --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="pTitle"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Principal Investigator Title&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="pTitle" name="pTitle"&gt;
              &lt;/div&gt; 
            &lt;/div&gt;  
              &lt;!-- PI Branch --&gt;
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="pBranch"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Branch&lt;/label&gt;
                &lt;div class="col-md-6"&gt;
                  &lt;select class="form-control" id="pBranch" name="pBranch"&gt;&lt;/select&gt;
                &lt;/div&gt; 
              &lt;/div&gt;  
            &lt;!-- email --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="email"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Email&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="email" name="email"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- phone --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="phone"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Phone&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="phone" name="phone"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- date --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="date"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Plan Submission Date&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;div class='input-group date' id='datetimepicker'&gt;
                  &lt;input type="text" class="form-control" id="date" name="date" readonly='true'&gt;
                  &lt;span class="input-group-addon"&gt;
                          &lt;span class="glyphicon glyphicon-calendar"&gt;&lt;/span&gt;
                  &lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Project Information --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Project Information&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- project number --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="valign-top col-md-5 align-right" for="projectName"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Intramural Project (Z01), Grant, or Contract number (if available) &lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="projectNumber" name="projectNumber"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- projectName --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="projectName"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Study Name&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="projectName" name="projectName"  maxlength="219"&gt;
              &lt;/div&gt;
						&lt;/div&gt;
            &lt;!-- sampleSize --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="sampleSize"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Plan enrollment/Sample Size&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="simpleSize" name="sampleSize"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- collectionTypeId --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="collectionTypeId" for="collectionTypeId"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Collection Type [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="prospective"&gt;
                  &lt;input type="checkbox" name="prospective" id="prospective" value="prospective"&gt;
                  Prospective
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="restrospective"&gt;
                &lt;input type="checkbox" name="retrospective" id="restrospective" value="retrospective"&gt;
                  Retrospective
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Data --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Data&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- dataId --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataId"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Source [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="human"&gt;
                  &lt;input type="checkbox" name="human" id="human" value="human"&gt;
                  Human
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="rat"&gt;
                  &lt;input type="checkbox" name="rat" id="rat" value="rat"&gt;
                  Rat
                &lt;/label&gt;
	              &lt;br&gt;
                &lt;label class="form-label" for="mouse"&gt;
                  &lt;input type="checkbox" name="mouse" id="mouse" value="mouse"&gt;
                  Mouse
                &lt;/label&gt;                
      			     &lt;br&gt;
                &lt;label class="form-label" for="celegans"&gt;
                  &lt;input type="checkbox" name="celegans" id="celegans" value="celegans"&gt;
                  C. elegans
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="drosophila"&gt;
                  &lt;input type="checkbox" name="drosophila" id="drosophila" value="drosophila"&gt;
                  Drosophila
                &lt;/label&gt;				
                &lt;br&gt;
                &lt;label class="form-label" for="yeast"&gt;
                  &lt;input type="checkbox" name="yeast" id="yeast" value="yeast"  ng-click="processOtherValue('yeast', 'yeastSpecies');"&gt;
                  Yeast
                &lt;/label&gt;
                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (Species: 
                &lt;input placeholder="Please specify" type="text" class="form-control input-xs inline-form-input" 
                         id="yeastSpecies" name="yeastSpecies" style="width: 100px;" disabled="disabled"&gt;&amp;nbsp; )  
                &lt;br&gt;
                &lt;label class="form-label" for="bacteria"&gt;
                  &lt;input type="checkbox" name="bacteria" id="bacteria" value="bacteria" ng-click="processOtherValue('bacteria', 'bacteriaSpecies');"&gt;
                  Bacteria
                &lt;/label&gt;
                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (Species: 
                &lt;input placeholder="Please specify" type="text" class="form-control input-xs inline-form-input" 
                         id="bacteriaSpecies" name="bacteriaSpecies" style="width: 100px;" disabled="disabled"&gt;&amp;nbsp; ) 
                &lt;br&gt;
                &lt;label class="form-label" for="nonHuman"&gt;
                &lt;input type="checkbox" name="nonHuman" id="nonHuman" value="nonHuman" ng-click="processOtherValue('nonHuman', 'noHumanOther');"&gt;
                  Other
                &lt;/label&gt;
                   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (Species: 
                &lt;input placeholder="Please specify" type="text" class="form-control input-xs inline-form-input" 
                         id="noHumanOther" name="noHumanOther" style="width: 100px;" disabled="disabled"&gt;&amp;nbsp; ) 
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Sample Types --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="data2Id"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Sample Types [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label" for="germLine"&gt;
                  &lt;input type="checkbox" name="germLine" id="germLine" value="germLine"&gt;
                  GermLine
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="dnaType"&gt;
                  &lt;input type="checkbox" name="dnaType" id="dnaType" value="dnaType"&gt;
                  DNA
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="rnaType"&gt;
                &lt;input type="checkbox" name="rnaType" id="rnaType" value="rnaType"&gt;
                  RNA
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="microbiome"&gt;
                &lt;input type="checkbox" name="microbiome" id="microbiome" value="microbiome"&gt;
                  Microbiome
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="mitochrondria"&gt;
                &lt;input type="checkbox" name="mitochrondria" id="mitochrondria" value="mitochrondria"&gt;
                  Mitochrondria
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="otherType" width="100%"&gt;
                &lt;input type="checkbox" name="otherType" id="otherType" value="otherSampleType"  
                  ng-click="processOtherValue('otherType', 'specifyOtherType');"&gt;
                  &lt;label class="form-label" for="specifyOtherType"&gt;Other&lt;/label&gt;
                  &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                         id="specifyOtherType" name="otherSampleTypeText" disabled="disabled"&gt;
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Type --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Type&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- Array Data --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="snpArrayData" id="arrayDataId"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Array Data [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label full-width" for="snpArrayData"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" name="snpArrayData" id="snpArrayData" value="snp"  ng-click="processOtherValue('snpArrayData', 'numSNP');"&gt;
											SNP Array  
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                      # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSNP" name="numSNP" style="width: 100px;" disabled="disabled"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="expressionArray"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" name="expressionArray" id="expressionArray" value="expressArray" ng-click="processOtherValue('expressionArray', 'numExpression');"&gt;
                    		Expression Array  
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                      # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numExpression" name="numExpression" style="width: 100px;" disabled="disabled"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;                 
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="methylationArray"&gt;
                   &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
               				 &lt;input type="checkbox" name="methylationArray" id="methylationArray" value="methylationArray" ng-click="processOtherValue('methylationArray', 'numMethylation');"&gt;
                 			  Methylation Array
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                      # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numMethylation" name="numMethylation" style="width: 100px;" disabled="disabled"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;                                  
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt; 
              
           &lt;!-- Genotypes --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="genotypesId" for="arrayDerive"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Genotypes [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label full-width" for="arrayDerive"&gt;
                &lt;div class="row"&gt;
									&lt;div class="col-md-6"&gt;
                    &lt;input type="checkbox" name="arrayDerive" id="arrayDerive" value="arrayDerived" ng-click="processOtherValue('arrayDerive', 'numDerivedGenotype');"&gt;
                      Array Derived Genotypes
                  &lt;/div&gt;
									&lt;div class="col-md-6"&gt;
                        # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numDerivedGenotype" name="numDerivedGenotype" style="width: 100px;" disabled="disabled"&gt;                 
                  &lt;/div&gt;	
                &lt;/div&gt;  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="microarrayData"&gt;
									&lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                         &lt;input type="checkbox" id="microarrayData" name="microarrayData" value="cnvFromMicroarray" ng-click="processOtherValue('microarrayData', 'numMicroarrayData');"&gt;
                        CNV cells from Microarray                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                       # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numMicroarrayData" name="numMicroarrayData" style="width: 100px;" disabled="disabled"&gt;                     
                    &lt;/div&gt;
                  &lt;/div&gt;                  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="sequenceData"&gt;
                  &lt;div class="row"&gt;
                    	&lt;div class="col-md-6"&gt;
                        &lt;input type="checkbox" id="sequenceData" name="cnvFromSequence" value="cnvFromSequence" ng-click="processOtherValue('sequenceData', 'numSquenceData');"&gt;
                          CNV cells derived from Sequence                        
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                       # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSquenceData" name="numSquenceData" style="width: 100px;" disabled="disabled"&gt;                            
                    &lt;/div&gt;
                  &lt;/div&gt;

                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="somaticSnv"&gt;
                &lt;div class="row"&gt;
                	&lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="somaticSnv" name="maf" value="maf" ng-click="processOtherValue('somaticSnv', 'numSomaticSnv');"&gt;
                        Somatic SNV (.MAF)
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                      # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSomaticSnv" name="numSomaticSnv" style="width: 100px;" disabled="disabled"&gt;                         
                  &lt;/div&gt;
                &lt;/div&gt;  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="arrayCgh"&gt;
                &lt;div class="row"&gt;
                	&lt;div class="col-md-6"&gt;
                    &lt;input type="checkbox" id="arrayCgh" name="arrayCGH" value="arrayCGH" ng-click="processOtherValue('arrayCgh', 'numArrayCgh');"&gt;
                      Array CGH CNVs
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                      # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numArrayCgh" name="numArrayCgh" style="width: 100px;" disabled="disabled"&gt;                      
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Sequence --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="sequenceId" for="wholeGenome"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Sequence [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label full-width" for="wholeGenome"&gt;
                &lt;div class="row"&gt;
                  &lt;div class="col-md-6"&gt;
                     &lt;input type="checkbox" id="wholeGenome" name="wholeGenome" value="wholeGenome" ng-click="processOtherValue('wholeGenome', 'numWholeGenome');"&gt;
                      Whole Genome                      
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                      # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numWholeGenome" name="numWholeGenome" style="width: 100px;" disabled="disabled"&gt;                     
                  &lt;/div&gt;
                &lt;/div&gt;

                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="wholeExome"&gt;
                &lt;div class="row"&gt;
                	&lt;div class="col-md-6"&gt;
                    &lt;input type="checkbox" id="wholeExome" name="wholeExome" value="wholeExome" ng-click="processOtherValue('wholeExome', 'numWholeExome');"&gt;
                      Whole Exome                    
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                       # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numWholeExome" name="numWholeExome" style="width: 100px;" disabled="disabled"&gt;                      
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="targetGenome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="targetGenome" name="targetGenome" value="targetGenome" ng-click="processOtherValue('targetGenome', 'numTargetGenome');"&gt;
                        Targeted Genome
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numTargetGenome" name="numTargetGenome" style="width: 100px;" disabled="disabled"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="targetExome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="targetExome" name="targetExome" value="TargetExome" ng-click="processOtherValue('targetExome', 'numTargetedExome');"&gt;
                        Targeted Exome                      
                    &lt;/div&gt;
										&lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numTargetedExome" name="numTargetedExome" style="width: 100px;" disabled="disabled"&gt;                         
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="wholeTranscriptome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="wholeTranscriptome" name="wholeTranscript" value="wholeTranscript" ng-click="processOtherValue('wholeTranscriptome', 'numWholeTranscriptome');"&gt;
                        Whole Transcriptome
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numWholeTranscriptome" name="numWholeTranscriptome" style="width: 100px;" disabled="disabled"&gt;                        
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="targetTrabscriptome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                       &lt;input type="checkbox" id="targetTrabscriptome" name="targetTranscript" value="targetTranscript" ng-click="processOtherValue('targetTrabscriptome', 'numTargetedTranscriptome');"&gt;
                        Targeted Transcriptome                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numTargetedTranscriptome" name="numTargetedTranscriptome" style="width: 100px;" disabled="disabled"&gt;                         
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="epigenomicMark" ng-click="processOtherValue('', '');"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                        &lt;input type="checkbox" id="epigenomicMark" name="epigMarks" value="epigMarks" ng-click="processOtherValue('epigenomicMark', 'numEpigenomic');"&gt;
                        Epigenomic Marks                    
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numEpigenomic" name="numEpigenomic" style="width: 100px;" disabled="disabled"&gt;                        
                    &lt;/div&gt;
                  &lt;/div&gt;                  
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="sanger"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                       &lt;input type="checkbox" id="sanger" name="sanger" value="sanger" ng-click="processOtherValue('sanger', 'numSanger');"&gt;
                        Sanger                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSanger" name="numSanger" style="width: 100px;" disabled="disabled"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;                  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="rrna"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                       &lt;input type="checkbox" id="rrna" name="rRna" value="rRna" ng-click="processOtherValue('rrna', 'numRrna');"&gt;
                        16S rRNA                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                          # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numRrna" name="numRrna" style="width: 100px;" disabled="disabled"&gt;                       
                    &lt;/div&gt;
                  &lt;/div&gt;                  

                &lt;/label&gt;                                
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Analysis --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="analysisId" for="association"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Analysis [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="association"&gt;
                &lt;input type="checkbox" id="association" name="linkage" value="linkage"&gt;
                  Association/Linkage
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="arrayDerivedExpression"&gt;
                &lt;input type="checkbox" id="arrayDerivedExpression" name="arrayDeriveExp" value="arrayDeriveExp"&gt;
                  Array Derived Expression
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="rnaExpression"&gt;
                &lt;input type="checkbox" id="rnaExpression" name="seqDeriveExp" value="seqDeriveExp"&gt;
                  RNA Seq Derived Expression
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="derivedMethylation"&gt;
                &lt;input type="checkbox" id="derivedMethylation" name="arrayDeriveMethyl" value="arrayDeriveMethyl"&gt;
                  Array Derived Methylation
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="otherAnalysis"&gt;Other&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="otherAnalysis" width="100%"&gt;
                &lt;input type="checkbox" id="otherAnalysis" name="otherType" 
                  ng-click="processOtherValue('otherAnalysis', 'spcifiedOtherAnalysis');"&gt;
                  &lt;label class="form-label" for="spcifiedOtherAnalysis"&gt;Other&lt;/label&gt;
                  &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                         id="spcifiedOtherAnalysis" name="otherTypeText" disabled="disabled"&gt;
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;          
            &lt;!-- Data Form --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataFormId" for="individual"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Data Form [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="individual"&gt;
                &lt;input type="checkbox" id="individual" name="individual" value="individual"&gt;
                  Individual
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="aggregate"&gt;
                &lt;input type="checkbox" id="aggregate" name="aggregate" value="aggregate"&gt;
                  Aggregate
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="notApplicableDataForm"&gt;
                &lt;input type="checkbox" id="notApplicableDataForm" name="na" value="na" ng-click="toggleNotApplicable()"&gt;
                  Not Applicable
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Data Form --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataRepositoryId" for="arrayExpress"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Data Repository [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="arrayExpress"&gt;
                &lt;input type="checkbox" id="arrayExpress" name="arrayExpress" value="arrayExpress"&gt;
                  Array Express
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="cancerGenomics"&gt;
                &lt;input type="checkbox" id="cancerGenomics" name="cancerHub" value="cancerHub"&gt;
                  Cancer Genomics Hub
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="clinVar"&gt;
                &lt;input type="checkbox" id="clinVar" name="clinVar" value="clinVar"&gt;
                  ClinVar
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="dbGap"&gt;
                &lt;input type="checkbox" id="dbGap" name="dbGap" value="dbGap"&gt;
                  Database of Genotypes and Phenotypes (dbGaP)
                &lt;/label&gt;   
                &lt;br&gt;
                &lt;label class="form-label" for="dbSnp"&gt;
                &lt;input type="checkbox" id="dbSnp" name="dbSNP" value="dbSNP"&gt;
                  Database of Short Generic Variants (dbSNP)
                &lt;/label&gt; 
                &lt;br&gt;
                &lt;label class="form-label" for="dbVar"&gt;
                &lt;input type="checkbox" id="dbVar" name="dbVar" value="dbVar"&gt;
                  Database of Genomic Structure Variation
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="ena"&gt;
                &lt;input type="checkbox" id="ena" name="ena" value="ena"&gt;
                  European Nucleotide Archive (ENA)
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="geo"&gt;
                &lt;input type="checkbox" id="geo" name="geo" value="geo"&gt;
                  Gene Expression Omnibus (GEO)
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="mgi"&gt;
                &lt;input type="checkbox" id="mgi" name="mgi" value="mgi"&gt;
                  Mouse Genome Informatics (MGI)
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="genBank"&gt;
                &lt;input type="checkbox" id="genBank" name="genBank" value="genBank"&gt;
                  GenBank
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="traceArchive"&gt;
                &lt;input type="checkbox" id="traceArchive" name="traceArchive" value="traceArchive"&gt;
                  Trace Archive
                &lt;/label&gt;                
                &lt;br&gt;
                &lt;label class="form-label" for="wormbase"&gt;
                &lt;input type="checkbox" id="wormbase" name="wormBase" value="wormBase"&gt;
                  WormBase
                &lt;/label&gt;                     
                &lt;br&gt;
                &lt;label class="form-label" for="sra"&gt;
                &lt;input type="checkbox" id="sra" name="sra" value="sra"&gt;
                  Sequence Read Archive (SRA)
                &lt;/label&gt;  
                &lt;br&gt;
                &lt;label class="form-label" for="zfin"&gt;
                &lt;input type="checkbox" id="zfin" name="zfin" value="zfin"&gt;
                  Zebrafish Model Organism Database (ZFIN)
                &lt;/label&gt; 
                &lt;br&gt;
                &lt;label class="form-label" for="OtherRepository" width="100%"&gt;
                  &lt;input type="checkbox" id="OtherRepository" name="otherRepository" value="otherRepository"
                    ng-click="processOtherValue('OtherRepository', 'specifiedRepository');"&gt;
                    &lt;label class="form-label" for="specifiedRepository"&gt;Other&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                      id="specifiedRepository" name="otherRepositoryText" disabled="disabled"&gt;
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Companion Information --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="companionInfoId" for="phenotype"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Companion Information [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="phenotype"&gt;
                &lt;input type="checkbox" id="phenotype" name="phenotype" value="phenotype"&gt;
                  Phenotype &amp;nbsp;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-trigger="focus"  data-content="Data pertinent to the interpretation of genomic data, including the minimal phenotype information needed to reproduce the primary analysis, such as associated phenotype data (e.g., clinical information), exposure data, relevant metadata, and descriptive information (e.g., protocols or methodologies used) will be shared. Individual-level Phenotype data will include."&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="exposure"&gt;
                &lt;input type="checkbox" id="exposure" name="exposure" value="exposure"&gt;
                  Exposure
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="surveyTool"&gt;
                &lt;input type="checkbox" id="surveyTool" name="surveyTool" value="surveyTool"&gt;
                  Survey Tool
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="clinicalData" width="100%"&gt;
                  &lt;input type="checkbox" id="clinicalData" name="clinicData" value="clinicData"
                    ng-click="processOtherValue('clinicalData', 'specifiedClinicalData');"&gt;
                    &lt;label class="form-label" for="specifiedClinicalData"&gt;Clinical Data&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                      id="specifiedClinicalData" name="clinicDataText" disabled="disabled"&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="protocol" width="100%"&gt;
                  &lt;input type="checkbox" id="protocol" name="protocol" value="protocol" 
                    ng-click="processOtherValue('protocol', 'specifiedProtocol');"&gt;
                    &lt;label class="form-label" for="specifiedProtocol"&gt;Study/Protocol&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       name="protocolText" id="specifiedProtocol" disabled="disabled"&gt;
                &lt;/label&gt;                
                &lt;br&gt;
                &lt;label class="form-label" for="instrument" width="100%"&gt;
                  &lt;input type="checkbox" id="instrument" name="instrument" value="instrument" 
                    ng-click="processOtherValue('instrument', 'specifiedInstrument');"&gt;
                    &lt;label class="form-label" for="specifiedInstrument"&gt;Data Collection Instrument&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       name="instrumentText" id="specifiedInstrument" disabled="disabled"&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="otherCompanion" width="100%"&gt;
                  &lt;input type="checkbox" id="otherCompanion" name="otherCompanion" value="otherCompanion"
                    ng-click="processOtherValue('otherCompanion', 'specifiedCompanion');"&gt;
                    &lt;label class="form-label" for="specifiedCompanion"&gt;Other&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       id="specifiedCompanion" name="otherCompanionText" disabled="disabled"&gt;
                &lt;/label&gt;                
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Submission Information --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Submission Information&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- dataCheck --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataSubmissionId" for="dataCheck"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Data Submission and Release Timeline &lt;div style="white-space: auto;"&gt;[Check all that apply]&lt;/div&gt;&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="dataCheck"&gt;
                &lt;input type="checkbox" id="dataCheck" name="cleanAnalysis" value="cleanAnalysis"&gt;
                  Following data cleaning, analysis, and quality checks
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="publication"&gt;
                &lt;input type="checkbox" id="publication" name="publication" value="publication"&gt;
                  At the time of publication
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="otherSubmission" width="100%"&gt;
                  &lt;input type="checkbox" id="otherSubmission" name="otherSubmission"  value="otherSubmission"
                    ng-click="processOtherValue('otherSubmission', 'psecifiedOtherSubmission');"&gt;
                    &lt;label class="form-label" for="psecifiedOtherSubmission"&gt;Other&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       id="psecifiedOtherSubmission" name="otherSubmissionText" disabled="disabled"&gt;
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataUseId" for="noHumanData"&gt;&lt;font color='red'&gt;*&lt;/font&gt;Data Use Limitation [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="noHumanData"&gt;
                &lt;input type="checkbox" id="noHumanData" name="noHumanData" value="noHumanData"  ng-click="toggleNoHumanData()"&gt;
                  Not Applicable, no human data
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="noLimitation"&gt;
                &lt;input type="checkbox" id="noLimitation" name="noUseLimitation" value="noUseLimitation"&gt;
                  No data use limitations
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="limitedOnly"&gt;
                &lt;input type="checkbox" id="limitedOnly" name="limitedOnly" value="limitedOnly"&gt;
                  Limited only by the terms of the Data Use Certification
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label" for="limitedPurpose"&gt;
                &lt;input type="checkbox" id="limitedPurpose" name="limitToHealth" value="limitToHealth"&gt;
                  Limited to health/medical/biomedical purposes 
                  &lt;br&gt;
                  &lt;span style="display: inline-block; margin-left: 16px"&gt;
                   (doesn't include the study of population origins or ancestry)
                  &lt;/span&gt;
                &lt;/label&gt;
                &lt;br&gt;                      
                &lt;label class="form-label" for="relateToDisease"&gt;
                &lt;input type="checkbox" id="relateToDisease" name="relateToDisease" value="relateToDisease"&gt;
                  Must be related to the specified disease
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;            
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;fieldset class="scheduler-border" id="pre_comments_div1" style="display:none;"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
            &lt;div id="commentReviewId2"&gt;&lt;/div&gt;
        &lt;/fieldset&gt;
        &lt;div class="clearfix"&gt;
          &lt;div id="regularSubmit" class="pull-right"&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="saveBt"   value="SAVE" ng-click="submitSaveRequest()"/&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="submitBt" value="SUBMIT" ng-click="loadRequestConfirm();"/&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="cancelBt" value="CANCEL" ng-click="closeModal()"/&gt;
          &lt;/div&gt;
          &lt;div id="resubmit" style="display:none;" class="pull-right"&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="submitBt" value="SUBMIT" ng-click="loadResubmitConfirm()"/&gt; 
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="cancelBt" value="CANCEL" ng-click="closeModal()"/&gt;
          &lt;/div&gt;          
        &lt;/div&gt;
             &lt;input type='hidden' id='ccr_id'/&gt;
             &lt;input type='hidden' id='saved_id'/&gt;
             &lt;input type='hidden' id='gds_id'/&gt;
          &lt;/div&gt;
       &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="confirmSubmitDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message1"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="confirmResubmitDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message2"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesResubmitConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoResubmitConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>2144170807</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>6df9c652dbd7570054d8ff621f961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1649593c8cb0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS Data Entry Section</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>020d2695ad1b9300c91aedc0701d4220</update_guid>
<update_guid_history>020d2695ad1b9300c91aedc0701d4220:2144170807,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_portal_208065a1db463a00f59974131f96198d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_portal"><sp_portal action="INSERT_OR_UPDATE"><css_variables/><default>false</default><homepage display_value="gdsp_home_page">1cff1a65dbc63a00f59974131f96195b</homepage><icon/><kb_knowledge_base/><kb_knowledge_page/><login_page display_value="nci_landing">d656f227dba25f00f59974131f961902</login_page><logo/><notfound_page display_value="gdsp_home_page">1cff1a65dbc63a00f59974131f96195b</notfound_page><quick_start_config/><sc_catalog/><sc_catalog_page/><sc_category_page/><sp_chat_queue/><sp_rectangle_menu/><sqanda_knowledge_base/><sys_class_name>sp_portal</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2017-04-10 15:01:17</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>208065a1db463a00f59974131f96198d</sys_id><sys_mod_count>9</sys_mod_count><sys_name>CCR GDSP Portal</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sp_portal_208065a1db463a00f59974131f96198d</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-07-09 19:24:11</sys_updated_on><theme display_value="Software Solution Theme">f6147a7ddb2d720054d8ff621f96194f</theme><title>CCR GDSP Portal</title><url_suffix>ccrgdsp</url_suffix></sp_portal></record_update>]]></payload>
<payload_hash>-647557361</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>a1f9c652dbd7570054d8ff621f961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164808055690000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>CCR GDSP Portal</target_name>
<type>Service Portal</type>
<update_domain>global</update_domain>
<update_guid>ba28ad840fdf134011688a829516ede1</update_guid>
<update_guid_history>ba28ad840fdf134011688a829516ede1:-647557361,985651733:985651733,-662110259:-662110259,1560236668:1560236668</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_e48cbe49db52b200f59974131f96194f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;updateGDSPRequest&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	   var jsonObj = {};
	   var data = request.body.data;
       var request_id = data.requested_id.toString();
       var sd_id = data.sd_id.toString();
       var requestItem_id = data.requestedItem_id.toString();

       var sri = new GlideRecord("sc_req_item");
       sri.addQuery("sys_id", requestItem_id);
       sri.query();
       sri.next();
       sri.u_director= sd_id;
       sri.update();

       var comments = data.approval_comment;
       var action= data.action;
       var role = data.role;

       var gr1 = new GlideRecord("sysapproval_approver");
       gr1.addQuery("sys_id", request_id);
       gr1.query();
       gr1.next();
       gr1.state=action;
       gr1.comments.setJournalEntry( '(' + action + ') ' +comments + '(role)' + role + '(ENDROLE)' + gs.getUser().getFirstName() + ' ' + gs.getUser().getLastName() + 'ENDCOMMENTS', "${jvar_my_sys_id}");
       gr1.update();
	   
	   jsonObj = {
		   status : 'successed'
	   };
	
	  return jsonObj;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gdspapi/updateGDSPRequest&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/updateGDSPRequest&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-21 18:42:17&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;e48cbe49db52b200f59974131f96194f&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;updateGDSPRequest&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_e48cbe49db52b200f59974131f96194f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:06:22&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gdspAPI"&gt;212601dedb4e7a00f59974131f961986&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1838413467</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>a5f9c652dbd7570054d8ff621f961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1648528861d0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>updateGDSPRequest</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>fd321e9ca99b534006b71bf3ee82e4e0</update_guid>
<update_guid_history>fd321e9ca99b534006b71bf3ee82e4e0:-1838413467,-1322588213:-1322588213,502162172:502162172</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_91dc809cdb284340f59974131f961938</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};
	//start client JS
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'sampleTime', 'sampleConsent', 'consent_group'];
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var gpa_asst = c.data.info.gpa_asst;
	var sd = c.data.info.sd;

	c.viewICData = function(doc_id, sys_id, state, stage, ticket_id){
		$('#refresh').val('0');
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	
	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;
	
	c.report = function(sys_id, ic_id, flag){
		  var req_id = sys_id;
		  var fileName = '';
		 $('#refresh').val('0');
		 $('#loading').show();
		  if(flag == 'pi'){
				fileName = ic_id+"_pi.pdf";
			}else	if(flag == 'sd'){
			fileName = ic_id+"_sd.pdf";
		  }
			initialTime = new Date();
			documentInterval = setInterval(function() {
				 getDocument(req_id, fileName);
			}, 5000);		
	}
	
	function getDocument(req_id, fileName){
		  var req = {
					method: 'GET',
					url: '/api/naci/gds/getAttachmentFileID',
					beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				  params: {request_id: req_id, file_name: fileName}
			};
		  $http(req).then(handleResponse, handleError);
		  function handleResponse(response) {
					if (new Date() - initialTime &gt; documentTimeout) {
						 window.clearInterval(documentInterval);
						 $('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
             $('#infoModal').modal('show');
             $('#btnOkConfirm').off('click').click(function() {
                 $('#infoModal').modal('hide');
             });
						 return;
					}				
					var result = response.data.result;
					//hightlight right record
				  var id = result.file_id;
		      if(id != null &amp;&amp; id.trim().length &gt; 0){
						window.clearInterval(documentInterval);
				    window.location.href = '/sys_attachment.do?sys_id=' + id;
						setTimeout(function(){}, 3000);
						$('#loading').hide();
					}
			}
		
			function handleError(response) {
				window.clearInterval(documentInterval);
					console.error(response);
					alert('ERROR');
			}	
	}
	
  function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			  var variables = result.variables;
			  var comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayICId').html(ticket_id);
			  //reset SD selection and comments
			  $('#selectICSD').val('NONE');
			  $('#commentICId1').val('');
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewICId1').empty();
				$('#commentReviewICId1').append(comment_str);

				$('#commentICId1').show();
				$('#commentId1ICLable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_ic_div').hide();
				 }else{
							 $('#pre_comments_ic_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('GPA');
				$('#comments_ic_div').show();
				if(state == 'approved' || state.indexOf('not_required') &gt;=0 || gpa_asst){
					 $('#comments_ic_div').hide();
					 $('#submitButton1').hide();
					 $('#closeButton1').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'Waiting for GPA Review - SD Rejected') &amp;&amp; gpa){
							$('#comments_ic_div').show();
							$('#sd_ic_div').show();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }else{
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }
				}else{
					 $('#comments_ic_div').show();
					 $('#submitButton1').show();
					 $('#closeButton1').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
			     $('#gpaICErrorMessage').hide();
				$('#displayICId').html(ticketN);		
			  $('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;');
			  loadConsentGroupData();
				if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
					$('#insDiv').show();
				}else{
					$('#insDiv').hide();
				}			 
			  $('#displayICRequests').modal('show').on('shown.bs.modal', function(){$('#displayRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			alert("failed");
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
	
	function loadConsentGroupData(){
		var consentStr = $('#consent_group1').val();
	  if(consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0){
			$('#consentGrpDiv').hide();
		}else{
      getConsentGroups(consentStr);
		}
	}
	
	function getConsentGroups(consentStr){
		var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentGrp: consentStr}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
		  for(var i = 0; i &lt; result.length; i++){
			    var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " ["+ result[i].data_field +"] ";
				}
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;"+result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier +"&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";
			  
			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	
    function clearDiv(){
		$('#comments_ic_div').hide();
		$('#sd_ic_div').hide();
		$('#submitButton1').hide();
		$('#closeButton1').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
	  for(key in data){
			//var value = getValue(key, data[key]);
			if(key == 'data_access'){
				if(data[key] == 'unrestricted'){
					 $("input[name=dataAccessBox1][value='unrestricted']").prop("checked",true);
				}else{
					 $("input[name=dataAccessBox1][value='controlled-access']").prop("checked",true);
				}
			}else if(key == 'display'){
				if(data[key] == 'yes'){
					 $('#displayBox1').prop('checked', true);
				}else{
					 $('#displayBox1').prop('checked', false);
				}
			}else if(key == 'frequency') {
				if(data[key] == 'yes'){
					 $('#frequenceBox1').prop('checked', true);
				}else{
					 $('#frequenceBox1').prop('checked', false);
				}				
			}else if(key == 'consent_group'){
				$('#'+key+"1").val(data[key]);
			}else{
				$('#'+key+"1").html(data[key]);
			}
		}
	}
	
  function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
        $('#'+names[i] + "1").html('');
    }
  }	
	
spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.form-control1 {
    display: block;
    width: 20%;
    height: 30px;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857;
    color: #555555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}


.overlay {
  position: fixed; 
  width: 100%; 
  height: 100vh; 
  background-color: white; 
  opacity: 0.9; 
  z-index: 9999; 
  top: 0; 
  left: 0;
  
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}



.spinner {
  animation: spin 2s infinite linear;
}

/** spin animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;ggiat&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS GPA IC Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalTasks = [];
	data.reviewedTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var gpa_asst = gr.isMemberOf('CCR_GPA_ASST');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		gpa_asst: gpa_asst,
		sd: sd
	};
	if(gpa || gpa_asst){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = new GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
		   if(!gpa_asst){
					gr_approval_items.addQuery('approver', my_sys_id); 
			 }
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(!((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'Waiting for GPA Review - SD Rejected' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review - SD Rejected')) &amp;&amp; (gr_approval_items.state == 'approved' || (gr_approval_items.state = 'rejected' &amp;&amp; stage_v == 'Waiting for PI Resubmit' &amp;&amp;  gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review'))){	
					//if(!(stage_v == 'Waiting for GPA Review' || stage_v == 'Waiting for GPA Review - SD Rejected') &amp;&amp; gr_approval_items.state == 'approved'){	
						 if(stage_v != 'Completed' || (stage_v == 'Completed' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review')){			
										var item = {};
										item.ic_id = ticket_number;
										item.study_name = gr_approval_items.document_id.variables.study_name.toString();
										item.project_title = gr_approval_items.document_id.variables.project_title.toString();
										item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
										item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
										item.status = gr_approval_items.document_id.context.stage.name.toString();
										item.last_update_date = gr_approval_items.sys_updated_on.toString();
										item.stage = stage_v.toString();
										item.sys_id = gr_approval_items.sys_id.toString();
										item.doc_id = gr_approval_items.document_id.toString();
										item.state = gr_approval_items.state.toString();
								    data.reviewedTasks.push(item);
							}
						}
							if((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'Waiting for GPA Review - SD Rejected' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review - SD Rejected')){
								  var items = {};
									items.ic_id = ticket_number;
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalTasks.push(items);
							}
			}
	}	
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 18:20:19&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;91dc809cdb284340f59974131f961938&lt;/sys_id&gt;&lt;sys_mod_count&gt;123&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS GPA IC Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_91dc809cdb284340f59974131f961938&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-11 14:30:32&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;br/&gt;

  &lt;div class="panel panel-success" ng-show="c.data.approvalTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_gpaApprovalICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaApprovalICItems" aria-expanded="true" data-target="#collapsegpaApprovalICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications Waiting for GPA Approval &lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_gpaApprovalICItems" class="panel-collapse collapse in" id="collapsegpaApprovalICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchSavedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalTasks | filter:searchSavedIC"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id='{{row.doc_id}}'&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.viewICData(row.doc_id, row.sys_id, row.state, row.stage, row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.report(row.doc_id, row.ic_id, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
            ng-model="c.pagination.currentSize"
            ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;br/&gt;&lt;br/&gt;

  &lt;div class="panel panel-success" ng-show="c.data.reviewedTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_gpaReviewedICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaReviewedICItems" aria-expanded="true" data-target="#collapsegpaReviewedICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications reviewed by GPA &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_gpaReviewedICItems" class="panel-collapse collapse" id="collapsegpaReviewedICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
         &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchSubmittedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedTasks | filter:searchSubmittedIC"
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.viewICData(row.doc_id, row.sys_id, row.state, row.stage,row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-show="row.status == 'Completed' " ng-click="c.report(row.doc_id, row.ic_id, 'sd')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-show="row.status != 'Completed' " ng-click="c.report(row.doc_id, row.ic_id, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;            
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
            ng-model="c.pagination1.currentSize"
            ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;{{ $index + 1 }}&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;
&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;
&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1899071811</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>a9f9c652dbd7570054d8ff621f961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>163ef416dea0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS GPA IC Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>e4781083432e1f007225e5e2cf84c440</update_guid>
<update_guid_history>e4781083432e1f007225e5e2cf84c440:-1899071811,393818431b2e1f001f1094bb145d3c99:-477489045,89d65bfabd859b0080a30cf03648c9ef:1727303449,6f4c514388741300fbe641d6f6f79404:881112756,50a0194fe4341300c2595b81734c5a29:-471161641,d84059cbd2341300189e9ec1d3efd660:-645755475,ec7f414b05341300250c8d8ebe3b83f1:-1312363377,9f3fc98b0e341300284c1fbab57a6036:1129243127,e80fc98b463413001d2e903ddd1f442f:1401949065,766ecd8b303413002e83bf58b8abf8eb:952307289,095e41cb263413005e3e5d531970e31a:39420012,5c3ecd8b2d341300e420fc02f5e919e4:993838879,371e094b2e341300da37cd2709a4d4ed:1275833981,221ecd8b2c341300f53c7a4aa9bf6428:-1904125987,8abd494bc934130031b0c92b97a49044:790470306,40bdc14ba73413003ad51b23e1553e03:1922160649,6bcc818bc4341300bfb94236531dd789:-1032080459,c9cf1ec0803c1300e8e8608794967dde:952307289,5caf5ec0f43c1300f77143eb8484e348:1096955891,6e9f16c06c3c13001330f7a63c01b490:159392996,819f1ec0873c13001ae1d96011c4999c:1386985284,c08fdac0cd3c130011c9b055a88c40ee:-2037939872,597fdac0f93c1300356ea6d49f9f4466:88614662,a9921a48fcf81300fd979f72b933f6f0:-260642230,68c19a0887f81300a420496c4d8736d4:1890581807,e6a1d608eaf8130024f9feaae63c9f94:323487812,99515ec488f813004c384b643158a54b:393089780,558c558422374700cf862adef0b28eda:1153128457,ed6c1d809337470046de47c2e314508a:-1511159079,20ba8df54ca7cf006134c4de6698c0f8:-630195112,2df6358a82624700933dfba1d2db5cf0:371154616,5683b5c6a3624700b2e634d54b9003b4:608034770,e743f1c632624700d6ef27511a03e4c1:-755655854,69a2f986d3624700b5f6b78453f8f1d5:-1874981445,089271c62c6247001161fc6c234eef24:-360569307,47f13d06d26247001bb5492a20afbfd6:-1874981445,dc1138f1cc2607008b786ff938e54b4f:-1462268999,cab07cb1e526070000136baceeb25dec:-1877438562,b0d67b6877a283003f4238a0de8f952a:-1462268999,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_47a5f364dbe2ba00f59974131f96197a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};

	//start client JS
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });	
	
	var names=['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna']; 
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var sd = c.data.info.sd;
	var gpa_asst = c.data.info.gpa_asst;
	
	c.view = function(doc_id, sys_id, state, stage, ticket_id){
		$('#refresh').val('0');
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	c.report = function(sys_id, gdsp_id){
		$('#refresh').val('0');
		window.open('$sp.do?id=gdsp_report_page&amp;itemId='+sys_id+'&amp;ticket='+gdsp_id, '_BLANK');
	}
	

function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			  var variables = result.variables;
			  var comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayRequestId').html(ticket_id);
			  //reset SD selection and comments
			  $('#selectSD').val('NONE');
			  $('#commentId1').val('');
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewId1').empty();
				$('#commentReviewId1').append(comment_str);

				$('#commentId1').show();
				$('#commentId1Lable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_div').hide();
				 }else{
							 $('#pre_comments_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('GPA');
				$('#comments_div').show();
			  if(stage == 'Waiting for PI Resubmit'){
					 $('#comments_div').hide();
					 $('#submitButton').hide();
					 $('#closeButton').show();
				}else if(state == 'approved' || state.indexOf('not_required') &gt;=0 || gpa_asst){
					 $('#comments_div').hide();
					 $('#submitButton').hide();
					 $('#closeButton').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gpa){
							$('#comments_div').show();
							$('#sd_div').show();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_div').show();
							$('#sd_div').hide();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_div').show();
							$('#sd_div').hide();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_div').hide();
								$('#sd_div').hide();
								$('#submitButton').hide();
								$('#closeButton').show();
					 }else{
								$('#comments_div').hide();
								$('#sd_div').hide();
								$('#submitButton').hide();
								$('#closeButton').show();
					 }
				}else{
					 $('#comments_div').show();
					 $('#submitButton').show();
					 $('#closeButton').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
        $('#displayRequestId').html(ticketN);		
			  $('#displayRequests').modal('show').on('shown.bs.modal', function(){$('#displayRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
    function clearDiv(){
		$('#comments_div').hide();
		$('#sd_div').hide();
		$('#submitButton').hide();
		$('#closeButton').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
	  for(key in data){
			var value = getValue(key, data[key]);
			$('#'+key+"1").html(value);
		}
	}
	
  function getValue(name, value){
		 if(textFields.indexOf(name) != -1 ){ 
        if(name == 'date'){
           return getConvertedValue(value, '1');
        }else{
           return value;
        }
     }else{
        if(value == "true"){
           return '&lt;input type="checkbox" id="'+ name +'1" checked="true" disabled="true"/&gt;';
        }else{
           return '&lt;input type="checkbox" id="' + name+ '1" disabled="true"/&gt;';
        }
        return value; 
     }
  }	
	
	function getConvertedValue(value, flag){
		 if(flag == '0'){
				var values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				var values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}	
	
	  function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
      if(textFields.indexOf(names[i]) != -1 ){ 
            $('#'+names[i] + "1").html('');
      }else{
				   $('#'+names[i] +"1").html('&lt;input type="checkbox" id="'+ names[i] +"1" + '" disabled="true"/&gt;');
           $('#'+names[i] + "1").prop('checked', false); 
		       $('#'+names[i] + "1").removeAttr("disabled");
      }
    }
  }	
	
spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;
.form-control1 {
    display: block;
    width: 20%;
    height: 30px;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857;
    color: #555555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-gps-approval-table&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS GPA Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalTasks = [];
	data.reviewedTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var gpa_asst = gr.isMemberOf('CCR_GPA_ASST');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		gpa_asst: gpa_asst,
		sd: sd
	};
	if(gpa || gpa_asst){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR Genomic Data Sharing Plan");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');

			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
       if(!gpa_asst){
					gr_approval_items.addQuery('approver', my_sys_id); 
			 }
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_GDSP" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(!((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'SD Rejected - Waiting for GPA Review')) &amp;&amp;  (gr_approval_items.state == 'approved' || (gr_approval_items.state = 'rejected' &amp;&amp; stage_v == 'Waiting for PI Resubmit' &amp;&amp;  gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review'))){
							if(stage_v != 'Completed' || (stage_v == 'Completed' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review')){			
										var item = {};
										item.gdsp_id = ticket_number;
										item.principal_investigator = gr_approval_items.document_id.u_investigator.toString();
										item.project_name = gr_approval_items.document_id.u_project_name.toString();
										item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
										item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
										item.status = gr_approval_items.document_id.context.stage.name.toString();
										item.last_update_date = gr_approval_items.sys_updated_on.toString();
										item.stage = stage_v.toString();
										item.sys_id = gr_approval_items.sys_id.toString();
										item.doc_id = gr_approval_items.document_id.toString();
										item.state = gr_approval_items.state.toString();
										data.reviewedTasks.push(item);
							}
						}
							if((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'SD Rejected - Waiting for GPA Review')){
								  var items = {};
									items.gdsp_id = ticket_number;
									items.principal_investigator = gr_approval_items.document_id.u_investigator.toString();
									items.project_name = gr_approval_items.document_id.u_project_name.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalTasks.push(items);
							}
			}
	}	
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-02 19:50:24&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;47a5f364dbe2ba00f59974131f96197a&lt;/sys_id&gt;&lt;sys_mod_count&gt;97&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS GPA Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_47a5f364dbe2ba00f59974131f96197a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-16 21:36:54&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;br/&gt;
  &lt;div class="panel panel-success" ng-show="c.data.approvalTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_gpaApprovalItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaApprovalItems" aria-expanded="true" data-target="#collapsegpaApprovalItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Genomic Data Sharing Plans Waiting for GPA Approval &lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_gpaApprovalItems" class="panel-collapse collapse in" id="collapsegpaApprovalItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchSavedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalTasks | filter: searchSavedGDSP "
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.view(row.doc_id, row.sys_id, row.state, row.stage, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.report(row.doc_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
            ng-model="c.pagination.currentSize"
            ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;br/&gt;&lt;br/&gt;

  &lt;div class="panel panel-success" ng-show="c.data.reviewedTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading" id="heading_gpaReviewedItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaReviewedItems" aria-expanded="true" data-target="#collapsegpaReviewedItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Genomic Data Sharing Plans reviewed by GPA &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_gpaReviewedItems" class="panel-collapse collapse" id="collapsegpaReviewedItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;input type="text" class="form-control1" ng-model="searchSubmittedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt; 
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedTasks  | filter:searchSubmittedGDSP"
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.view(row.doc_id, row.sys_id, row.state, row.stage,row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary" ng-click="c.report(row.doc_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;form class="form-inline pull-right"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
            ng-model="c.pagination1.currentSize"
            ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  

      &lt;!-- select the page index (offset) --&gt;
      &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.reviewedTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange1() track by $index"
          ng-click="c.setPage1($index)"
        &gt;
          &lt;a href=""&gt;{{ $index + 1 }}&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;
]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>917402376</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>adf9c652dbd7570054d8ff621f961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164a5065c680000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS GPA Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>dfa982528dd75700ed3d9845855b0210</update_guid>
<update_guid_history>dfa982528dd75700ed3d9845855b0210:917402376,33898ede0c97570012ed9494a0599565:-777717217,7028d1921f575700b5b65956695c5ff3:-1039173601,48975d1a88175700a55160fbdd6afd37:-2057389495,cc775912b7575700139e8e11c73e9f4d:-393100306,563ea695b11b9300d9b053f3ab72851e:-2025349379,c82e2e19b01b9300bc7df1fc3e75f4b4:993046061,aeee5a80233c1300b2fbcca6362bacae:-212706499,78fd1a404e3c13007e062f1ab1c2a70d:-240609239,05edd640333c13009e50e3552ab7ce12:854694992,b2cdd640463c13005bafdb8ffc2a1681:-1445478983,e7fc128c8ff81300b4bcfbd24d7e15f4:-796383314,73ec1a40323c130072dececd35e85306:1897852082,fe855580d9374700ab51c788b1b5e821:-447323702,c97091cc0ef347004b64416ebed8272b:-1694591112,317f858cb2f3470067a370a34a06830f:135399208,cf2f018c16f347003573ce875a8c34a4:209501476,60fe4d4c0ff347007a03bae6d4cc83d9:-973584284,85878584a2f3470028f3aa08b337df7f:209501476,be96858419f34700f6d6171a0957921c:-2078174090,2466858440f3470088a3b4169269cf29:209501476,5d56c108a6f347001edbc73c9911d46f:1134750660,704ac5f509a7cf0028b76c441c9d6864:209501476,7df88975a3a7cf008a1ef630ba6749b1:-1420212036,11e8cdf1b4a7cf0020d0c065d35557e5:-2058132418,9dfbaa9a982a870095cdaafbcafc4943:-376626880,5e4baad63f2a87004a99b343fa031a2e:1258925794,a3f63f6854a28300d882924fa4f1b9b3:-567254,0218579f77de830022ed883779dc86eb:637767122,0218579f77de830022ed883779dc86eb:637767122,0218579f77de830022ed883779dc86eb:637767122</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_df8ca36edb2f360054d8ff621f9619dc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope) {
  /* widget controller */
  var c = this;
  $scope.icNext = function () {
		var sampleTime = $('input[name=sampleTime]:checked').val();
		$('#type').val('new');
		var sampleConsent = $('input[name=sampleConsent]:checked').val();
	    $('#sample_time').val(sampleTime);
	    $('#sample_consent').val(sampleConsent);
	    $('#icQuestion').modal('hide');
		if(sampleTime == 'no' &amp;&amp; sampleConsent == 'no'){
			$('#warning').modal('show');
		}else if(sampleTime == 'yes' &amp;&amp; sampleConsent == 'yes'){
			$('#icMessage').html("&lt;i&gt;Sample collected before August 31 2015, with informed consent.&lt;/i&gt;");
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 1	
		}else if(sampleTime == 'yes' &amp;&amp; sampleConsent == 'no'){
			$('#icMessage').html("&lt;i&gt;Sample collected before August 31 2015, without informed consent.&lt;/i&gt;");
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
		  //show form 2
		}else if(sampleTime == 'no' &amp;&amp; sampleConsent == 'yes'){
			$('#icMessage').html("&lt;i&gt;Sample collected after August 31 2015, with informed consent.&lt;/i&gt;");
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 3
		}else{
			alert("Invalid Choice!");
		}
		//get current date
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth()+1; //January is 0!
		var yyyy = today.getFullYear();
		if(dd&lt;10){
				dd='0'+dd;
		} 
		if(mm&lt;10){
				mm='0'+mm;
		} 
		var currentDate = mm+'/'+dd+'/'+yyyy;
		$('#certification_date').val(currentDate);
	   $('#consent_group').val('');
  };
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css/&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gqw&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS IC question Widget&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-06-27 17:21:09&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;df8ca36edb2f360054d8ff621f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;41&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS IC question Widget&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_df8ca36edb2f360054d8ff621f9619dc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-28 18:35:32&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="icQuestion" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;   
	&lt;div class="modal-dialog"&gt;
  	&lt;div class="modal-content"&gt;
         &lt;div class="modal-header"&gt;
               &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                   &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
               &lt;/button&gt;
               &lt;h4  class="modal-title"&gt;Intramural Certification Submission&lt;/h4&gt;
         &lt;/div&gt;      
         &lt;div class="modal-body"&gt;
      		&lt;br/&gt;
            &lt;div class="row"&gt;
              &lt;div class="col-md-8"&gt;
                &lt;label&gt;Have samples been collected before August 31, 2015?&lt;/label&gt; 
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;Yes &amp;nbsp;&lt;input type="radio" name="sampleTime" value="yes" checked/&gt;&lt;/label&gt;
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;No &amp;nbsp;&lt;input type="radio" name="sampleTime" value="no"/&gt;&lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="row"&gt;&amp;nbsp;&lt;/div&gt;  
                &lt;div class="row"&gt;
              &lt;div class="col-md-8"&gt;
                &lt;label&gt;Have samples been collected with informed consent?&lt;/label&gt;
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;Yes &amp;nbsp;&lt;input type="radio" name="sampleConsent" value="yes" checked/&gt;&lt;/label&gt;
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;No &amp;nbsp;&lt;input type="radio" name="sampleConsent" value="no"/&gt;&lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;br/&gt;
         &lt;/div&gt;
           &lt;div class="modal-footer"&gt;
                &lt;button type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;" ng-click='icNext()'&gt;Next&lt;/button&gt;
           &lt;/div&gt;       
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt; 
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1643531491</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>e1f9c652dbd7570054d8ff621f961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16447add84e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS IC question Widget</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>8f83f460d8cfd700a3e52403509ee7be</update_guid>
<update_guid_history>8f83f460d8cfd700a3e52403509ee7be:1643531491,d683f46098cfd70017df1c2c03631e68:-1891133109,a16330600fcfd70050416c2784655213:-282204757,c2a2e42e23a74300b75e78b2ff57d8f2:274886611,a3cbc93916a7cf001aa943855bd25633:356325975,ae18979fa6de8300aa384418ea225718:1724722102,ae18979fa6de8300aa384418ea225718:1724722102</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_6f829e9adbf1b20054d8ff621f961937</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($rootScope, $scope, spUtil, $http, $window) {
	var c = this;
	var my_sys_id = c.data.info.userId;
	var sessionId = c.data.info.sessionId;
	var user_name = c.data.info.userName;
	$('#refresh').val('0');
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [{
		key: 'project_name',
		label: 'Project Name',
		sort: 'asc'
	},
							 {
								 key: 'sys_create_on',
								 label: 'Created Date',
								 sort: 'asc'
							 },
							 {
								 key: 'actions',
								 label: 'Actions',
								 sort: null
							 }
							];

	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.tasks.length / currentSize));
	};

	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};

	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.tasks = c.data.tasks.sort(compareRows);
		}
	};

	c.pagination0 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns0 = [{
		key: 'ic_id',
		label: 'IC ID',
		sort: 'asc'
	},
								{
									key: 'study_name',
									label: 'Study Name',
									sort: 'asc'
								},
								{
									key: 'project_title',
									label: 'Project Title',
									sort: 'asc'
								},
								{
									key: 'submitted_by',
									label: 'Submitted By',
									sort: 'asc'
								},
								{
									key: 'submitted_date',
									label: 'Submitted Date',
									sort: 'asc'
								},
								{
									key: 'status',
									label: 'Status',
									sort: 'asc'
								},
								{
									key: 'last_update_date',
									label: 'Last Update Date',
									sort: 'asc'
								},
								{
									key: 'approval',
									label: 'Approval',
									sort: null
								},

								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}		
							 ];

	c.getRange0 = function() {
		var currentSize = c.pagination0.currentSize;
		var currentPage = c.pagination0.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.icSignTasks.length / currentSize));
	};

	c.setPage0 = function(index) {
		c.pagination0.currentPage = index;
	};

	c.toggleSort0 = function(index) {
		var column = c.columns0[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.icSignTasks = c.data.icSignTasks.sort(compareRows);
		}
	};

	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [{
		key: 'gdsp_id',
		label: 'GDSP ID',
		sort: 'asc'
	},
								{
									key: 'principal_name',
									label: 'Principal Name',
									sort: 'asc'
								},
								{
									key: 'project_name',
									label: 'Project Name',
									sort: 'asc'
								},
								{
									key: 'status',
									label: 'Status',
									sort: 'asc'
								},
								{
									key: 'approval',
									label: 'Approval',
									sort: null
								},
								{
									key: 'submitted_date',
									label: 'Submitted Date',
									sort: 'asc'
								},
								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}
							 ];

	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.submittedTasks.length / currentSize));
	};

	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};

	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.submittedTasks = c.data.submittedTasks.sort(compareRows);
		}
	};

	c.pagination2 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns2 = [{
		key: 'study_name',
		label: 'Study Name',
		sort: 'asc'
	},
								{
									key: 'project_title',
									label: 'Project Title',
									sort: 'asc'
								},
								{
									key: 'certification_to',
									label: 'Certification Issues To',
									sort: 'asc'
								},
								{
									key: 'certification_from',
									label: 'Certification Issues From',
									sort: 'asc'
								},
								{
									key: 'gpa_organization',
									label: 'Organization of GPA',
									sort: null
								},
								{
									key: 'sd_organization',
									label: 'Organization of SD',
									sort: 'asc'
								},
								{
									key: 'sys_create_on',
									label: 'Created Date',
									sort: 'asc'
								},
								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}
							 ];

	c.getRange2 = function() {
		var currentSize = c.pagination2.currentSize;
		var currentPage = c.pagination2.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.icTasks.length / currentSize));
	};

	c.setPage2 = function(index) {
		c.pagination2.currentPage = index;
	};

	c.toggleSort2 = function(index) {
		var column = c.columns2[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.icTasks = c.data.icTasks.sort(compareRows);
		}
	};

	c.pagination3 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns3 = [{
		key: 'first_name',
		label: 'First Name',
		sort: 'asc'
	},
								{
									key: 'last_name',
									label: 'Last Name',
									sort: 'asc'
								},
								{
									key: 'access',
									label: 'Access',
									sort: 'asc'
								},
								{
									key: 'action',
									label: 'Action',
									sort: null
								}
							 ];

	c.getRange3 = function() {
		var currentSize = c.pagination3.currentSize;
		var currentPage = c.pagination3.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.userTasks.length / currentSize));
	};

	c.setPage3 = function(index) {
		c.pagination3.currentPage = index;
	};

	c.toggleSort3 = function(index) {
		var column = c.columns3[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.userTasks = c.data.userTasks.sort(compareRows);
		}
	};

	c.pagination4 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns4 = [{
		key: 'ic_id',
		label: 'IC ID',
		sort: 'asc'
	},
								{
									key: 'study_name',
									label: 'Study Name',
									sort: 'asc'
								},
								{
									key: 'project_title',
									label: 'Project Title',
									sort: 'asc'
								},
								{
									key: 'issue_to',
									label: 'Certification Issues To',
									sort: 'asc'
								},
								{
									key: 'issue_from',
									label: 'Certification Issues From',
									sort: 'asc'
								},
								{
									key: 'status',
									label: 'Approval',
									sort: 'asc'
								},
								{
									key: 'approval',
									label: 'Approval',
									sort: null
								},
								{
									key: 'submitted_date',
									label: 'Submitted Date',
									sort: 'asc'
								},
								{
									key: 'action',
									label: 'Action',
									sort: null
								}
							 ];

	c.getRange4 = function() {
		var currentSize = c.pagination4.currentSize;
		var currentPage = c.pagination4.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.icSubmittedTasks.length / currentSize));
	};

	c.setPage4 = function(index) {
		c.pagination4.currentPage = index;
	};

	c.toggleSort4 = function(index) {
		var column = c.columns4[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.icSubmittedTasks = c.data.icSubmittedTasks.sort(compareRows);
		}
	};

	c.pagination5 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns5 = [{
		key: 'project_name',
		label: 'Project Name',
		sort: 'asc'
	},
								{
									key: 'investigator',
									label: 'Investigator',
									sort: 'asc'
								},
								{
									key: 'sys_create_on',
									label: 'Created Date',
									sort: 'asc'
								},
								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}
							 ];

	c.getRange5 = function() {
		var currentSize = c.pagination5.currentSize;
		var currentPage = c.pagination5.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.erTasks.length / currentSize));
	};

	c.setPage5 = function(index) {
		c.pagination5.currentPage = index;
	};

	c.toggleSort5 = function(index) {
		var column = c.columns5[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.erTasks = c.data.erTasks.sort(compareRows);
		}
	};
	//start client js

	$('.collapse').on('shown.bs.collapse', function() {
		console.log(this);
		$(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
	}).on('hidden.bs.collapse', function() {
		$(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
	});

	var names = ['investigator', 'pTitle', 'pBranch', 'email', 'phone', 'date', 'projectNumber', 'projectName', 'simpleSize', 'prospective', 'restrospective', 'human', 'nonHuman', 'germLine', 'somatic', 'dnaType', 'rnaType', 'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression', 'methylationArray', 'numMethylation', 'arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository', 'phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation', 'limitedOnly', 'limitedPurpose', 'relateToDisease', 'orginId', 'version', 'rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator', 'pTitle', 'pBranch', 'email', 'phone', 'date', 'projectNumber', 'projectName', 'simpleSize', 'specifyOtherType', 'spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument', 'specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version', 'numSNP', 'numExpression', 'numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var icNames = ['certification_date', 'institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'data_access', 'display', 'frequency', 'sampleTime', 'sampleConsent', 'consent_group'];

	$scope.backToMain = function() {
		$('#refresh').val('0');
		location.replace("$sp.do?id=gds_web_application");
	};

	$("#piName").autocomplete({
		delay: 500,
		source: function(request, response) {
			var term = $('#piName').val();
			var temp = '';
			if (term.indexOf(',') &gt;= 0) {
				temp = term.split(',');
				var length = temp.length;
				if (length &gt; 1) {
					term = temp[1].trim() + " " + temp[0].trim();
				} else {
					term = temp[0];
				}
			}
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchUserList',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					'term': term
				}
			};
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;

				response(result);
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}
		},
		autoFocus: true,
		select: function(event, ui) {
			$('#refresh').val('0');
			console.log(event, ui);
			var id = ui.item.id;
			var email = ui.item.email;
			var phone = ui.item.phone;
			var title = ui.item.title;
			var name = (ui.item.value || '').split(' ');
			$('#piUserId').val(id);
			if (name != null &amp;&amp; name.length &gt; 1) {
				$('#piFirstName').val(name[0]);
				$('#piLastName').val(name[1]);
				$('#piEmail').val(email);
				$('#piPhone').val(phone);
				$('#pTitle').val(title);
			} else {
				$('#piFirstName').val('');
				$('#piLastName').val('');
				$('#piEmail').val('');
				$('#piPhone').val('');
				$('#piTitle').val('');
			}
		}
	});
	$("#userName").autocomplete({
		delay: 500,
		source: function(request, response) {
			var term = $('#userName').val();
			var temp = '';
			if (term.indexOf(',') &gt;= 0) {
				temp = term.split(',');
				var length = temp.length;
				if (length &gt; 1) {
					term = temp[1].trim() + " " + temp[0].trim();
				} else {
					term = temp[0];
				}
			}
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchUserList',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					'term': term
				}
			};
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;

				response(result);
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}
		},
		autoFocus: true,
		select: function(event, ui) {
			$('#refresh').val('0');
			console.log(event, ui);
			var id = ui.item.id;
			var name = (ui.item.value || '').split(' ');
			$('#userId').val(id);
			if (name != null &amp;&amp; name.length &gt; 1) {
				$('#userFirstName').val(name[0]);
				$('#userLastName').val(name[1]);
			} else {
				$('#userFirstName').val('');
				$('#userLastName').val('');
			}
		}
	});
	var isLoading = true;
	$('#selectParent').select2();
	/*$('#selectParent').on("change", function(e){
		if (isLoading) {
			isLoading = false;
		} else {
			var value = $(this).val();
			setTimeout(function() {
				var parentId = JSON.stringify(value);
				var gdspStatus = $('#gdspStatus').val();
				var icStatus = $('#icStatus').val();
			}, 0);				
		}
	});*/
	var userLocation = window.location.href;

	var temp = userLocation.split('&amp;');
	var rec_id = '';
	var access = '';

	if (temp.length &gt; 1) {
		var t1 = temp[1].split('itemId');
		rec_id = t1[1].substring(1);
	}
	if (temp.length &gt; 1) {
		var t2 = temp[2].split('access');
		access = t2[1].substring(1);
	}

	access = unescape(access);
	access = encodeDecodeData(access.trim(), 'decode');
	if(access != 'Read_and_Write'){
		access = 'Read_Only';
	}
	if (rec_id != null &amp; rec_id.length &gt; 0) {
		$('#recId').val(rec_id);
		c.data.access = access;
		loadSavedData($('#recId').val());
		loadData(rec_id);
		$('#gdspli').show();
		$('#icli').show();
		$('#erli').show();
		$('#acli').show();

	} else {
		clearData("no Id");
		loadParentOptionString();
		$('#titleDiv').hide();
	}
	preprocess(access);

	function preprocess(access) {
		var names = ['projectTitle', 'piFirstName', 'piLastName', 'piEmail', 'piPhone', 'organismType'];
		$('#refresh').val('0');
		//var radioName = "erId";
		if (access == 'Read_Only') {
			for (var i = 0; i &lt; names.length; i++) {
				if (names[i] == 'organismType') {
					$('#' + names[i]).attr('disabled', 'disabled');
				}
				$('#' + names[i]).attr('readonly', 'readonly');
			}
			$('#erId1').attr('disabled', 'disabled');
			$('#erId2').attr('disabled', 'disabled');
		}
		if (access == 'Read_and_Write') {
			for (var k = 0; k &lt; names.length; k++) {
				if (names[k] == 'organismType') {
					$('#' + names[k]).removeAttr('disabled');
				}
				$('#' + names[k]).removeAttr('readonly');
			}
			$('#erId1').removeAttr('disabled');
			$('#erId2').removeAttr('disabled');
		}
		loadBranchOptionString();
		//$('#piName').attr('readOnly', 'readOnly');
	}

	function loadSavedData(id){
		var data = {
			gdsId: id,
			sysId: my_sys_id
		};
		//load GDSP saved Data
		$('#refresh').val('0');
		var req = {
			method: 'GET',
			url: '/api/naci/gds/loadGDSPSaveData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(req).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			//populate user data
			c.data.tasks = result;
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
		//load IC saved Data
		var req1 = {
			method: 'GET',
			url: '/api/naci/gds/loadICSavedData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(req1).then(handleResponse1, handleError1);
		function handleResponse1(response) {
			var result = response.data.result;
			//populate user data
			c.data.icTasks = result;
			console.log(result);
		}

		function handleError1(response) {
			console.error(response);
			alert('ERROR');
		}		 

	}

	//when page ready, the user access should populate
	function loadUserData() {
		var data = {
			gds_id: rec_id,
			user_id: my_sys_id
		};
		var req = {
			method: 'GET',
			url: '/api/naci/gds/getUser',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(req).then(handleResponse, handleError);
		$('#refresh').val('0');
		function handleResponse(response) {
			var result = response.data.result;
			//populate user data
			c.data.userTasks = result;
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	//end of loading user data
	loadUserData();
	$scope.lookUser = function() {
		$('#refresh').val('0');
		$('#first_name').val('');
		$('#last_name').val('');
		$('#userPageType').val('gdsInfo');
		$('#userSelection').modal('show');
	}
	$scope.saveProjectInformation = function(type) {
		$('#refresh').val('0');
		if (validateGDSInfo()) {
			$('#gdsErrorDiv').show();
		} else {
			$('#gdsErrorDiv').hide();
			var sessionId = c.data.info.sessionId;
			var userId = c.data.info.userId;
			var variables = getProjectInfoData();
			variables[0].userId = userId;
			if (type == 1) {
				variables[0].gds_id = $('#hideGDSId').val();
				variables[0].method = "update";
			} else if (type == 0) {
				variables[0].method = "save";
			}
			var param = JSON.stringify(variables);
			$.ajax({
				dataType: "json",
				type: "POST",
				contentType: "application/json",
				url: "/api/naci/gds/saveProjectInformationService",
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				data: param,
				async: false,
				success: function(data) {
					$('#titleDiv').html(" &lt;b&gt;GDS ID: " + data.result[0].gds_number + "&lt;/b&gt; &lt;lable&gt;");
					$('#titleDiv').show();
					$('#titleButtomDiv').html(" &lt;b&gt;GDS ID: " + data.result[0].gds_number + "&lt;/b&gt; &lt;lable&gt;");
					$('#titleButtomDiv').show();
					$('#hideGDSId').val(data.result[0].gds_id.toString());
					loadUserData();
					$('#saveBt').hide();
					$('#updateBt').show();
					//$('#messageDiv').html("&lt;font color='green'&gt;The project information has been saved successfully&lt;font&gt;");
					//$('#messageDiv').show();
					$('#messageInfo').html('The project information has been saved successfully');
					$('#infoModal').modal('show');
					$('#btnOkConfirm').off('click').click(function() {
						$('#infoModal').modal('hide');
						location.reload();
					});
					$('#gdspli').show();
					$('#icli').show();
					$('#erli').show();
					$('#acli').show();
					//based on the information to enable or disable IC and Exception Request
					if (variables[0].organismType == 'human' || variables[0].organismType == 'both') {
						$('#icBtn').removeAttr('disabled');
					} else {
						$('#icBtn').attr('disabled', 'disabled');
					}
					if (variables[0].erId == 'yes') {
						$('#erBtn').removeAttr("disabled");
					} else {
						$('#erBtn').attr("disabled", "disabled");
					}
					if(type == 0){
						document.location.href = "$sp.do?id=gds_web_main&amp;itemId=" + $('#hideGDSId').val() + "&amp;access=" + encodeDecodeData('Read_and_Write', 'encode');
					}
					//save user - if PI is not creator, then grant PI project access
					var piId = $('#piUserId').val();
					if(piId != my_sys_id){
						var gdsId = $('#hideGDSId').val();
						var userData = piId + "+" + $('#piFirstName').val() + "+" + $('#piLastName').val();
						saveUser(userData, gdsId, 'Read_and_Write');
					}
				},
				error: function(data) {
					alert("ERROR");
				}
			});
		}
	};

	function validateGDSInfo() {
		var isOk = false;
		clearGDSInfoBackgroud();
		if ($('#projectTitle').val().trim().length == 0) {
			$('#projectTitle').css("background-color", "yellow");
			isOk = true;
		}
		//make sure the user select PI
		if ($('#piName').val().trim().length == 0 ||  $('#piUserId').val() == null ||  $('#piUserId').val().trim().length == 0) {
			$('#piName').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piEmail').val().trim().length == 0) {
			$('#piEmail').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piPhone').val().trim().length == 0) {
			$('#piPhone').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piTitle').val().trim().length == 0) {
			$('#piTitle').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piBranch').val() == "None") {
			$('#piBranch').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#organismType').val() == "0") {
			$('#organismType').css("background-color", "yellow");
			isOk = true;
		}

		return isOk;
	}

	function clearGDSInfoBackgroud() {
		$('#projectTitle').css("background-color", "");
		$('#piName').css("background-color", "");
		$('#piEmail').css("background-color", "");
		$('#piPhone').css("background-color", "");
		$('#piTitle').css("background-color", "");
		$('#piBranch').css("background-color", "");
		$('#organismType').css("background-color", "");
	}

	$scope.createGDSP = function() {
		$('#collapseGDSP').collapse('show');
		var $gdsp = $('#loadedRequests');
		$('#refresh').val('0');
		clearRequiredFieldBackColor();
		resetRequestValue();
		$('#errorMessage').html('');
		$('#ccr_id').val('');
		$('#saved_id').val('');
		$('#regularSubmit').show();
		$('#resubmit').hide();
		$('#pre_comments_div1').hide();
		//load GDS information and fill them into GDSP form
		var data = {
			sysId: $('#hideGDSId').val()
		};
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectInformation',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result[0];
			//populate data into submission form
			loadGDSData(result);
			$('#inFirstName').val($('#piFirstName').val());
			$('#inLastName').val($('#piLastName').val());
			$('#inUserId').val($('#piUserId').val());
			$gdsp.modal('show').on('shown.bs.modal', function(el) {
				$(el.target).find('.modal-content').scrollTop(0);
			});
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	$scope.openIcQUestion = function() {
		$('#refresh').val('0');
		$('#collapseIC').collapse('show');
		cleanICData();
		$('#project_title').val($('#projectTitle').val());
		showSubmitButton('0');
		$('#icError').hide();
		clearICFieldBackground();
		$('#pre_comments_ic_div1').hide();

		$('#icQuestion').modal('show');
	}

	$scope.closeGDSPModal = function() {
		var $gdsp = $('#loadedRequests');
		$gdsp.modal('hide');
	}

	c.editItem = function(id) {
		$('#refresh').val('0');
		clearRequiredFieldBackColor();
		$('#inFirstName').val('');
		$('#inLastName').val('');
		$('#inUserId').val('');
		$('#pTitle').val('');
		$('#pBranch').val('None');
		$('#phone').val('');
		$('#email').val('');
		$('#investigator').val('');
		$('#errorMessage').html('');
		$('#pre_comments_div1').hide();
		$('#regularSubmit').show();
		$('#resubmit').hide(); 
		var data = {
			requested_id: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSavedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			showModal();
			$('#saved_id').val(id);
			$('#selectedUserData').val(result[0].requested_for);
			loadRequestData(result[0].value);
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	c.removeItem = function(id) {
		$('#refresh').val('0');
		var $confirm = $('#confirmDiv');
		$confirm.modal('show');
		$('#message').html("Are you sure you want to remove this record?");
		$('#btnYesConfirmYesNo').off('click').click(function() {
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);

			function handleResponse(response) {
				var result = response.data.result;
				$confirm.modal('hide');
				$('#loading').show();
				console.log(result);
			}

			function handleError(response) {
				console.error(response);
				$confirm.modal('hide');
				alert('ERROR');
			}
		});
		$('#btnNoConfirmYesNo').off('click').click(function() {
			$confirm.modal('hide');
		});
	};
	var userList = [];

	function addUser() {
		var firstname = $('#userFirstName').val();
		var lastname = $('#userLastName').val();
		var userId = $('#userId').val();
		var userData = userId + "+" + firstname + "+" + lastname;
		var gdsId = $('#recId').val();
		var access = $('input[name=access]:checked').val();
		if (firstname.trim().length == 0 || lastname.trim().length == 0 || userData.trim().length == 0) {
			$('#error').html('&lt;font color=red&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Please select a user and Accecss Control (click on the name from the list).&lt;/font&gt;');
			$('#error').show();
		} else {
			$('#error').hide();
			//save data into table u_gds_user_accress_t
			saveUserData(userData, gdsId, access);
			$('#userFirstName').val('');
			$('#userLastName').val('');
			$('#userName').val('');
			$("[name = 'access'][value='Read Only']").prop('checked', true);
		}
	};
	$scope.withdrawIC = function(id, ic_id) {
		$('#refresh').val('0');
		$('#messageWithdrawIC').html('Are you sure you want to withdraw this IC request?');
		$('#withdrawICDiv').modal('show');
		$('#btnYesWithdrawIC').off('click').click(function() {
			withdrawRequestIC(id, my_sys_id, ic_id);
			$('#withdrawICDiv').modal('hide');
			$('#loading').show();
		});
		$('#btnNoWithdrawIC').off('click').click(function() {
			$('#withdrawICDiv').modal('hide');
		});
	};

	function saveUserData(userData, gdsId, access) {
		var data1 = {
			data: userData,
			gds_id: gdsId,
			access: access,
			action: 'add'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/saveUser',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data1
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			loadUserData();
			$('#addUserAccessDiv').modal('hide');
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	$scope.searchUser = function() {
		$('#refresh').val('0');
		$('#first_name').val('');
		$('#last_name').val('');
		$('#userPageType').val('user');
		$('#userSelection').modal('show');
	};

	function loadGDSData(data) {
		$('#refresh').val('0');
		$('#investigator').val(data.piFirstName + " " + data.piLastName);
		$('#email').val(data.piEmail);
		$('#phone').val(data.piPhone);
		//$('#projectName').val(data.projectTitle);
		$('#pTitle').val(data.piTitle);
		$('#pBranch').val(data.piBranch);
		//get current date
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth() + 1; //January is 0!

		var yyyy = today.getFullYear();
		if (dd &lt; 10) {
			dd = '0' + dd;
		}
		if (mm &lt; 10) {
			mm = '0' + mm;
		}
		var currentDate = mm + '/' + dd + '/' + yyyy;
		$('#date').val(currentDate);
	}

	function loadParentOptionString() {
		$.ajax({
			url: '/api/naci/gds/getAllGDS',
			data: {
				gdsId: rec_id,
				userId: my_sys_id,
				method: 'individual'
			},
			async: false,
			dataType: 'json',
			complete: handleResponse,
			error: handleError
		});

		function handleResponse(response) {
			var result = response.responseJSON.result;
			var val = "";
			for (var i = 0; i &lt; result.length; i++) {
				val = val + "&lt;option value='" + result[i].number + "'&gt;" + result[i].number + "&lt;/option&gt;";
			}
			$('#selectParent').html(val);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function loadData(rec_id) {
		loadSavedData(rec_id);
		loadParentOptionString();
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectInformation',
			headers: {
				'Content-Type': 'application/json'
			},
			params: {
				sysId: rec_id
			}
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			$('#projectTitle').val(result[0].projectTitle);
			$('#piFirstName').val(result[0].piFirstName);
			$('#piLastName').val(result[0].piLastName);
			$('#piUserId').val(result[0].piUserId);
			$('#piName').val(result[0].piFirstName + " " + result[0].piLastName);
			$('#piEmail').val(result[0].piEmail);
			$('#piTitle').val(result[0].piTitle);
			$('#piBranch').val(result[0].piBranch);
			$('#piPhone').val(result[0].piPhone);
			$('#organismType').val(result[0].organismType);
			$('#selectParent').val(result[0].parent.split(',')).change();//('change');
			var selectedParent = $('#selectParent').val();
			if (result[0].organismType == 'human' || result[0].organismType == 'both') {
				$('#icBtn').removeAttr('disabled');
			} else {
				$('#icBtn').attr('disabled', 'disabled');
			}
			if (result[0].erId == 'yes') {
				$('#erId1').prop("checked", true);
				$('#erBtn').removeAttr('disabled');
			}
			if (result[0].erId == 'no') {
				$('#erId2').prop("checked", true);
				$('#erBtn').attr('disabled', 'disabled');
			}
			$('#titleDiv').html("&lt;label&gt;&lt;b&gt;GDS ID: " + result[0].projectId + "&lt;/b&gt; &lt;lable&gt;");
			$('#titleDiv').show();
			$('#titleButtomDiv').html("&lt;label&gt;&lt;b&gt;GDS ID: " + result[0].projectId + "&lt;/b&gt; &lt;lable&gt;");
			$('#titleButtomDiv').show();
			$('#hideGDSId').val(rec_id);
			$('#gds_id').val(result[0].projectId);
			var gdsp_status = result[0].gdsp_status;
			var ic_status = result[0].ic_status;
			$('#gdspStatus').val(gdsp_status);
			$('#icStatus').val(ic_status);
			//load parent GDSP
			loadSubmittedData(gdsp_status, selectedParent);
			//load parent IC
			loadICSubmittedData(ic_status, selectedParent);

			$('#saveBt').hide();
			controlElementBasedOnAccess();
		}

		function loadSubmittedData(gdsp_status, selectedParent) {
			var request = {
				method: 'GET',
				url: '/api/naci/gds/getProjectGDSPInformation',
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					projectId: gdsp_status,
					parentId: selectedParent,
					mySysId: my_sys_id
				}
			};
			$http(request).then(handleResponse1, handleError1);

			function handleResponse1(response) {
				//set submitted GDSP data
				var result = response.data.result;
				c.data.submittedTasks = result;
				console.log(result);
			}

			function handleError1(response) {
				console.error(response);
				alert('ERROR');
			}
	  }	

	function loadICSubmittedData(ic_status, selectedParent) {
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectICInformation',
			headers: {
				'Content-Type': 'application/json'
			},
			params: {
				projectId: ic_status,
				parentId: selectedParent,
				mySysId: my_sys_id
			}
		};
		$http(request).then(handleResponse2, handleError2);

		function handleResponse2(response) {
			//set submitted GDSP data
			var result = response.data.result;
			c.data.icSubmittedTasks = result;
			console.log(result);
		}

		function handleError2(response) {
			console.error(response);
			alert('ERROR');
		}
	}
		function controlElementBasedOnAccess() {
			if (access == 'Read_Only') {
				$('#updateBt').hide();
				$('#accessBtn').attr('disabled', 'disabled');
				$('#gdspBt').attr('disabled', 'disabled');
				$('#icBtn').attr('disabled', 'disabled');
				$('#findBt').attr('disabled', 'disabled');
				$('#addBt').attr('disabled', 'disabled');
				$('#erBtn').attr('disabled', 'disabled');
			} else {
				$('#updateBt').show();
			}
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function clearData() {
		$('#projectTitle').val('');
		$('#piName').val('');
		$('#piFirstName').val('');
		$('#piLastName').val('');
		$('#piEmail').val('');
		$('#piPhone').val('');
		$('#organismType').val('0');
		$('#erId2').prop("checked", true);
	}

	$('#brop-tabs a').click(function(e) {
		e.preventDefault();
		$(this).tab('show');
		$('#messageDiv').html();
		$('#messageDiv').hide();
	});

	function getProjectInfoData() {
		var names = ['projectTitle', 'piFirstName', 'piLastName', 'piEmail', 'piPhone', 'organismType', 'piUserId', 'piTitle', 'piBranch'];
		var radioName = "erId";
		var variables = {};
		var index = 0;
		for (index = 0; index &lt; names.length; index++) {
			var value = $('#' + names[index]).val();
			variables[names[index]] = value;
		}
		var radioValue = '';
		if ($('#erId1').is(":checked")) {
			radioValue = 'yes';
		}
		if ($('#erId2').is(":checked")) {
			radioValue = 'no';
		}
		variables.erId = radioValue;
		variables.user_name = user_name;
		var selectedParent = $('#selectParent').val();
		if (selectedParent == null) {
			selectedParent = "";
		} else {
			selectedParent = selectedParent.toString();
		}
		variables.parent = selectedParent;
		return [variables];
	}

	function resetRequestValue() {
		var i = 0;
		for (i = 0; i != names.length; i++) {
			if (textFields.indexOf(names[i]) != -1) {
				$('#' + names[i]).val('');
			} else {
				$('#' + names[i]).prop('checked', false);
				$('#' + names[i]).removeAttr("disabled");
			}
		}
		$('#withdrawCommentsId').val('');
		$('#withdrawSubmitId').val('');
		$('#saved_id').val('');
	}

	function clearRequiredFieldBackColor() {
		$('#investigator').css("background-color", "");
		$('#email').css("background-color", "");
		$('#phone').css("background-color", "");
		$('#date').css("background-color", "");
		$('#projectName').css("background-color", "");
		$('#simpleSize').css("background-color", "");
		$('#collectionTypeId').css("background-color", "");
		$('#dataId').css("background-color", "");
		$('#specifyOtherType').css("background-color", "");
		$('#data2Id').css("background-color", "");
		$('#arrayDataId').css("background-color", "");
		$('#genotypesId').css("background-color", "");
		$('#sequenceId').css("background-color", "");
		$('#analysisId').css("background-color", "");
		$('#spcifiedOtherAnalysis').css("background-color", "");
		$('#dataFormId').css("background-color", "");
		$('#dataRepositoryId').css("background-color", "");
		$('#specifiedRepository').css("background-color", "");
		$('#companionInfoId').css("background-color", "");
		$('#specifiedClinicalData').css("background-color", "");
		$('#specifiedProtocol').css("background-color", "");
		$('#specifiedInstrument').css("background-color", "");
		$('#specifiedCompanion').css("background-color", "");
		$('#dataSubmissionId').css("background-color", "");
		$('#psecifiedOtherSubmission').css("background-color", "");
		$('#dataUseId').css("background-color", "");
	}

	function toggleNoHumanData() {
		if ($('#noHumanData').is(":checked")) {
			$('#noLimitation').attr("checked", false);
			$('#noLimitation').attr("disabled", "disabled");
			$('#limitedOnly').attr("checked", false);
			$('#limitedOnly').attr("disabled", "disabled");
			$('#limitedPurpose').attr("checked", false);
			$('#limitedPurpose').attr("disabled", "disabled");
			$('#relateToDisease').attr("checked", false);
			$('#relateToDisease').attr("disabled", "disabled");
		} else {
			$('#noLimitation').removeAttr("disabled");
			$('#limitedOnly').removeAttr("disabled");
			$('#limitedPurpose').removeAttr("disabled");
			$('#relateToDisease').removeAttr("disabled");
		}
	}

	function showModal() {
		var $dataEntry = $('#loadedRequests');
		$dataEntry.modal('show').on('shown.bs.modal', function() {
			$('#loadedRequests .modal-content').scrollTop(0);
		});
	}

	function loadRequestData(data) {
		var namePair = data.split(",");
		var i = 0;
		for (i = 0; i != namePair.length; i++) {
			var item = namePair[i];
			if (item == '' || typeof item === "undefined") {} else {
				if (item.indexOf('=') != -1) {
					var small = item.split('=');
					if (small[0] == 'inFirstName') {
						$('#inFirstName').val(small[1]);
					} else if (small[0] == 'inLastName') {
						$('#inLastName').val(small[1]);
					} else if (small[0] == 'inUserId') {
						$('#inUserId').val(small[1]);
					} else {
						setRequestValue(small);
					}
				}
			}
		}

	}

	function setRequestValue(value) {
		var name = value[0];
		var val = value[1];
		if (textFields.indexOf(name) != -1) {
			if (name == 'date') {
				if (val == '' || val === "-undefined-undefined") {
					$('#' + name).val('');
				} else {
					$('#' + name).val(getConvertedValue(val, '1'));
				}
			} else {
				$('#' + name).val(val);
			}
		} else {
			if (val == "true") {
				$('#' + name).prop('checked', true);
				if (name == 'noHumanData') {
					toggleNoHumanData();
				}
			} else {
				$('#' + name).prop('checked', false);
			}
			otherFieldWatcher(name, val);
		}
	}

	function otherFieldWatcher(name, value) {
		var otherCheckbox = ['otherType', 'otherAnalysis', 'OtherRepository', 'clinicalData', 'protocol', 'instrument', 'otherCompanion', 'otherSubmission', 'yeast', 'bacteria', 'nonHuman', 'snpArrayData', 'expressionArray', 'methylationArray', 'arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna'];
		var otherField = ['specifyOtherType', 'spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument', 'specifiedCompanion', 'psecifiedOtherSubmission', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numSNP', 'numExpression', 'numMethylation', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
		var index = otherCheckbox.indexOf(name);
		if (index &gt;= 0) {
			if (value == 'true') {
				$('#' + otherField[index]).prop('disabled', false);
			} else {
				$('#' + otherField[index]).prop('disabled', true);
			}
		}
	}

	function getConvertedValue(value, flag) {
		if (value == '') {
			return '';
		}
		var values = '';
		if (flag == '0') {
			values = value.split('/');
			return values[0] + '-' + values[1] + '-' + values[2];
		} else {
			values = value.split('-');
			return values[0] + '/' + values[1] + '/' + values[2];
		}
	}

	$scope.viewSubmittedIC = function(id, ic_id) {
		$('#refresh').val('0');
		loadICDisplay('',id, ic_id, 'view');
	};

	function loadConsentGroupData() {
		var consentStr = $('#consent_group1').val();
		if (consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0) {
			$('#consentGrpDiv').hide();
		} else {
			getConsentGroups(consentStr);
		}
	}

	function getConsentGroups(consentStr) {
		var request = {
			method: 'POST',
			url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: {
				consentGrp: consentStr
			}
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
			for (var i = 0; i &lt; result.length; i++) {
				var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " [ "+ result[i].data_field +" ] ";
				}
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;" + result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier + "&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";

			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	$scope.viewItem = function(id, gdsp_id) {
		$('#refresh').val('0');
		var data = {
			requestedid: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			cleanDisplayDiv();
			resetRequestValue1();
			$('#displayRequestId').html(gdsp_id);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewId1').empty();
			$('#commentReviewId1').append(comment_str);
			if (comment_str.length &lt; 137) {
				$('#pre_comments_div').hide();
				$('#comments_div').hide();
			} else {
				$('#pre_comments_div').show();
				$('#comments_div').hide();
			}
			loadSubmittedData(variables);
			$('#displayRequests').modal('show').on('shown.bs.modal', function() {
				$('#displayRequests .modal-content').scrollTop(0);
			});
			$('#closeButton').show();
			$('#submitButton').hide();
			$('#sd_div').hide();
		}

		function handleError(response) {
			console.error(response);
			//$confirm.modal('hide');
			alert('ERROR');
		}
	};
	$scope.report = function(id, gdsp_id) {
		$('#refresh').val('0');
		window.open('$sp.do?id=gdsp_report_page&amp;itemId=' + id + '&amp;ticket=' + gdsp_id, '_BLANK');
	};
	$scope.withdraw = function(id, gdsp_id) {
		$('#refresh').val('0');
		$('#messageWithdraw').html('Are you sure you want to withdraw this request?');
		$('#withdrawDiv').modal('show');
		$('#btnYesWithdraw').off('click').click(function() {
			withdrawRequest(id, my_sys_id, gdsp_id);
			$('#withdrawDiv').modal('hide');
			$('#loading').show();
		});
		$('#btnNoWithdraw').off('click').click(function() {
			$('#withdrawDiv').modal('hide');
		});
	};
	$scope.displayResubmit = function(request_id) {
		$('#refresh').val('0');
		var variables = {};
		variables.requestedid = request_id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			$('#inUserId').val(result.request_for);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewId2').empty();
			$('#commentReviewId2').append(comment_str);
			$('#resubmitCommentsId').val(comments);
			if (comment_str.length &lt; 137) {
				$('#pre_comments_div1').hide();
				$('#comments_div').hide();
			} else {
				$('#pre_comments_div1').show();
				$('#comments_div').hide();
			}
			loadResubmittedData(variables);

			$('#ccr_id').val(request_id);
			$('#errorMessage').hide();
			$('#regularSubmit').hide();
			$('#resubmit').show();
			$('#loadedRequests').modal('show').on('shown.bs.modal', function() {
				$('#displayRequests .modal-content').scrollTop(0);
			});
		}

		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}

	}


	$scope.displayICResubmit = function(request_id) {
		$('#refresh').val('0');
		var variables = {};
		variables.requestedid = request_id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			cleanICData();
			var result = response.data.result;
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewICId2').empty();
			$('#commentReviewICId2').append(comment_str);
			$('#resubmitCommentsId').val(comments);

			if (comment_str.length &lt; 137) {
				$('#pre_comments_ic_div1').hide();
				//$('#comments_ic_div').hide();
			} else {
				$('#pre_comments_ic_div1').show();
				//$('#comments_ic_div').hide();
			}
			prepareResubmit(variables.sampleTime, variables.sampleConsent);
			loadResubmittedICData(variables);
			showSubmitButton('1');
			$('#ccr_id').val(request_id);
			$('#errorMessage').hide();
			$('#regularSubmit').hide();
			//$('#resubmit').show();		
			//tmp store request data 
			$('#consentGroupIds').val(variables.consent_group);
			$('#icForm').modal('show').on('shown.bs.modal', function() {
				$('#icForm .modal-content').scrollTop(0);
			});
		}

		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}

	}


	function loadResubmittedICData(data) {
		for (key in data) {
			if (key == 'data_access') {
				if (data[key] == 'unrestricted') {
					$("input[name=dataAccessBox][value='unrestricted']").prop("checked", true);
				}
				if (data[key] == 'controlled-access') {
					$("input[name=dataAccessBox][value='controlled-access']").prop("checked", true);
				}
			} else if (key == 'display') {
				if (data[key] == 'yes') {
					$('#displayBox').prop('checked', true);
				} else {
					$('#displayBox').prop('checked', false);
				}
			} else if (key == 'frequency') {
				if (data[key] == 'yes') {
					$('#frequenceBox').prop('checked', true);
				} else {
					$('#frequenceBox').prop('checked', false);
				}
			} else {
				$('#' + key).val(data[key]);
			}
		}
	}

	function prepareResubmit(sampleTime, sampleConsent) {
		$('#sample_time').val(sampleTime);
		$('#sample_consent').val(sampleConsent);
		if (sampleTime == 'no' &amp;&amp; sampleConsent == 'no') {
			$('#warning').modal('show');
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "none");
			$('#institutionNameDiv').css("display", "none");
			//$('#icForm').modal('show');
			//show form 1	
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'no') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			//$('#icForm').modal('show');
			//show form 2
		} else if (sampleTime == 'no' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "none");
			$('#institutionNameDiv').css("display", "none");
			//$('#icForm').modal('show');
			//show form 3
		} else {
			alert("Invalid Choice!");
		}

	}


	// Temp function for IC and Exception Request
	scope.tempFunc = function() {
		$('#refresh').val('0');
		alert("Coming soon!!");
	}

	//end of temp
	function withdrawRequestIC(id, my_sys_id, ic_id) {
		var variables = {};
		variables.requestedid = id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			var variables = result.variables;
			var comments = result.comments;
			var data = getICData(variables, my_sys_id);
			data.comments = comments;
			data.gds_id = $('#hideGDSId').val()
			var icData = JSON.stringify(data);
			saveWithdrawICRequestData(icData, id, ic_id);
			$('#loading').hide();
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function getICData(data, my_id) {
		var variables = {};
		variables.requested_for = my_sys_id;
		variables.value = '';
		variables.saved_id = ''; //id is for update?
		variables.opened_by = my_sys_id;
		variables.application = 'GDS_IC';
		var index = 0;
		for (key in data) {
			if (index != 0) variables.value += ',';
			variables.value += key + '=' + data[key];
			index++;
		}
		return variables;
	}


	function saveWithdrawICRequestData(icData, id, ic_id) {
		/*var request = {
            method: 'POST',
            url: '/api/naci/gdspapi/saveRequestData',
            beforeSend: function(xhr) {
                xhr.setRequestHeader('X-UserToken', sessionId);
            },
            headers: {
                'Content-Type': 'application/json'
            },
            data: icData
        };
        $http(request).then(handleResponse, handleError);

        function handleResponse(response) {
            var result = response.data.result;*/
		withdrawICDeletion(id, ic_id);
		/* }

        function handleError() {
            console.error(response);
            alert('ERROR');
        }*/
	}

	function withdrawICDeletion(id, ic_id) {
		var variables = {};
		variables.id = id;
		variables.method = 'withdraw';
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/gsdspUtil',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			removeICfromGDS(ic_id);
			console.log(result);
		}

		function handleError() {
			console.error(response);
			alert('ERROR');
		}
	}

	function removeICfromGDS(ic_id) {
		var param = {
			gds_id: $('#hideGDSId').val(),
			ic_number: ic_id,
			type: 'ic',
			method: 'remove'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/updateGDS',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: param
		};
		$http(request).then(function(response) {
			var data = response.data.result;
			console.log("remove:" + data);
		});
	}

	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;

	$scope.reportIC = function(sys_id, ic_id, flag) {
		$('#refresh').val('0');
		$('#loading').show();
		var req_id = sys_id;
		var fileName = '';
		if (flag == 'pi') {
			fileName = ic_id + "_pi.pdf";
		} else if (flag == 'sd') {
			fileName = ic_id + "_sd.pdf";
		}

		initialTime = new Date();
		documentInterval = setInterval(function() {
			getDocument(req_id, fileName);
		}, 5000);
	};

	function getDocument(req_id, fileName){
		var req = {
			method: 'GET',
			url: '/api/naci/gds/getAttachmentFileID',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			params: {
				request_id: req_id,
				file_name: fileName
			}
		};
		$http(req).then(handleResponse, handleError);

		function handleResponse(response) {
			if (new Date() - initialTime &gt; documentTimeout) {
				window.clearInterval(documentInterval);
				$('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
				$('#infoModal').modal('show');
				$('#btnOkConfirm').off('click').click(function() {
					$('#infoModal').modal('hide');
				});
				return;
			}

			var result = response.data.result;
			//hightlight right record
			var id = result.file_id;
			if (id != null &amp;&amp; id.trim().length &gt; 0) {
				window.clearInterval(documentInterval);
				window.location.href = '/sys_attachment.do?sys_id=' + id;
				setTimeout(function(){}, 3000);
				$('#loading').hide();
			} 
		}

		function handleError(response) {
			window.clearInterval(documentInterval);
			$('#loading').hide();
			console.error(response);
			alert('ERROR');
		}			
	}

	function withdrawRequest(id, my_sys_id, gdsp_id) {
		var variables = {};
		variables.requestedid = id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			var request_for = result.request_for;
			var open_by = result.opened_by;
			var variables = result.variables;
			var comments = result.comments;
			var data = getGDSPData(variables, request_for, open_by);
			data.comments = comments;
			data.gds_id = $('#hideGDSId').val();
			var gdspData = JSON.stringify(data);
			saveWithdrawRequestData(gdspData, id, gdsp_id);
			$('#loading').hide();
		}

		function handleError(response) {
			console.error(response);
			//$confirm.modal('hide');
			alert('ERROR');
		}
	}

	function saveWithdrawRequestData(data, id, gdsp_id) {

		/*var request = {
            method: 'POST',
            url: '/api/naci/gdspapi/saveRequestData',
            beforeSend: function(xhr) {
                xhr.setRequestHeader('X-UserToken', sessionId);
            },
            headers: {
                'Content-Type': 'application/json'
            },
            data: data
        };
        $http(request).then(handleResponse, handleError);

        function handleResponse(response) {
            var result = response.data.result;*/
		withdrawDeletion(id, gdsp_id);
		/*}

        function handleError() {
            console.error(response);
            alert('ERROR');
        }*/
	}

	function withdrawDeletion(id, gdsp_id) {
		var variables = {};
		variables.id = id;
		variables.method = 'withdraw';
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/gsdspUtil',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			removeGDSPfromGDS(gdsp_id);
			console.log(result);
		}

		function handleError() {
			console.error(response);
			alert('ERROR');
		}
	}

	function removeGDSPfromGDS(gdsp_id) {
		var param = {
			gds_id: $('#hideGDSId').val(),
			gdsp_number: gdsp_id,
			type: 'gdsp',
			method: 'remove'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/updateGDS',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: param
		};
		$http(request).then(function(response) {
			var data = response.data.result;
			console.log("remove:" + data);
		});
	}

	function getGDSPData(data, request_id, open_id) {
		var variables = {};
		variables.requested_for = request_id;
		variables.opened_by = open_id;
		variables.value = '';
		variables.project_name = '';
		variables.saved_id = ''; //id is for update?
		variables.application = 'GDSP';
		var index = 0;
		var inName = '';
		for (key in data) {
			if (index != 0) variables.value += ',';
			if (key == 'investigator') {
				inName = data[key];
			}
			if (key == 'projectName') {
				variables.project_name = data[key];
			}
			variables.value += key + '=' + data[key];
			index++;
		}
		var temp = inName.split(' ');
		variables.value += ",inFirstName=" + temp[0];
		variables.value += ",inLastName=" + temp[1];
		variables.value += ",inUserId=" + request_id;
		return variables;
	}

	function cleanDisplayDiv() {
		$('#pre_comments_div').hide();
		$('#closeButton').hide();
		$('#comments_div').hide();
		$('#submitButton').hide();
	}

	function parse(allcomments) {
		var comments = allcomments.split("ENDCOMMENTS");
		var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
		for (i = 0; i &lt; comments.length; i++) {
			if (comments[i].length &gt; 40) {
				if (comments[i][0] == '\n') {
					var lastI = 0;
					while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n')
						lastI++;
					comments[i] = comments[i].substring(lastI, comments[i].length);
				}
				var t = comments[i].substring(0, 22);
				var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)') + 9, comments[i].length);
				var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57, comments[i].indexOf('(Additional comments)') + 65);
				var comm = comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)'));
				commentsblock = commentsblock + "&lt;tr&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + results + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;/tr&gt;";
			}
		}
		commentsblock = commentsblock + "&lt;/table&gt;";
		return commentsblock;
	}

	function loadSubmittedData(data) {
		for (key in data) {
			var value = getValue(key, data[key]);
			$('#' + key + "1").html(value);
		}
	}

	function loadResubmittedData(data) {
		for (key in data) {
			setResubmitValue(key, data[key]);
		}

	}

	function getValue(name, value) {
		if (textFields.indexOf(name) != -1) {
			if (name == 'date') {
				return getConvertedValue(value, '1');
			} else {
				if (name == 'investigator') {
					var temp = value.split(' ');
					$('#inFirstName').val(temp[0]);
					$('#inLastName').val(temp[1]);
				}
				return value;
			}
		} else {
			if (value == "true") {
				return '&lt;input type="checkbox" id="' + name + '1" checked="true" disabled="true"/&gt;';
			} else {
				return '&lt;input type="checkbox" id="' + name + '1" disabled="true"/&gt;';
			}
			return value;
		}
	}

	function setResubmitValue(name, value) {
		if (textFields.indexOf(name) != -1) {
			if (name == 'date') {
				$('#' + name).val(getConvertedValue(value, '1'));
			} else {
				$('#' + name).val(value);
			}
		} else {
			if (value == "true") {
				$('#' + name).prop('checked', true);
			} else {
				$('#' + name).prop('checked', false);
			}
			otherFieldWatcher(name, value);
		}
	}

	function resetRequestValue1() {
		var i = 0;
		for (i = 0; i != names.length; i++) {
			if (textFields.indexOf(names[i]) != -1) {
				$('#' + names[i]).val('');
				$('#' + names[i] + "1").html('');
			} else {
				$('#' + names[i] + "1").html('&lt;input type="checkbox" id="' + names[i] + "1" + '" disabled="true"/&gt;');
				$('#' + names[i]).prop('checked', false);
				$('#' + names[i]).removeAttr("disabled");

			}
		}
		$('#withdrawCommentsId').val('');
		$('#withdrawSubmitId').val('');
		$('#saved_id').val('');
	}
	//watch dog
	spUtil.recordWatch($scope, "sc_req_item", "", function(name, data) {

		if($('#refresh').val() =='0'){
			spUtil.update($scope);
			loadSavedData($('#recId').val());
			setTimeout(function(){
				loadData($('#recId').val());
			}, 2000);
			$('#refresh').val('1');
		}
		$('#loading').hide();
	});
	//watch dog
	spUtil.recordWatch($scope, "u_gdsp_user_submission", "", function(name, data) {

		if($('#refresh').val() =='0'){
			spUtil.update($scope);
			loadSavedData($('#recId').val());
			loadData($('#recId').val());
			$('#refresh').val('1');
		}

		$('#loading').hide();
	});

	//client code for IC 

	$scope.viewICItem = function(id, sampleTime, sampleConsent) {
		$('#refresh').val('0');
		$('#type').val('exist');
		if (sampleTime == 'no' &amp;&amp; sampleConsent == 'no') {
			$('#warning').modal('show');
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 1	
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'no') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 2
		} else if (sampleTime == 'no' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 3
		} else {
			alert("Invalid Choice!");
		}
		clearICFieldBackground();
		cleanICData();
		resetConsentGrp();
		showSubmitButton('0');
		$('#pre_comments_ic_div1').hide();
		$('#icError').hide();
		//load IC data
		var icData = {
			requested_id: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSavedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: icData
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			$('#ic_id').val(id);
			$('#ic_id').trigger('custom_action');
			setICData(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	$scope.clearUserData = function() {
		$('#refresh').val('0');
		$('#userFirstName').val('');
		$('#userLastName').val('');
		$('#selectedUserData').val('');
		loadUserData();
	};

	function setICData(data) {
		var variables = parseICData(data[0].value);
		var i = 0;
		for (i = 0; i &lt; icNames.length; i++) {
			if (icNames[i] == 'data_access') {
				if (variables[icNames[i]] == 'unrestricted') {
					$("input[name=dataAccessBox][value='unrestricted']").prop("checked", true);
				}
				if (variables[icNames[i]] == 'controlled-access') {
					$("input[name=dataAccessBox][value='controlled-access']").prop("checked", true);
				}
			} else if (icNames[i] == 'display') {
				if (variables[icNames[i]] == 'yes') {
					$('#displayBox').prop('checked', true);
				} else {
					$('#displayBox').prop('checked', false);
				}
			} else if (icNames[i] == 'frequency') {
				if (variables[icNames[i]] == 'yes') {
					$('#frequenceBox').prop('checked', true);
				} else {
					$('#frequenceBox').prop('checked', false);
				}
			} else {
				$('#' + icNames[i]).val(variables[icNames[i]]);
			}
		}
		$('#sample_time').val(variables.sampleTime);
		$('#sample_consent').val(variables.sampleConsent);
	}

	function resetConsentGrp() {
		$('#branch').val('NCI');
		$('#dataLimitation').val('None');
		$('#useTextField').val('');
		$('#useTextField').css('display', 'none');
		$('#useTextLabel').css('display', 'none');
		$('#dataModifier').val('');
		$('#consentErr').html("");
		$('#consentErr').css('display', 'none');
	}

	function parseICData(data) {
		var variables = {};
		var temp = data.split(",");
		var i = 0;
		for (i = 0; i &lt; temp.length; i++) {
			var val = temp[i].split("=");
			variables[val[0]] = val[1];
		}
		return variables;
	}

	function cleanICData() {
		$('#consentGroupIds').val('');
		$('#ic_id').val('');
		var i = 0;
		for (i = 0; i &lt; icNames.length; i++) {
			if (icNames[i] == 'gpa_organization' || icNames[i] == 'sd_organization') {
				$('#' + icNames[i]).val("none");
			} else {
				if (icNames[i] == 'certification_to') {
					$('#' + icNames[i]).val('Kathleen Calzone');
				} else if (icNames[i] == 'certification_from') {
					$('#' + icNames[i]).val('William Dahut');
				} else if (icNames[i] == 'data_access') {
					$("input[name='dataAccessBox'][value='controlled-access']").prop('checked', true);
				} else if (icNames[i] == 'display' || icNames[i] == 'frquency') {
					$('#displayBox').prop('checked', false);
					$('#frequenceBox').prop('checked', false);
				} else {
					$('#' + icNames[i]).val('');
				}
			}
		}
	}

	function clearICFieldBackground() {
		var i = 0;
		for (i = 0; i &lt; icNames.length; i++) {
			$('#' + icNames[i]).css('background-color', '');
		}
	}

	$scope.removeUser = function(sys_id) {
		$('#refresh').val('0');
		var $confirm = $('#userConfirmDiv');
		$confirm.modal('show');
		$('#messageDeleteUser').html("Are you sure you want to remove this user?");
		$('#btnYesConfirmUser').off('click').click(function() {
			deleteUser(sys_id);
			$confirm.modal('hide');
		});
		$('#btnNoConfirmUser').off('click').click(function() {
			$confirm.modal('hide');
		});
	};

	function deleteUser(sys_id) {
		var data2 = {
			sys_id: sys_id,
			action: 'delete'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/saveUser',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data2
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			loadUserData();
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function showSubmitButton(indicator) {
		if (indicator == '0') {
			$('#regularICSubmit').show();
			$('#resubmitIC').hide();
		} else if (indicator == '1') {
			$('#regularICSubmit').hide();
			$('#resubmitIC').show();
		}
	}

	//er functions are here
	var ernames = ['er_investigator', 'er_email', 'er_phone', 'er_date', 'er_projectNumber', 'er_projectName', 'er_simpleSize', 'er_prospective', 'er_restrospective', 'er_human', 'er_nonHuman', 'er_germLine', 'er_somatic', 'er_dnaType', 'er_rnaType', 'er_microbiome', 'er_mitochrondria', 'er_otherType', 'er_specifyOtherType', 'er_snpArrayData', 'er_numSNP', 'er_expressionArray', 'er_numExpression', 'er_methylationArray', 'er_numMethylation', 'er_arrayDerive', 'er_microarrayData', 'er_sequenceData', 'er_somaticSnv', 'er_arrayCgh', 'er_wholeGenome', 'er_wholeExome', 'er_targetGenome', 'er_targetExome', 'er_wholeTranscriptome', 'er_targetTrabscriptome', 'er_epigenomicMark', 'er_sanger', 'er_rrna', 'er_association', 'er_arrayDerivedExpression', 'er_rnaExpression', 'er_derivedMethylation', 'er_otherAnalysis', 'er_spcifiedOtherAnalysis', 'er_individual', 'er_aggregate', 'er_notApplicableDataForm', 'er_orginId', 'er_version', 'er_rat', 'er_mouse', 'er_celegans', 'er_drosophila', 'er_yeast', 'er_yeastSpecies', 'er_bacteria', 'er_bacteriaSpecies', 'er_noHumanOther', 'er_numDerivedGenotype', 'er_numMicroarrayData', 'er_numSquenceData', 'er_numSomaticSnv', 'er_numArrayCgh', 'er_numWholeGenome', 'er_numWholeExome', 'er_numTargetGenome', 'er_numTargetedExome', 'er_numWholeTranscriptome', 'er_numTargetedTranscriptome', 'er_numEpigenomic', 'er_numSanger', 'er_numRrna', 'er_legalRestricton', 'er_describedLegal', 'er_informedConsent', 'er_otherJust', 'er_specifiedOtherJust', 'er_nonExistConsent', 'er_nonAddressConsent', 'er_nonAddressRisk', 'er_precludedConsent', 'er_otherConsent', 'er_specifiedOtherConsent', 'er_copyConsent', 'er_gpaAgreed', 'er_gpaDisagree', 'er_gpaUnclear', 'er_irbAgree', 'er_irbDisagree', 'er_alternative'];
	var ertextFields = ['er_investigator', 'er_email', 'er_phone', 'er_date', 'er_projectNumber', 'er_projectName', 'er_simpleSize', 'er_specifyOtherType', 'er_spcifiedOtherAnalysis', 'er_orginId', 'er_version', 'er_numSNP', 'er_numExpression', 'er_numMethylation', 'er_yeastSpecies', 'er_bacteriaSpecies', 'er_noHumanOther', 'er_numDerivedGenotype', 'er_numMicroarrayData', 'er_numSquenceData', 'er_numSomaticSnv', 'er_numArrayCgh', 'er_numWholeGenome', 'er_numWholeExome', 'er_numTargetGenome', 'er_numTargetedExome', 'er_numWholeTranscriptome', 'er_numTargetedTranscriptome', 'er_numEpigenomic', 'er_numSanger', 'er_numRrna', 'er_describedLegal', 'er_specifiedOtherJust', 'er_specifiedOtherConsent', 'er_alternative'];

	scope.createER = function() {
		$('#refresh').val('0');
		$('#collapseER').collapse('show');
		var $er = $('#loadedERRequests');
		clearErRequiredFieldBackColor();
		resetErRequestValue();
		$('#er_errorMessage').html('');
		$('#ccr_id').val('');
		$('#saved_id').val('');
		$('#regularSubmit').show();
		$('#resubmit').hide();
		//load GDS information and fill them into ER form
		var data = {
			sysId: $('#hideGDSId').val()
		};
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectInformation',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result[0];
			//populate data into submission form
			loadGDSDataForER(result);
			$('#erFirstName').val($('#piFirstName').val());
			$('#erLastName').val($('#piLastName').val());
			$('#erUserId').val($('#piUserId').val());
			$er.modal('show').on('shown.bs.modal', function(el) {
				$(el.target).find('.modal-content').scrollTop(0);
			});
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	function clearErRequiredFieldBackColor() {
		$('#er_investigator').css("background-color", "");
		$('#er_email').css("background-color", "");
		$('#er_phone').css("background-color", "");
		$('#er_date').css("background-color", "");
		$('#er_projectName').css("background-color", "");
		$('#er_simpleSize').css("background-color", "");
		$('#er_collectionTypeId').css("background-color", "");
		$('#er_dataId').css("background-color", "");
		$('#er_specifyOtherType').css("background-color", "");
		$('#er_data2Id').css("background-color", "");
		$('#er_arrayDataId').css("background-color", "");
		$('#er_genotypesId').css("background-color", "");
		$('#er_sequenceId').css("background-color", "");
		$('#er_analysisId').css("background-color", "");
		$('#er_spcifiedOtherAnalysis').css("background-color", "");
		$('#er_dataFormId').css("background-color", "");
		$('#er_dataRepositoryId').css("background-color", "");
		$('#er_specifiedRepository').css("background-color", "");
		$('#er_companionInfoId').css("background-color", "");
		$('#er_specifiedClinicalData').css("background-color", "");
		$('#er_specifiedProtocol').css("background-color", "");
		$('#er_specifiedInstrument').css("background-color", "");
		$('#er_specifiedCompanion').css("background-color", "");
		$('#er_dataSubmissionId').css("background-color", "");
		$('#er_psecifiedOtherSubmission').css("background-color", "");
		$('#er_dataUseId').css("background-color", "");
	}

	function resetErRequestValue() {
		var i = 0;
		for (i = 0; i != ernames.length; i++) {
			if (ertextFields.indexOf(ernames[i]) != -1) {
				$('#' + ernames[i]).val('');
			} else {
				$('#' + ernames[i]).prop('checked', false);
				$('#' + ernames[i]).removeAttr("disabled");
			}
		}
		$('#withdrawCommentsId').val('');
		$('#withdrawSubmitId').val('');
		$('#saved_id').val('');
	}

	function loadGDSDataForER(data) {
		$('#er_investigator').val(data.piFirstName + " " + data.piLastName);
		$('#er_email').val(data.piEmail);
		$('#er_phone').val(data.piPhone);
		$('#er_projectName').val(data.projectTitle);

		//get current date
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth() + 1; //January is 0!

		var yyyy = today.getFullYear();
		if (dd &lt; 10) {
			dd = '0' + dd;
		}
		if (mm &lt; 10) {
			mm = '0' + mm;
		}
		var currentDate = mm + '/' + dd + '/' + yyyy;
		$('#er_date').val(currentDate);
	}
	// ER function
	$scope.editERItem = function(id) {
		$('#refresh').val('0');
		clearERRequiredFieldBackColor();
		$('#erFirstName').val('');
		$('#erLastName').val('');
		$('#erUserId').val('');
		$('#er_errorMessage').html('');
		var data = {
			requested_id: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSavedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			showERModal();
			$('#saved_id').val(id);
			loadERData(result[0].value);
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	$scope.removeERItem = function(id) {
		$('#refresh').val('0');
		var $confirm = $('#confirmDiv');
		$confirm.modal('show');
		$('#message').html("Are you sure you want to remove this record?");
		$('#btnYesConfirmYesNo').off('click').click(function() {
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);

			function handleResponse(response) {
				var result = response.data.result;
				$confirm.modal('hide');
				console.log(result);
			}

			function handleError(response) {
				console.error(response);
				$confirm.modal('hide');
				alert('ERROR');
			}
		});
		$('#btnNoConfirmYesNo').off('click').click(function() {
			$confirm.modal('hide');
		});
	};

	$scope.viewUserAccess = function() {
		$('#refresh').val('0');
		$('#collapseUser').collapse('show');
	};
	$scope.createNewUserAccess = function(){
		$('#refresh').val('0');
		$('#collapseUser').collapse('show');
		$('#addUserAccessDiv').modal('show');

		$('#btnAddUserAccess').off('click').click(function() {
			addUser();
		});
		$('#btnCancelUserAccess').off('click').click(function() {
			$('#addUserAccessDiv').modal('hide');
		});
	};
	$scope.viewGDSP = function() {
		$('#refresh').val('0');
		$('#collapseGDSP').collapse('show');
	}
	$scope.viewIC = function() {
		$('#refresh').val('0');
		$('#collapseIC').collapse('show');
	}

	function clearERRequiredFieldBackColor() {
		$('#er_investigator').css("background-color", "");
		$('#er_email').css("background-color", "");
		$('#er_phone').css("background-color", "");
		$('#er_date').css("background-color", "");
		$('#er_projectName').css("background-color", "");
		$('#er_simpleSize').css("background-color", "");
		$('#er_collectionTypeId').css("background-color", "");
		$('#er_dataId').css("background-color", "");
		$('#er_specifyOtherType').css("background-color", "");
		$('#er_data2Id').css("background-color", "");
		$('#er_arrayDataId').css("background-color", "");
		$('#er_genotypesId').css("background-color", "");
		$('#er_sequenceId').css("background-color", "");
		$('#er_analysisId').css("background-color", "");
		$('#er_spcifiedOtherAnalysis').css("background-color", "");
		$('#er_dataFormId').css("background-color", "");
	}

	function showERModal() {
		var $erData = $('#loadedERRequests');
		$erData.modal('show').on('shown.bs.modal', function() {
			$('#loadedERRequests .modal-content').scrollTop(0);
		});
	}

	function loadERData(data) {
		var namePair = data.split(",");
		var i = 0;
		for (i = 0; i != namePair.length; i++) {
			var item = namePair[i];
			if (item == '' || typeof item === "undefined") {} else {
				if (item.indexOf('=') != -1) {
					var small = item.split('=');
					if (small[0] == 'erFirstName') {
						$('#erFirstName').val(small[1]);
					} else if (small[0] == 'erLastName') {
						$('#erLastName').val(small[1]);
					} else if (small[0] == 'erUserId') {
						$('#erUserId').val(small[1]);
					} else {
						setERValue(small);
					}
				}
			}
		}
	}

	function setERValue(value) {
		var name = value[0];
		var val = value[1];
		if (ertextFields.indexOf(name) != -1) {
			$('#' + name).val(val);
		} else {
			if (val == "true") {
				$('#' + name).prop('checked', true);
				if (name == 'er_notApplicableDataForm') {
					$('#er_individual').prop('disabled', true);
					$('#er_aggregate').prop('disabled', true);
				}
			} else {
				$('#' + name).prop('checked', false);
				if (name == 'er_notApplicableDataForm') {
					$('#er_individual').prop('disabled', false);
					$('#er_aggregate').prop('disabled', false);
				}
			}
			erOtherFieldWatcher(name, val);
		}
	}

	function erOtherFieldWatcher(name, value) {
		var otherCheckbox = ['er_otherType', 'er_otherAnalysis', 'er_yeast', 'er_bacteria', 'er_nonHuman', 'er_snpArrayData', 'er_expressionArray', 'er_methylationArray', 'er_arrayDerive', 'er_microarrayData', 'er_sequenceData', 'er_somaticSnv', 'er_arrayCgh', 'er_wholeGenome', 'er_wholeExome', 'er_targetGenome', 'er_targetExome', 'er_wholeTranscriptome', 'er_targetTrabscriptome', 'er_epigenomicMark', 'er_sanger', 'er_rrna', 'er_legalRestricton', 'er_otherJust', 'er_otherConsent'];
		var otherField = ['specifyOtherType', 'spcifiedOtherAnalysis', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numSNP', 'numExpression', 'numMethylation', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna', 'er_describedLegal', 'er_specifiedOtherJust', 'er_specifiedOtherConsent'];
		var index = otherCheckbox.indexOf(name);
		if (index &gt;= 0) {
			if (value == 'true') {
				$('#' + otherField[index]).prop('disabled', false);
			} else {
				$('#' + otherField[index]).prop('disabled', true);
			}
		}
	}

	function loadBranchOptionString() {
		$.ajax({
			url: '/api/naci/gds/getAllBranch',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			data: {},
			async: false,
			dataType: 'json',
			complete: handleResponse,
			error: handleError
		});

		function handleResponse(response) {
			var result = response.responseJSON.result;
			var val = "";
			for (var i = 0; i &lt; result.length; i++) {
				val = val + "&lt;option value='" + result[i].value + "'&gt;" + result[i].label + "&lt;/option&gt;";
			}
			$('#piBranch').html(val);
			$('#pBranch').html(val);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	$scope.viewSignIC = function(approval_id, request_id, ic_id){
		$('#refresh').val('0');
		loadICDisplay(approval_id,request_id, ic_id, 'sign');
	};

	function loadICDisplay(approval_id, request_id, ic_id, indicator){
		$('#displayICId').html(ic_id);
		var data = {
			requestedid: request_id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/getSubmittedICRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResp, handleErr);

		function handleResp(response) {
			var result = response.data.result;
			var comments = parse(result.comments);
			var variables = result.variables;
			var i = 0;
			for (i = 0; i &lt; icNames.length; i++) {
				if (icNames[i] == 'data_access') {
					if (variables[icNames[i]] == 'unrestricted') {
						$("input[name=dataAccessBox1][value='unrestricted']").prop("checked", true);
					} else {
						$("input[name=dataAccessBox1][value='controlled-access']").prop("checked", true);
					}
				} else if (icNames[i] == 'display') {
					if (variables[icNames[i]] == 'yes') {
						$('#displayBox1').prop('checked', true);
					} else {
						$('#displayBox1').prop('checked', false);
					}
				} else if (icNames[i] == 'frequency') {
					if (variables[icNames[i]] == 'yes') {
						$('#frequenceBox1').prop('checked', true);
					} else {
						$('#frequenceBox1').prop('checked', false);
					}
				} else if (icNames[i] == 'consent_group') {
					$('#' + icNames[i] + '1').val(variables[icNames[i]]);
				} else {
					$('#' + icNames[i] + '1').html(variables[icNames[i]]);
				}
			}
			$('#sample_time').val(variables.sampleTime);
			$('#sample_consent').val(variables.sampleConsent);
			$('#hiddenRequestId').val(request_id);
			$('#hiddenApprovalId').val(approval_id);
			if (comments.length &gt; 137) {
				$('#commentReviewICId1').html('');
				$('#commentReviewICId1').html(comments);
				$('#pre_comments_ic_div').show();
				$('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;')
			}
			$('#submitButton1').hide();
			if(indicator == 'sign'){
				$('#signButton1').show();
				$('#closeButton1').hide();
				$('#comments_ic_div').show();
			}else{
				$('#signButton1').hide();
				$('#closeButton1').show();
				$('#comments_ic_div').hide();
			}
			loadConsentGroupData();
			//if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
			$('#insDiv').show();
			//}else{
			//	$('#insDiv').hide();
			//}
			$('#displayICRequests').modal('show').on('shown.bs.modal', function() {
				$('#displayICRequests .modal-content').scrollTop(0);
			});
		}

		function handleErr(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function saveUser(userData, gdsId, access){
		var data1 = {
			data: userData,
			gds_id: gdsId,
			access: access,
			action: 'add'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/saveUser',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data1
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}		
	}	

	function encodeDecodeData(data, flag){
		var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
								encode:function(e){
									var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);
									while(f&lt;e.length){
										n=e.charCodeAt(f++);
										r=e.charCodeAt(f++);
										i=e.charCodeAt(f++);
										s=n&gt;&gt;2;
										o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;
										u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;
										a=i&amp;63;
										if(isNaN(r)){
											u=a=64
										}else if(isNaN(i)){
											a=64
										}
										t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);
									}
									return t
								},
								decode:function(e){
									var t="";
									var n,r,i;
									var s,o,u,a;
									var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");
									while(f&lt;e.length){
										s=this._keyStr.indexOf(e.charAt(f++));
										o=this._keyStr.indexOf(e.charAt(f++));
										u=this._keyStr.indexOf(e.charAt(f++));
										a=this._keyStr.indexOf(e.charAt(f++));
										n=s&lt;&lt;2|o&gt;&gt;4;
										r=(o&amp;15)&lt;&lt;4|u&gt;&gt;2;
										i=(u&amp;3)&lt;&lt;6|a;
										t=t+String.fromCharCode(n);
										if(u!=64){
											t=t+String.fromCharCode(r);
										}
										if(a!=64){
											t=t+String.fromCharCode(i);
										}
									}
									t=Base64._utf8_decode(t);
									return t;
								},
								_utf8_encode:function(e){
									e=e.replace(/rn/g,"n");
									var t="";
									for(var n=0;n&lt;e.length;n++){
										var r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
										}else if(r&gt;127&amp;&amp;r&lt;2048){
											t+=String.fromCharCode(r&gt;&gt;6|192);
											t+=String.fromCharCode(r&amp;63|128)
										}else{
											t+=String.fromCharCode(r&gt;&gt;12|224);
											t+=String.fromCharCode(r&gt;&gt;6&amp;63|128);
											t+=String.fromCharCode(r&amp;63|128);
										}
									}
									return t;
								},
								_utf8_decode:function(e){
									var t="";
									var n=0;
									var r=0,c1=0,c2=0;
									while(n&lt;e.length){
										r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
											n++;
										}else if(r&gt;191&amp;&amp;r&lt;224){
											c2=e.charCodeAt(n+1);
											t+=String.fromCharCode((r&amp;31)&lt;&lt;6|c2&amp;63);
											n+=2;
										}else{
											c2=e.charCodeAt(n+1);
											c3=e.charCodeAt(n+2);
											t+=String.fromCharCode((r&amp;15)&lt;&lt;12|(c2&amp;63)&lt;&lt;6|c3&amp;63);
											n+=3;
										}
									}
									return t;
								}
							 };

		var result = '';
		if(flag == 'encode'){
			result = Base64.encode(data);
		}else if(flag == 'decode'){
			result = Base64.decode(data);
		}else{
			result = 'ERROR Method';
		}

		return result;
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;/*disable bk logo */&amp;#13;
.bk-logo-small {&amp;#13;
   display:none;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs {&amp;#13;
    width: 100%;&amp;#13;
    float: left;&amp;#13;
    border-bottom-color: #d9d9d9;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs&amp;gt;li a {&amp;#13;
    text-align: center;&amp;#13;
    border-width: 1px 1px 0 1px;&amp;#13;
    border-style: solid;&amp;#13;
    border-color: #e0e0e0;&amp;#13;
    background: #f2f2f2;&amp;#13;
    color: #444444;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs&amp;gt;li a:hover {&amp;#13;
    background: #F9F9F9;&amp;#13;
    border-color: #d9d9d9;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs&amp;gt;li.active a, .nav-tabs&amp;gt;li.active:hover a {&amp;#13;
    background: white;&amp;#13;
    border-color: #d9d9d9;&amp;#13;
    border-bottom-color: transparent;&amp;#13;
    font-weight: bold;&amp;#13;
    color: #444444;&amp;#13;
}&amp;#13;
&amp;#13;
.instructions {&amp;#13;
    text-align: center;&amp;#13;
    padding: 10px 0;&amp;#13;
}&amp;#13;
&amp;#13;
.tabs-dropdown .dropdown-toggle {&amp;#13;
    border-width: 1px 1px 0 1px;&amp;#13;
    border-style: solid;&amp;#13;
    border-color: #e0e0e0;&amp;#13;
    border-radius: 4px 4px 0 0;&amp;#13;
    color: #444444;&amp;#13;
    background: #f2f2f2;&amp;#13;
}&amp;#13;
&amp;#13;
.tab-content {&amp;#13;
    padding: 10px;&amp;#13;
    width: 100%;&amp;#13;
    min-height: 300px;&amp;#13;
    -webkit-overflow-scrolling: touch;&amp;#13;
    background: white;&amp;#13;
    border-width: 0 1px 1px 1px;&amp;#13;
    border-style: solid;&amp;#13;
    border-color: #d9d9d9;&amp;#13;
    border-radius: 0 0 4px 4px;&amp;#13;
    overflow: hidden;&amp;#13;
}&amp;#13;
&amp;#13;
.tab-content .tab-pane {&amp;#13;
    color: #566473;&amp;#13;
}&amp;#13;
&amp;#13;
@media ( max-width : 480px) {&amp;#13;
    .nav-tabs&amp;gt;li {&amp;#13;
        float: none;&amp;#13;
        border: 1px solid #dddddd;&amp;#13;
    }&amp;#13;
    .nav-tabs&amp;gt;li.active&amp;gt;a {&amp;#13;
        border: none;&amp;#13;
    }&amp;#13;
    .nav&amp;gt;li&amp;gt;a:hover, .nav&amp;gt;li&amp;gt;a:focus, .nav-tabs&amp;gt;li.active&amp;gt;a, .nav-tabs&amp;gt;li.active&amp;gt;a:hover,&amp;#13;
        .nav-tabs&amp;gt;li.active&amp;gt;a:focus {&amp;#13;
        background: none;&amp;#13;
        border: none;&amp;#13;
    }&amp;#13;
}&amp;#13;
&amp;#13;
/* Reset bootstrap table*/&amp;#13;
.table &amp;gt; thead &amp;gt; tr &amp;gt; th,&amp;#13;
.table &amp;gt; tbody &amp;gt; tr &amp;gt; td,&amp;#13;
.table &amp;gt; tfoot &amp;gt; tr &amp;gt; th {&amp;#13;
    border-top: 0px;&amp;#13;
    border-bottom: 0px;&amp;#13;
}&amp;#13;
}&amp;#13;
&amp;#13;
.left td {&amp;#13;
    text-align:left;&amp;#13;
}&amp;#13;
.right td {&amp;#13;
   text-align:right;&amp;#13;
}&amp;#13;
.ldpair-results {&amp;#13;
    text-align:center;&amp;#13;
    border: 1px solid #ddd;&amp;#13;
}&amp;#13;
&amp;#13;
.center-align {&amp;#13;
    margin: 0 auto !important;&amp;#13;
    float: none !important;&amp;#13;
}&amp;#13;
&amp;#13;
.spacer {&amp;#13;
    width:10%;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
td.cell-right {&amp;#13;
    text-align: right;&amp;#13;
}&amp;#13;
td.cell-left {&amp;#13;
    text-align: left;&amp;#13;
}&amp;#13;
&amp;#13;
td.cell-center {&amp;#13;
    text-align: center;&amp;#13;
}&amp;#13;
&amp;#13;
.cell-height-small {&amp;#13;
    height: 10px;&amp;#13;
    padding:0px;&amp;#13;
}&amp;#13;
&amp;#13;
.btn-file {&amp;#13;
  position: relative;&amp;#13;
  overflow: hidden;&amp;#13;
}&amp;#13;
&amp;#13;
.btn-file input[type=file] {&amp;#13;
  position: absolute;&amp;#13;
  top: 0;&amp;#13;
  right: 0;&amp;#13;
  min-width: 100%;&amp;#13;
  min-height: 100%;&amp;#13;
  font-size: 100px;&amp;#13;
  text-align: right;&amp;#13;
  filter: alpha(opacity=0);&amp;#13;
  opacity: 0;&amp;#13;
  background: red;&amp;#13;
  cursor: inherit;&amp;#13;
  display: block;&amp;#13;
}&amp;#13;
&amp;#13;
input[readonly] {&amp;#13;
  background-color: white !important;&amp;#13;
  cursor: text !important;&amp;#13;
}&amp;#13;
/*&amp;#13;
table.ldhap,table.ldhap tr, table.ldhap th {&amp;#13;
  background-color: white !important;&amp;#13;
}&amp;#13;
*/&amp;#13;
.container {&amp;#13;
  background-color: white;&amp;#13;
}&amp;#13;
.two-by-two {&amp;#13;
  margin-bottom:0px;&amp;#13;
  width:100%;&amp;#13;
}&amp;#13;
&amp;#13;
.jumbotron {&amp;#13;
  background-color:white;&amp;#13;
  padding:10px 15px;&amp;#13;
}&amp;#13;
&amp;#13;
table.fixed {&amp;#13;
    table-layout:fixed;&amp;#13;
    width:400px;&amp;#13;
    margin-bottom:15px;&amp;#13;
}&amp;#13;
table.fixed td {&amp;#13;
    overflow: hidden;&amp;#13;
}&amp;#13;
&amp;#13;
table thead td {&amp;#13;
  font-weight:bold;&amp;#13;
  text-align: center;&amp;#13;
}&amp;#13;
&amp;#13;
.font-weight-bold {&amp;#13;
  font-weight:bold;&amp;#13;
}&amp;#13;
&amp;#13;
img.logo {&amp;#13;
    max-height:150px;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
img.loading {&amp;#13;
    height:107px;&amp;#13;
    max-height:10%;&amp;#13;
    display: block;&amp;#13;
    margin-left: auto;&amp;#13;
    margin-right: auto;&amp;#13;
}&amp;#13;
&amp;#13;
img.graph-legend {&amp;#13;
  display:block;&amp;#13;
  margin-left: auto;&amp;#13;
  margin-right: auto;&amp;#13;
}&amp;#13;
&amp;#13;
.multiselect-container &amp;gt; li {&amp;#13;
    padding-left: 50px;&amp;#13;
}&amp;#13;
.multiselect-item.multiselect-all {&amp;#13;
    padding-left: 0px;&amp;#13;
    text-decoration: underline;&amp;#13;
}&amp;#13;
.multiselect-item.multiselect-group {&amp;#13;
    padding-left: 30px;&amp;#13;
}&amp;#13;
.has-feedback .form-control {&amp;#13;
    padding-right: 0px;&amp;#13;
}&amp;#13;
.multiselect-container &amp;gt; li.multiselect-group-clickable label {&amp;#13;
    text-decoration: underline;&amp;#13;
}&amp;#13;
/* Tighten up snpchip platform list only*/&amp;#13;
/*   .btn-ldlink-multiselec  */&amp;#13;
.multiselect-container &amp;gt; li &amp;gt; a &amp;gt; label {&amp;#13;
    padding: 0px 20px 0px 40px;&amp;#13;
}&amp;#13;
&amp;#13;
.form-control-feedback {&amp;#13;
    top: 0;&amp;#13;
    right: -15px;&amp;#13;
}&amp;#13;
&amp;#13;
/* Placeholder Style */&amp;#13;
::-webkit-input-placeholder {&amp;#13;
   font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
:-moz-placeholder { /* Firefox 18- */&amp;#13;
   font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
::-moz-placeholder {  /* Firefox 19+ */&amp;#13;
   font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
:-ms-input-placeholder {&amp;#13;
    font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.ffWarning {&amp;#13;
    display: none;&amp;#13;
}&amp;#13;
/*&amp;#13;
.bk-plot-canvas-wrapper {&amp;#13;
    max-width:900px;&amp;#13;
    overflow-x: scroll;&amp;#13;
}&amp;#13;
*/&amp;#13;
&amp;#13;
.haplotype {&amp;#13;
    color: black;&amp;#13;
    background:#C0C0C0; /* if a multiple grouped */ &amp;#13;
}&amp;#13;
&amp;#13;
/* LDhap Heat Map - Version 4 */&amp;#13;
/* Pastel Colors light red, light orage, light blue, and light green */&amp;#13;
/* Color Code: http://paletton.com/palette.php?uid=7000u0klLMWnHN3kBNFgZMYgZMY */&amp;#13;
&amp;#13;
.overflowx {&amp;#13;
    overflow-x:auto;&amp;#13;
}&amp;#13;
.overflowy {&amp;#13;
    overflow-y:auto;&amp;#13;
}&amp;#13;
&amp;#13;
.whats_new {&amp;#13;
    height:200px;&amp;#13;
    border:1px solid #566473;&amp;#13;
    overflow-y:auto;&amp;#13;
    margin-bottom:25px;&amp;#13;
}&amp;#13;
&amp;#13;
.table {&amp;#13;
    min-width: 0;&amp;#13;
    display: table;&amp;#13;
}&amp;#13;
.left-c {   width:auto;&amp;#13;
    display: inline-block;&amp;#13;
    vertical-align: top;&amp;#13;
}&amp;#13;
.right-c {&amp;#13;
    min-width:300px;&amp;#13;
    width:65%;&amp;#13;
    display: inline-block;&amp;#13;
    vertical-align: top;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.left-c &amp;gt; table &amp;gt; tfoot &amp;gt; tr &amp;gt; td,&amp;#13;
.right-c &amp;gt; table &amp;gt; tfoot &amp;gt; tr &amp;gt; td {&amp;#13;
    font-weight:bold;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
/* New stuff */&amp;#13;
&amp;#13;
/* Header and Footer */&amp;#13;
.header img {&amp;#13;
    /*&amp;#13;
    width: 60%;&amp;#13;
    */&amp;#13;
}&amp;#13;
.header h4 {&amp;#13;
    color: #fff;&amp;#13;
    line-height: 0.5em;&amp;#13;
}&amp;#13;
.footer {&amp;#13;
    bottom: 0;&amp;#13;
    color: #444;&amp;#13;
    padding: 25px 0;&amp;#13;
}&amp;#13;
.footer ul {&amp;#13;
    text-align: center;&amp;#13;
}&amp;#13;
.footer ul li a {&amp;#13;
    color: #444;&amp;#13;
}&amp;#13;
hr.header {&amp;#13;
    border-top: 0.5em solid #bb0e3d;&amp;#13;
    margin: 0;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
caption {&amp;#13;
    font-weight:bold;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
/* Rotate the text on SNPchip table */&amp;#13;
th.rotate {&amp;#13;
  /* Something you can count on */&amp;#13;
  height: 142px;&amp;#13;
  white-space: nowrap;&amp;#13;
}&amp;#13;
&amp;#13;
th.rotate &amp;gt; div {&amp;#13;
  transform: &amp;#13;
    translate(0px, 51px)&amp;#13;
    rotate(270deg);&amp;#13;
  width: 20px;&amp;#13;
}&amp;#13;
th.rotate &amp;gt; div &amp;gt; span {&amp;#13;
  /*border-bottom: 1px solid #ccc;*/&amp;#13;
  /*padding: 5px 10px;*/&amp;#13;
}&amp;#13;
/* These aren't needed and will be weird if transforms don't work */&amp;#13;
.csstransforms &amp;amp; th.rotate {&amp;#13;
  height: 142px;&amp;#13;
  white-space: nowrap;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
span.formw &amp;gt; label {&amp;#13;
    margin-bottom: 0px;&amp;#13;
    font-family: "Lucida Grande",Verdana,Arial,sans-serif;&amp;#13;
    font-size: normal;&amp;#13;
}&amp;#13;
&amp;#13;
.platform-checkbox {&amp;#13;
    padding: 0.2em 0.6em 0.3em;&amp;#13;
}&amp;#13;
&amp;#13;
/* From style.css&amp;#13;
https://www.broadinstitute.org/mpg/snap/ldsearch.php */&amp;#13;
&amp;#13;
.bolded {&amp;#13;
    font-weight: bold;&amp;#13;
}&amp;#13;
.underlined {&amp;#13;
    border-bottom: 1px dotted gray;&amp;#13;
}&amp;#13;
fieldset#columnAcheckbox {&amp;#13;
    min-width: 450px;&amp;#13;
}&amp;#13;
fieldset#columnAcheckbox div.row span.label, fieldset#columnBcheckbox div.row span.label, fieldset.fullwidthcheckbox div.row span.label {&amp;#13;
    padding-top: 1px;&amp;#13;
    width: 20px;&amp;#13;
}&amp;#13;
fieldset#columnBcheckbox {&amp;#13;
    min-width: 365px;&amp;#13;
}&amp;#13;
fieldset div.row span.formw select.yesno {&amp;#13;
    width: 80px;&amp;#13;
}&amp;#13;
/* Custom */&amp;#13;
&amp;#13;
fieldset#columnAcheckbox &amp;gt; div.row,&amp;#13;
fieldset#columnBcheckbox &amp;gt; div.row {&amp;#13;
    margin-left:15px;&amp;#13;
    margin-bottom:-12px;&amp;#13;
    font-weight:lighter;&amp;#13;
    color: #333;&amp;#13;
    font-family: "Lucida Grande",Verdana,Arial,sans-serif;&amp;#13;
    font-size: smaller;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
textarea:valid, .ok {&amp;#13;
    color: #555;&amp;#13;
}&amp;#13;
textarea:invalid, .error {&amp;#13;
    color: red;&amp;#13;
}&amp;#13;
.panel-body &amp;gt; h1 {&amp;#13;
    font-size: 1.7em;&amp;#13;
}&amp;#13;
/* Testing */&amp;#13;
@media screen and (max-width: 767px) {&amp;#13;
  .dataTables_wrapper .dataTables_info,&amp;#13;
  .dataTables_wrapper .dataTables_paginate {&amp;#13;
    float: none;&amp;#13;
    text-align: center; }&amp;#13;
  .dataTables_wrapper .dataTables_paginate {&amp;#13;
    margin-top: 0.5em; } &amp;#13;
}&amp;#13;
@media screen and (max-width: 640px) {&amp;#13;
  .dataTables_wrapper .dataTables_length,&amp;#13;
  .dataTables_wrapper .dataTables_filter {&amp;#13;
    float: none;&amp;#13;
    text-align: center; }&amp;#13;
  .dataTables_wrapper .dataTables_filter {&amp;#13;
    margin-top: 0.5em; } &amp;#13;
}&amp;#13;
.legend{&amp;#13;
/* css for agreement*/&amp;#13;
font-family: Arial, Helvetica, sans-serif;&amp;#13;
font-size:14px;&amp;#13;
color:#566473;&amp;#13;
font-weight: bold;&amp;#13;
}&amp;#13;
&amp;#13;
.overlay{&amp;#13;
  opacity:0.5;&amp;#13;
  background:white;&amp;#13;
  pointer-events: none&amp;#13;
}&amp;#13;
&amp;#13;
.tools-owner-title {&amp;#13;
    padding-top: 5px;&amp;#13;
    padding-bottom: 5px;&amp;#13;
    background-color: #F5FAFF;&amp;#13;
    color: #0C5C97;&amp;#13;
}&amp;#13;
&amp;#13;
.ui-dialog.ui-widget.ui-widget-content {&amp;#13;
	background:white; /* and no special background for the dialog */&amp;#13;
}&amp;#13;
.ui-widget-overlay.ui-front { /* you want this */&amp;#13;
	opacity:.10;&amp;#13;
}&amp;#13;
.modal-dialog1 {&amp;#13;
    width: 900px;&amp;#13;
    margin: 30px auto;&amp;#13;
    position: relative;&amp;#13;
}&amp;#13;
&amp;#13;
.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&amp;#13;
&amp;#13;
.overlay {&amp;#13;
  position: fixed; &amp;#13;
  width: 100%; &amp;#13;
  height: 100vh; &amp;#13;
  background-color: white; &amp;#13;
  opacity: 0.9; &amp;#13;
  z-index: 9999; &amp;#13;
  top: 0; &amp;#13;
  left: 0;&amp;#13;
  &amp;#13;
  display: flex;&amp;#13;
  align-items: center;&amp;#13;
  justify-content: center;&amp;#13;
  flex-direction: column;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
&amp;#13;
.spinner {&amp;#13;
  animation: spin 2s infinite linear;&amp;#13;
}&amp;#13;
&amp;#13;
/** spin animation */&amp;#13;
@keyframes spin {&amp;#13;
  from {&amp;#13;
    transform: rotate(0deg);&amp;#13;
  }&amp;#13;
&amp;#13;
  to {&amp;#13;
    transform: rotate(359deg);&amp;#13;
  }&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-main-content&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS main content&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;true&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.access = '';
	var userName = '';
	  var user_item = new GlideRecord('sys_user');
        user_item.addQuery('sys_id', my_sys_id);
        user_item.query();
        user_item.next();
	if(user_item != null){
	   userName = user_item.last_name + ", " + user_item.first_name;
	}

	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		userName: userName
	};

	data.tasks = [];
	data.userTasks = [];
	data.icSubmittedTasks=[];
	
	data.submittedTasks = [];
	data.icTasks = [];
	data.icSignTasks = [];
	
	//get PI sign record
			var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
       gr_approval_items.addQuery('approver', my_sys_id); 
			 //gr_approval_items.addQuery('document_id.request.requested_for', my_sys_id);
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(stage_v == 'Wait for PI to Sign'){
					   var items = {};
									items.ic_id = ticket_number;
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();					
						 data.icSignTasks.push(items);
					}
			}
	//end of PI sign Record 

	/*var gr_ic_sign_items = new GlideRecord('sc_req_item');
	    gr_ic_sign_items.addQuery('requested_for', my_sys_id);
	    gr_ic_sign_items.addQuery()*/
	
	var ernames=['er_investigator','er_email','er_phone', 'er_date', 'er_projectNumber', 'er_projectName', 'er_simpleSize','er_prospective', 'er_restrospective', 'er_human', 'er_nonHuman', 'er_germLine','er_somatic', 'er_dnaType', 'er_rnaType',  'er_microbiome', 'er_mitochrondria', 'er_otherType', 'er_specifyOtherType', 'er_snpArrayData', 'er_numSNP', 'er_expressionArray', 'er_numExpression','er_methylationArray', 'er_numMethylation','er_arrayDerive', 'er_microarrayData', 'er_sequenceData', 'er_somaticSnv', 'er_arrayCgh', 'er_wholeGenome', 'er_wholeExome', 'er_targetGenome', 'er_targetExome', 'er_wholeTranscriptome', 'er_targetTrabscriptome', 'er_epigenomicMark', 'er_sanger', 'er_rrna', 'er_association', 'er_arrayDerivedExpression', 'er_rnaExpression', 'er_derivedMethylation', 'er_otherAnalysis', 'er_spcifiedOtherAnalysis', 'er_individual', 'er_aggregate', 'er_notApplicableDataForm', 'orginId', 'version','er_rat', 'er_mouse', 'er_celegans', 'er_drosophila', 'er_yeast', 'er_yeastSpecies', 'er_bacteria', 'er_bacteriaSpecies','er_noHumanOther', 'er_numDerivedGenotype', 'er_numMicroarrayData', 'er_numSquenceData', 'er_numSomaticSnv', 'er_numArrayCgh','er_numWholeGenome', 'er_numWholeExome', 'er_numTargetGenome', 'er_numTargetedExome', 'er_numWholeTranscriptome', 'er_numTargetedTranscriptome', 'er_numEpigenomic', 'er_numSanger', 'er_numRrna','er_legalRestricton', 'er_describedLegal', 'er_informedConsent','er_otherJust', 'er_specifiedOtherJust','er_nonExistConsent','er_nonAddressConsent', 'er_nonAddressRisk','er_precludedConsent','er_otherConsent', 'er_specifiedOtherConsent', 'er_copyConsent', 'er_gpaAgreed', 'er_gpaDisagree', 'er_gpaUnclear','er_irbAgree', 'er_irbDisagree', 'er_alternative']; 
	data.erTasks = [];
	var gr_er_items = new GlideRecord('u_gdsp_user_submission');
		  gr_er_items.addQuery('u_userid', my_sys_id);
	    gr_er_items.addQuery('u_application', 'GDS_ER');
		  gr_er_items.orderByDesc('sys_updated_on');
		  gr_er_items.query();
	while (gr_er_items.next()){
		var er = {};
		er.sys_create_on = gr_er_items.getValue('sys_created_on');	
		er.requested_for =  gr_er_items.getValue('u_apply_for_id');	
		var er_value = gr_er_items.getValue('u_value');
		var er_temp = er_value.split(",");
		var er_Value = {};
		var er_index = 0;
		for(er_index = 0; er_index &lt; er_temp.length; er_index++){
         var er_vals = er_temp[er_index].split("=");
			   er_Value[er_vals[0]] = er_vals[1];
		}
		for(er_index = 0; er_index &lt; ernames.length; er_index++){
			er[ernames[er_index]] = er_Value[ernames[er_index]];
		}
		er.project_name = er.er_projectName;
		er.investigator = er.er_investigator;
	  er.sys_id = gr_er_items.getDisplayValue("sys_id");
		data.erTasks.push(er);
	}	
	
})();

]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-31 16:20:02&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;6f829e9adbf1b20054d8ff621f961937&lt;/sys_id&gt;&lt;sys_mod_count&gt;2123&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS main content&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_6f829e9adbf1b20054d8ff621f961937&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-13 21:44:40&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;br/&gt;
&lt;div&gt;
    &lt;div class="col-md-12" id="messageDiv" style="display:none;"&gt;&lt;/div&gt;
    &lt;!--&lt;div class="col-md-12"&gt;
      &lt;input type="button" class="btn btn-primary btn-sm active pull-right" ng-click="backToMain()" value="Home" /&gt;
    &lt;/div&gt;--&gt;
    &lt;div class="col-md-12"&gt;&lt;label&gt;&lt;a href='' ng-click='backToMain()'&gt; Home &amp;nbsp;&amp;nbsp; &gt; &amp;nbsp;&amp;nbsp; &lt;/a&gt;&lt;/label&gt;&lt;span style="display:none;" id="titleDiv"&gt;&lt;/span&gt;&lt;/div&gt;
    &lt;div class="col-md-12"&gt;
        &lt;div class="panel panel-success"&gt;
            &lt;div class="panel-heading" id="heading_project" role="tab"&gt;
                &lt;h4 class="panel-title"&gt;
                    &lt;a aria-controls="collapseProject" aria-expanded="true" data-target="#collapseProject" data-toggle="collapse" role="button"&gt;
                  &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                  Project Information&lt;/a&gt;&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div aria-labelledby="heading_project" class="panel-collapse collapse in" id="collapseProject" role="tabpanel"&gt;
                &lt;div class="tab-content grey-border"&gt;
                    &lt;div class="tab-pane active" id="projectInfo"&gt;
                        &lt;div class="col-md-12" id="gdsErrorDiv" style="display:none"&gt;
                            &lt;font color='red'&gt;
                                &lt;li&gt;Please complete all required fields&lt;/li&gt;
                            &lt;/font&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;Project Title&lt;/div&gt;
                            &lt;div class="col-md-9"&gt;&lt;input type="text" class="form-control" id="projectTitle"/&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;PI Name&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input id="piName" class="form-control"&gt;&lt;/div&gt;
                            &lt;input type='hidden' id='piFirstName' /&gt;
                            &lt;input type='hidden' id='piLastName' /&gt;
                            &lt;input type="hidden" id="piUserId" /&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;PI Email&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" class="form-control" id="piEmail" /&gt;&lt;/div&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;PI Phone&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" class="form-control" id="piPhone" /&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;PI Title&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" class="form-control" id="piTitle" /&gt;&lt;/div&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;PI Branch&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;select id="piBranch" class="form-control"&gt;&lt;/select&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-1"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;Organism Type&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;
                                &lt;select id="organismType" class="form-control"&gt; 
                          &lt;option value="0"&gt;Please select a type&lt;/option&gt;
                          &lt;option value="human"&gt;Human&lt;/option&gt;
                          &lt;option value="nonhuman"&gt;Non-Human&lt;/option&gt;
                          &lt;option value="both"&gt;Both Human and Non-Human&lt;/option&gt;
                        &lt;/select&gt;
                            &lt;/div&gt;
                            &lt;div class="col-md-3"&gt;
                                &lt;font color='red'&gt;*&lt;/font&gt;Do you want to submit a GDS Exception Request? &lt;/div&gt;
                            &lt;div class="col-md-1"&gt;&lt;input type="radio" name="er" id="erId1" value="yes" /&gt; &amp;nbsp; Yes &amp;nbsp; &lt;input type="radio" name="er" id="erId2" value="no" checked="checked" /&gt; &amp;nbsp;No
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-1"&gt;Parent GDS&lt;/div&gt;
                            &lt;div class='col-md-4'&gt;
                                &lt;select id="selectParent" class="selectpicker" multiple&gt;
                        &lt;/select&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12" align='right' id="saveBt"&gt;
                            &lt;input type="button" class="btn btn-primary active pull-right" style="width: 70px; text-align: center;" ng-click="saveProjectInformation(0)" value="Save" /&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12" id="updateBt" style="display:none"&gt;
                            &lt;input type="button" class="btn btn-primary active pull-right" style="width: 70px; text-align: center;" ng-click="saveProjectInformation(1)" value="Update" /&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;br&gt;
        &lt;!-- User Access Tab content --&gt;

        &lt;div class="panel panel-success" id="acli" style="display:none;"&gt;
            &lt;div class="panel-heading" style="padding-top: 5px; padding-bottom: 5px;" id="heading_user" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseUser" aria-expanded="true" data-target="#collapseUser" data-toggle="collapse" role="button"&gt;
                        &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                        User Access&lt;/a&gt;
                    &lt;span class="pull-right"&gt;
                    &lt;button type="button" class="btn btn-primary  btn-sm" id="accessBtn" ng-click="createNewUserAccess()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                    &lt;!-- &amp;nbsp;&amp;nbsp;&amp;nbsp; 
                    &lt;button type="button" class="btn btn-primary  btn-sm" id="viewUserAccessBt" ng-click="viewUserAccess()" style="width: 70px; text-align: center;"&gt;View/Edit&lt;/button&gt; --&gt;
                    &lt;/span&gt; 
                &lt;/h4&gt;
            &lt;/div&gt;
            &lt;div aria-labelledby="heading_user" class="panel-collapse collapse" id="collapseUser" role="tabpanel"&gt;
                &lt;div class="tab-content grey-border" id="access"&gt;
                    &lt;div class="row"&gt;
                        &lt;div class="row"&gt;&amp;nbsp; &lt;/div&gt;
 
                        &lt;div class="panel panel-default"&gt;
                            &lt;div class="panel-heading"&gt;
                                &lt;h2 class="panel-title"&gt;User(s) who can access the project&lt;/h2&gt;
                            &lt;/div&gt;
                            &lt;div class="panel-body"&gt;
                                 &lt;!-- remove the input into dialog --&gt;
                                &lt;br&gt;
                                &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.userTasks.length &gt; 0"&gt;
                                    &lt;h4&gt; User Access Table&lt;/h4&gt;
                                    &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.userTasks.length }}&lt;/span&gt;
                                &lt;/div&gt;
                                &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.userTasks.length &gt; 0"&gt;
                                    &lt;thead&gt;
                                        &lt;tr&gt;
                                            &lt;td colspan="4"&gt;
                                                &lt;form class="form-inline"&gt;
                                                    &lt;input type="text" class="form-control1" ng-model="searchUserAccess" placeholder="Search" /&gt;
                                                &lt;/form&gt;
                                            &lt;/td&gt;
                                        &lt;/tr&gt;
                                        &lt;tr&gt;
                                            &lt;th ng-repeat="column in c.columns3 track by $index" ng-click="c.toggleSort3($index)" style="cursor: pointer"&gt;
                                                {{ column.label }}
                                                &lt;span class="glyphicon small" ng-class="{
                                                'glyphicon-chevron-up': column.sort === 'asc',
                                                'glyphicon-chevron-down': column.sort === 'desc'
                                              }"&gt;
                                  &lt;/span&gt;
                                            &lt;/th&gt;
                                        &lt;/tr&gt;
                                    &lt;/thead&gt;
                                    &lt;tr ng-repeat="row in c.data.userTasks | filter:searchUserAccess" ng-show="$index &gt;= c.pagination3.currentPage * c.pagination3.currentSize &amp;&amp;
                                         $index &lt; (c.pagination3.currentPage + 1) * c.pagination3.currentSize"&gt;
                                        &lt;td class="ritm_number"&gt;{{ row.first_name }}&lt;/td&gt;
                                        &lt;td class="ritm_number"&gt;{{ row.last_name }}&lt;/td&gt;
                                        &lt;td class="ritm_number"&gt;{{ row.access }}&lt;/td&gt;
                                        &lt;td class="ritm_number" ng-show="c.data.access != 'Read_Only'"&gt;&lt;button type='button' class="btn btn-primary" style="width: 70px; text-align: center;" ng-click="removeUser(row.sys_id);"&gt;Remove&lt;/button&gt; &lt;/td&gt;
                                        &lt;td class="ritm_number" ng-show="c.data.access == 'Read_Only'"&gt;&lt;button type='button' class="btn btn-primary" style="width: 70px; text-align: center;" ng-click="removeUser(row.sys_id);" disabled&gt;Remove&lt;/button&gt; &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/table&gt;


                                &lt;!-- select the page size --&gt;
                                &lt;form class="form-inline pull-right"&gt;
                                    &lt;div class="pagination form-group" ng-show="c.data.userTasks.length &gt; 0"&gt;
                                        &lt;label for="pageSize"&gt;
                              Items per page
                            &lt;/label&gt;

                                        &lt;select id="pageSize" class="form-control" style="display: inline" ng-init="c.pagination3.currentSize = c.pagination3.pageSizes[1]" ng-model="c.pagination3.currentSize" ng-options="sizes for sizes in c.pagination3.pageSizes"&gt;
                            &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/form&gt;

                                &lt;!-- select the page index (offset) --&gt;
                                &lt;ul class="pagination" ng-show="c.pagination3.currentSize &lt; c.data.userTasks.length"&gt;
                                    &lt;li ng-repeat="index in c.getRange3() track by $index" ng-click="c.setPage3($index)"&gt;
                                        &lt;a href=""&gt;
                              {{ $index + 1 }}
                            &lt;/a&gt;
                                    &lt;/li&gt;
                                &lt;/ul&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
          &lt;!-- end of User Access --&gt;
            &lt;br&gt;
     


        &lt;!-- GDSP Tab content --&gt;
        &lt;div class="panel panel-success" id="gdspli" style="display:none;"&gt;
            &lt;div class="panel-heading" style="padding-top: 5px; padding-bottom: 5px;" id="heading_GDSP" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseGDSP" aria-expanded="true" data-target="#collapseGDSP" data-toggle="collapse" role="button"&gt;
                  &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; Genomic Data Sharing Plan &lt;/a&gt;
                    &lt;span class="pull-right"&gt;    
 									&lt;button type="button" class="btn btn-primary  btn-sm " id="gdspBt" ng-click="createGDSP()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                  &lt;!-- &amp;nbsp;&amp;nbsp;&amp;nbsp;
                  &lt;button type="button" class="btn btn-primary  btn-sm " id="viewGDSPBt" ng-click="viewGDSP()" ng-show="c.data.tasks.length &gt; 0 || c.data.submittedTasks.length &gt; 0" style="width: 70px; text-align: center;"&gt;View/Edit&lt;/button&gt; --&gt;   
                  &lt;/span&gt;
                &lt;/h4&gt;
            &lt;/div&gt;

            &lt;div aria-labelledby="heading_GDSP" class="panel-collapse collapse" id="collapseGDSP" role="tabpanel"&gt;

                &lt;div class="tab-content grey-border"&gt;

                    &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.tasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;h4&gt;Draft GDSPs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.tasks.length }}&lt;/span&gt;
                    &lt;/div&gt;

                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.tasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="3"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchDraftGDSP" placeholder="Search" /&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns track by $index" ng-click="c.toggleSort($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                                'glyphicon-chevron-up': column.sort === 'asc',
                                                'glyphicon-chevron-down': column.sort === 'desc'
                                              }"&gt;
                                  &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.tasks | filter:searchDraftGDSP" ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                                         $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sys_create_on }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="c.editItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                                  Edit
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="c.removeItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                                  Remove
                                &lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.tasks.length &gt; 0"&gt;
                            &lt;label for="pageSize"&gt;
                              Items per page
                            &lt;/label&gt;

                            &lt;select id="pageSize" class="form-control" style="display: inline" ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]" ng-model="c.pagination.currentSize" ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.tasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange() track by $index" ng-click="c.setPage($index)"&gt;
                            &lt;a href=""&gt;
                              {{ $index + 1 }}
                            &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;

                    &lt;!-- submitted Table --&gt;
                    &lt;br/&gt;&lt;br&gt;&lt;br&gt;
                    &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.submittedTasks.length &gt; 0"&gt;
                        &lt;h4&gt;Submitted GDSPs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.submittedTasks.length }}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.submittedTasks.length &gt; 0"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="7"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchSubmittedGDSP" placeholder="Search" /&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns1 track by $index" ng-click="c.toggleSort1($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                                'glyphicon-chevron-up': column.sort === 'asc',
                                                'glyphicon-chevron-down': column.sort === 'desc'
                                              }"&gt;
                                  &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.submittedTasks | filter: searchSubmittedGDSP" ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                                         $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.principal_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;
                                &lt;span ng-switch on='row.approval'&gt;
                                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA review"  title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" title="Request Submitted" Alt="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
                                &lt;/span&gt;
                            &lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.submitted_date}}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="viewItem(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
                                  View
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-show="(row.approval == 'Waiting for PI Resubmit' || row.approval == 'Completed') &amp;&amp; row.access == null &amp;&amp; c.data.access != 'Read_Only' " ng-click="displayResubmit(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                                  Resubmit
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-show="row.approval != 'Completed' &amp;&amp;  row.access == null &amp;&amp; c.data.access != 'Read_Only'" ng-click="withdraw(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
                                  Withdraw
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="report(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
                                  Export
                                &lt;/button&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_orginId" value="{{ row.orginId}}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_num" value="{{ row.org_ticket_num }}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket" value="{{row.gdsp_id}}" /&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.submittedTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize"&gt;
                              Items per page
                            &lt;/label&gt;

                            &lt;select id="pageSize" class="form-control" style="display: inline" ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]" ng-model="c.pagination1.currentSize" ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.submittedTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange1() track by $index" ng-click="c.setPage1($index)"&gt;
                            &lt;a href=""&gt;
                              {{ $index + 1 }}
                            &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- end of GDSP --&gt;
        &lt;br&gt;
        &lt;!-- IC Tab content ng-click='openIcQUestion()' --&gt;
        &lt;div class="panel panel-success" id="icli" style="display:none;"&gt;
            &lt;div class="panel-heading" style="padding-top: 5px; padding-bottom: 5px;" id="heading_IC" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseIC" aria-expanded="true" data-target="#collapseIC" data-toggle="collapse" role="button"&gt;
                              &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                              Institutional Certification
                            &lt;/a&gt;
                    &lt;span class="pull-right"&gt;
                            &lt;button type="button" class="btn btn-primary  btn-sm" id="icBtn" ng-click="openIcQUestion()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                            &lt;!--&amp;nbsp;&amp;nbsp;&amp;nbsp;
                            &lt;button type="button" class="btn btn-primary  btn-sm " id="viewICBt" ng-click="viewIC()" ng-show="c.data.icTasks.length &gt; 0 || c.data.icSubmittedTasks.length &gt; 0 || c.data.icSignTasks.length &gt; 0" style="width: 70px; text-align: center;"&gt;View/Edit&lt;/button&gt;--&gt;  
                            &lt;/span&gt;
                &lt;/h4&gt;
            &lt;/div&gt;
            &lt;div aria-labelledby="heading_IC" class="panel-collapse collapse" id="collapseIC" role="tabpanel"&gt;

                &lt;div class="tab-content grey-border" id="IC"&gt;
                    &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.icTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;h4&gt;Draft ICs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.icTasks.length }}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.icTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="8"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchDraftIC" placeholder="Search" /&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns2 track by $index" ng-click="c.toggleSort2($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                    'glyphicon-chevron-up': column.sort === 'asc',
                                    'glyphicon-chevron-down': column.sort === 'desc'
                                  }"&gt;
                      &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.icTasks | filter:searchDraftIC" ng-show="$index &gt;= c.pagination2.currentPage * c.pagination2.currentSize &amp;&amp;
                             $index &lt; (c.pagination2.currentPage + 1) * c.pagination2.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.certification_to }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.certification_from }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.gpa_organization }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sd_organization }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sys_create_on }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="viewICItem(row.sys_id, row.sampleTime, row.sampleConsent)" style="width: 70px; text-align: center;"&gt;
                      Edit
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="c.removeItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Remove
                    &lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.icTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize"&gt;
                  Items per page
                &lt;/label&gt;

                            &lt;select id="pageSize" class="form-control" style="display: inline" ng-init="c.pagination2.currentSize = c.pagination2.pageSizes[1]" ng-model="c.pagination2.currentSize" ng-options="sizes for sizes in c.pagination2.pageSizes"&gt;
                &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination2.currentSize &lt; c.data.icTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange2() track by $index" ng-click="c.setPage2($index)"&gt;
                            &lt;a href=""&gt;
                  {{ $index + 1 }}
                &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
 
                  &lt;!-- IC submitted Table --&gt;
                 &lt;br/&gt;&lt;br&gt;&lt;br&gt;
                 &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.icSubmittedTasks.length &gt; 0"&gt;
                        &lt;h4&gt;Submitted ICs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.icSubmittedTasks.length }}&lt;/span&gt;
                 &lt;/div&gt;
                 &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.icSubmittedTasks.length &gt; 0"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="9"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchSubmittedIC" placeholder="Search" /&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns4 track by $index" ng-click="c.toggleSort4($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                    'glyphicon-chevron-up': column.sort === 'asc',
                                    'glyphicon-chevron-down': column.sort === 'desc'
                                  }"&gt;
                      &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.icSubmittedTasks | filter:searchSubmittedIC" ng-show="$index &gt;= c.pagination4.currentPage * c.pagination4.currentSize &amp;&amp;
                             $index &lt; (c.pagination4.currentPage + 1) * c.pagination4.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.issue_to }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.issue_from }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;
                                &lt;span ng-switch on='row.approval'&gt;
                                &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA review"  title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Wait for PI to Sign'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for PI to sign"  title="Waiting for PI to sign"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;  
                                &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" title="Request Submitted" Alt="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
                                &lt;/span&gt;
                            &lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.submitted_date}}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="viewSubmittedIC(row.sys_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
                      View
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-show="(row.approval == 'Waiting for PI Resubmit' || row.approval == 'Completed') &amp;&amp; row.access == null &amp;&amp; c.data.access != 'Read_Only' " ng-click="displayICResubmit(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Resubmit
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-show="row.approval != 'Completed' &amp;&amp; row.access == null &amp;&amp; c.data.access != 'Read_Only'" ng-click="withdrawIC(row.sys_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
                      Withdraw
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-show="row.approval != 'Completed' &amp;&amp; c.data.access != 'Read_Only' &amp;&amp; row.approval != 'Wait for PI to Sign'" ng-click="reportIC(row.sys_id, row.ic_id, 'pi')" style="width: 70px; text-align: center;"&gt;
                      Export
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-show="row.approval == 'Completed' &amp;&amp; c.data.access != 'Read_Only'" ng-click="reportIC(row.sys_id, row.ic_id, 'sd')" style="width: 70px; text-align: center;"&gt;
                      Export
                    &lt;/button&gt;

                                &lt;input type="hidden" id="{{ row.sys_id }}_orginId_ic" value="{{ row.orginId}}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_num_ic" value="{{ row.org_ticket_num }}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_ic" value="{{row.ic_id}}" /&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.icSubmittedTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize"&gt;
                  Items per page
                &lt;/label&gt;

                            &lt;select id="pageSize" class="form-control" style="display: inline" ng-init="c.pagination4.currentSize = c.pagination4.pageSizes[1]" ng-model="c.pagination4.currentSize" ng-options="sizes for sizes in c.pagination4.pageSizes"&gt;
                &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination4.currentSize &lt; c.data.icSubmittedTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange4() track by $index" ng-click="c.setPage4($index)"&gt;
                            &lt;a href=""&gt;
                  {{ $index + 1 }}
                &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- end of the IC tab createER() --&gt;
        &lt;br&gt;

        &lt;!-- Exception Request Tab content  tempFunc   data-target="#collapseER"--&gt;
        &lt;div class="panel panel-success" id="erli" style="display:none;"&gt;
            &lt;div class="panel-heading" style="padding-top: 5px; padding-bottom: 5px;" id="heading_ER" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseER" aria-expanded="true" data-target="#" data-toggle="collapse" role="button"&gt;
                                  &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                                  Exception Request
                                &lt;/a&gt;
                    &lt;!--&lt;button type="button" class="btn btn-primary  btn-sm pull-right" id="erBtn" ng-click="createER()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;--&gt;
                    &lt;label&gt;Coming Soon&lt;/label&gt;
                &lt;/h4&gt;

            &lt;/div&gt;

            &lt;div aria-labelledby="heading_ER" class="panel-collapse collapse" id="collapseER" role="tabpanel"&gt;

                &lt;div class="tab-content grey-border" id="ER"&gt;
                    &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.erTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;h4&gt; Draft Exception Requests&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.erTasks.length }}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.erTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="9"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchDraftER" placeholder="Search" /&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns5 track by $index" ng-click="c.toggleSort5($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                    'glyphicon-chevron-up': column.sort === 'asc',
                                    'glyphicon-chevron-down': column.sort === 'desc'
                                  }"&gt;
                      &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.erTasks | filter: searchDraftER" ng-show="$index &gt;= c.pagination5.currentPage * c.pagination5.currentSize &amp;&amp;
                             $index &lt; (c.pagination5.currentPage + 1) * c.pagination5.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.investigator }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sys_create_on }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="editERItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Edit
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary" ng-click="removeERItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Remove
                    &lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;
                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.erTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize"&gt;
                  Items per page
                &lt;/label&gt;

                            &lt;select id="pageSize" class="form-control" style="display: inline" ng-init="c.pagination5.currentSize = c.pagination5.pageSizes[1]" ng-model="c.pagination5.currentSize" ng-options="sizes for sizes in c.pagination5.pageSizes"&gt;
                &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination5.currentSize &lt; c.data.erTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange5() track by $index" ng-click="c.setPage5($index)"&gt;
                            &lt;a href=""&gt;
                  {{ $index + 1 }}
                &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                    &lt;!-- &lt;br&gt;&lt;br&gt;&lt;br&gt; --&gt;
                    &lt;!-- add submitted Exception Request table here--&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;

&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
&lt;input type="hidden" id="hideGDSId" /&gt;
&lt;input type="hidden" id="recId" /&gt;
&lt;input type="hidden" id="access" /&gt;
&lt;input type='hidden' id='refresh'/&gt;
&lt;input type='hidden' id='gdspStatus'/&gt;
&lt;input type='hidden' id='icStatus'/&gt;


&lt;div class="col-md-12"&gt;&lt;label&gt;&lt;a href='' ng-click='backToMain()'&gt; Home &amp;nbsp;&amp;nbsp; &gt; &amp;nbsp;&amp;nbsp;&lt;/a&gt;&lt;/label&gt;&lt;span style="display:none;" id="titleButtomDiv"&gt;&lt;/span&gt;&lt;/div&gt;

&lt;!-- confirm modal --&gt;
&lt;div id="confirmDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                  &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
              &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirmYesNo" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirmYesNo" type="button" class="btn btn-default" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="userConfirmDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                  &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
              &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageDeleteUser"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirmUser" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirmUser" type="button" class="btn btn-default" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="withdrawDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageWithdraw"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesWithdraw" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoWithdraw" type="button" class="btn btn-default" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="withdrawICDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageWithdrawIC"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesWithdrawIC" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoWithdrawIC" type="button" class="btn btn-default" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;!--button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button --&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;

&lt;div id="addUserAccessDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;User Access&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                 &lt;div class="row" id="error" style="display:none;"&gt; &lt;/div&gt;
                 &lt;div class="row"&gt;
                     &lt;div class="col-md-2"&gt;
                           User Name
                     &lt;/div&gt;
                     &lt;div class="col-md-6 ui-front"&gt;
                          &lt;input type="text" class="form-control" id="userName" style="width:90%;" /&gt;
                          &lt;input type='hidden' id='userFirstName' /&gt;&lt;input type='hidden' id='userLastName' /&gt;&lt;input type='hidden' id='userId' /&gt;
                     &lt;/div&gt;
                     &lt;div class="col-md-2"&gt;
                          Read-Write &lt;input type="radio" name="access" value="Read_and_Write" /&gt;
                     &lt;/div&gt;
                     &lt;div class="col-md-2"&gt;
                          Read-only &lt;input type="radio" name="access" value="Read_Only" checked/&gt;
                     &lt;/div&gt;
								&lt;/div&gt;                
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnAddUserAccess" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;Add&lt;/button&gt;
                &lt;button id="btnCancelUserAccess" type="button" class="btn btn-default" style="width: 70px; text-align: center;"&gt;Cancel&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-871582207</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>e5f9c652dbd7570054d8ff621f961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164959a641d0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS main content</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>f3aeaa19b91b9300aa0b0e53476e80ef</update_guid>
<update_guid_history>f3aeaa19b91b9300aa0b0e53476e80ef:-871582207,838c6655eb1b93005219a5f8f3fa6edf:609949665,1eeb2a151b1b9300a6cb92e656c57780:-1767042503,2ccb66d1a11b9300c7c2dffbbb10d431:-1788557490,879baad1fd1b930097031f09bac25acf:-425895689,0a6ba215381b93007d8fa5befa7fa3c3:1266842752,bdfae6d1c81b93002ebe07e2d94aa4ee:-414337529,6feae691721b93001431e9dd1f99b74c:664943181,5baa6e91da1b930024718af9736fde8b:-1228542650,a6e00124d7031b00c4d1b5f8b2645526:629995541,e32041200b031b006a3fa93b4db54747:344965778,5a49d4c3842e1f006e604360c2432123:-1749245678,0633160de011134032cd9145bb685211:-876465940,2cd9e9e03edd1f00b552afc6f47043ab:-1027339250,c2a929a03add1f0035483f8384329a74:1765632768,8469ada8dd9d1f00d085412e6659d9aa:1310395403,3c2969605bdd1f001a90d5079e35e595:-688255449,1f38a1a0e2dd1f001610f75915bd9e6b:-1996721107,e318ad6041dd1f001b196eba7ccf2709:1467454029,16b7a520c7dd1f00e8a796595b71dd51:-938667929,8117616009dd1f00546db558ceffd4b6:1586626387,6db62d20f0dd1f007d814f77c8d5d7ca:-1895817030,64862120ebdd1f0010f3c919062659f6:1586626387,ca46a52058dd1f00e96f9a5af1b5594a:426284553,65a5adecab9d1f0050bd3082ed669a15:-2141018051,cd752deca89d1f00e7d46002d4666d2f:746947285,1364a1ac3a9d1f00ef3f716fb5f90cec:2030126803,d73461ac1e9d1f00bb7fb789590c8b11:1492711655,2f1461e86f9d1f00268c64b37eeab857:1382643181,c704a92c659d1f00020f2fdeffa419d4:-659569008,00a3656c959d1f00717fb6a29cc764d7:863524939,4a63616cb89d1f00d1c116012633d12d:870979499,5a13a92c559d1f00e0d2e615a7c65ddd:-1325414716,8913612c419d1f004c548cb7bad58414:2018727972,750365e8c09d1f009e3479627612fa2a:640642503,a0d2e968029d1f00bc15ddb11030ae08:207694561,34b1a1e42a9d1f009f62f8781f0a482f:1794989280,d14121688b9d1f004af53f6aa6a063f2:-4563488,e51129681e9d1f00137b0c9c67b93d03:-152774548,8780e1a4239d1f001da35cb72d548cb0:57200893,9a20e968a79d1f00bd19a37321a8a301:50759594,a46f11686c9d1f0015491fdb6663e1e6:896026811,520fd1e8bd5d1f0010901d2e16be2734:1390877635,3dbe59e4f39d1f00c8891ed6a6721308:1283056168,68cd59e41f9d1f00b604be17077a7c01:-1580718378,973d99acc35d1f00b4b4d2e841e1bca1:-1898048799,d9dc51a4139d1f00633e4adbe96b5f8d:-2040062220,accc1124139d1f00d56afb6573f26248:-1271617473,533c9560b59d1f00aa8076003464271f:-1517741531,7c0cdde0c69d1f0021b55f94cb058bce:-120511095,39c855a08c9d1f0034083c5a8124e499:329646761,2e98d5e0999d1f00b0a449bb388c728f:123238215,061859acf45d1f004da1bf829195adbf:36703271,db4251ec7b5d1f00d2f4016ccc116355:-1306234201,89d151ac955d1f006b29a214784c48ba:904689287,39b1d1acc35d1f00c92fb7269eb41ceb:-1489052376,4d9195ac205d1f00380984e1a6461ea6:-279844796,df619d6cbb5d1f00b268a2a58f79c162:-103584463,1131d1ac375d1f00c403a4a5de2d86e5:604828036,83f0156c105d1f00c60cc507a96376df:-103584463,8cff816c325d1f0011ef096574ac5b1b:1122678797,a1df89a4eb5d1f004bfc9711b944d682:877180125,858f4568495d1f00b973e4dc387a6f39:-74865290,52e72897ea8d5b00791d7b27447a0f10:1292429165,a5f2ec130c8d5b0038621df4a3cdf8eb:-1708271084,75a2e093968d5b00817b856e5268544a:1710008432,2e92a093ba8d5b0099687cba54bd7cc1:851877809,ff626093608d5b0021b9b039c4ed5c26:955307484,b7f1e453318d5b005f9bce717377c5e5:-2129282262,72b160131c8d5b00a7bc370c152f18ef:957900521,12816053098d5b00f3c13c6e12d5cbef:649632329,fd71e4530c8d5b00bf0c53b821be4dde:-1399985989,fc71e453ab8d5b001a0b800929278395:-771768522,4851a4534a8d5b00110abb5c35339f6a:-1203814213,5d506013118d5b000b79c1d8398f126b:-1179671339,c6856bbae1c59b00ce0677d850c51da1:1165473759,2184af7ad5c59b00f985034fcb49321b:-589876514,40546b7a4fc59b000e72ea372894da81:-1102821960,fe146b3a1cc59b005d72fa2facd90326:-1497756591,14f3eff6aec59b0009ece4d522da5308:-244225922,7493ab3a27c59b008d018dd9d9a0ecae:784250367,d3636b3a34c59b003f69935b159cec20:367955743,fec2233a34c59b00bcbbd16f529ad13a:-1887620841,b8a167f64bc59b000a9f136b27893d4e:1165883701,6341e3b273c59b00194d9b83fc7cf6c2:1927349050,e721ebb65bc59b0096ea187052f72705:-2119801812,6f8027b267c59b00be98a084db02cbb9:-1147745874,67606f76b8c59b00e43b55947cef642d:1210562843,2d60e33679c59b002d5c7e9b14fdfae8:-832666421,b540ab7685c59b001e4fbdda0c5ea44b:-1830504674,4110af72aec59b00f5c884de66c8395b:-1147745874,5bf5933e96859b00984ce8a1c5bb09fe:902667823,c4d59bbab5859b00a5cc2094410b3509:710417225,59959fbaf0859b00d49d50cd2adaa73b:562353175,400513fa7a859b0054d27d79897d9e63:1796277541,6c28128cb2f813003002a8305806ab2b:633250117,c2f7528ce9f81300fb4d3ee43c2fa324:-838882044,8dfd55c45f374700b89636cf606bf65e:-853082806,f4a0cdb622238300c2aee6eba7217b20:-1902077762,fa592c32d0ef4300cc5f26691a0b3af5:-433521433,d7b82c32deef430070a3bf5a24dd60cc:1594888134,e1f7203272ef4300b8287e6137952a22:-2037396704,3b47283226ef4300301fef0e2260351f:-429734960,ff372cbe2caf43002aa7d53db99bec13:1063368278,7f56687af6af4300dab9cbb9f5d63991:-249794114,6a752cbe98af4300386ed72aea70d70d:114541154,59e4ecba0faf4300cea21b69d0ce5617:1872755966,5dc460be36af430088a5b08af9e2d97d:-1899747709,a964a07e50af43001c4d4a57dda6acca:-1879828717,b6d3ecba93af4300ed3a0e5a4056af60:-72780515,879f58baa5af43009845cc7b698d28ed:1351252935,ab5194fe4f6f43004433ddbcac832569:-790375054,052158322aaf43008d9d5922dff18a59:1296030562,758f883ed46f430028c6ace167b3b38c:1543468674,7e1e483a8d6f430097d6c51492a2eacb:-1578845854,fadd847aff6f4300e683ca6d05cacc24:-651608685,94748de9a2eb8f0056fbdca9f541ffac:998136836,dff04d294ceb8f00b4c2b8e5c13e5f1c:-1469346689,c910d5eee9f64300991e7c1341994138:998136836,856fc5aed3f64300e289b91f2bd283c2:-470066978,372e838ab1ba03009b4750b1db285dfb:791851045,e89d4d9957f64f00fd2f5066cf36a91e:604069041,f24d01d947f64f000efe3c709adc97c6:1526517498,ad1d8999eef64f00d78101758082aeeb:1926481155,3f8b851df7b64f00f872febde9a8683d:604069041,0a0b24cb3266c700cb78655f1c65c891:770949389,0f2e3a96cf6a8700a6f57d2e4bed2722:-1594114820,dc6d7692ec6a87007b1454e45af5383f:-529816406,ea5df2565b6a870049c36d564b7a39d7:599961260,b2962e96ff2a8700d5ee8878afa2a722:1851643230,744ed29e3ce6870035ff11ef8cf5a248:-366689468,9c7dd69e58e68700acf0ca481d184733:587875410,2a1c925e93e68700027efac9acebd19b:-45672557,c3ab9a1eefe687004907a27a36de63ae:611837426,a2859616bfe6870095f1e261b0723611:205799074,94449e9632e687007fb5215ba4bc22c2:316825730,d2125256aae6870063ff6dcd6dd35536:-1309393323,e3615e160be687000c274462fa038fd5:-1276642895,5ba09ed28ae68700ecbc272d34c66f40:-1729353781,e4fa850a53ee070006fe510ee40f0bcd:1744627652,62aa850a7dee0700e4f40ebe21347e92:742184927,e0f9094a37ee0700af35f20c7db7a612:873515730,cbc9814a40ee07008e8348e0004aa7a7:1835136297,5368a4028cae0700f575c3d3a31811db:-1709723459,fdd4e4ca4c6e07006a4d37bb49b235af:-961278198,3834608a2b6e0700187446371e9077ef:1401272115,f2c1944e2b2e0700b0f3c6d92e28b926:463897336,a9a1144e0e2e0700bb8dfdd94bb5cd69:1756426291,1991d04e572e070011af2f3d398c75eb:-297570734,4571100a9b2e07002d08445ea52590b0:-43492814,5921580e462e070000d22765a37045d2:-297570734,6ef0d48ad92e0700aa2e54a6e3a6a9c9:1876190408,fa5fc08a4f2e0700c5039af7a33d0c87:-29466696,52fd247166260700bce2fbdbc05e9497:-1563448335,88cdec310a260700a3dc24aad26931a5:1044067494,e18ce839f1e20700ba3c9a610c21d653:-1899157402,5eeba4fdf3e2070000fa0e06a146f36b:2068878561,57ab60fdf1e207008e6cdd874c4a7875:1703153969,50b22879f2e207007e6a3326a2428561:-1646971497,0682287988e207007a6dafb8e47df74f:-1915812080,1e42e87560e207006af345898b3ead77:100574732,443264798ce20700f17f0f1a41d4e533:1076006847,2122a47549e207001c0e210b7ec30a74:770024737,27c1a87581e20700b87fecdae61025c4:-2110443100,f08c50b592e207004477fd387c964169:342397233,f6fadc354de20700128ac1c975b6d73f:1747547002,ddf3183181e207003a2d306282c0dd1d:-190588860,e54d003d4ba2070013ed0b7bc86900c3:-883106321,c94d403d1da20700ecfa7414f67d65f2:-786273010,cb3d4cf99fa20700598867975d1bc9f2:-1554755037,c7cb44796ca207003c9ac49c157c06b0:-1077553823,50d7bf297062070012a554e80c59ab8f:-385036362,2f97f7a9b46207009530db65ff546e4e:-2140406107,bd96bf698c62070097bf96aed9849b1f:-1950066378,3e667f691462070067001475f3c147f9:299765884,-1951511070:-1951511070,-1329411909:-1329411909,1390559357:1390559357,-1069377826:-1069377826,1068266073:1068266073,-1199719803:-1199719803</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sc_cat_item_b59325ff6f3416000a09334abb3ee4dd</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sc_cat_item"&gt;&lt;sc_cat_item action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;availability&gt;on_desktop&lt;/availability&gt;&lt;billable&gt;false&lt;/billable&gt;&lt;category display_value="Software Solution Services"&gt;bd9121ff6f3416000a09334abb3ee443&lt;/category&gt;&lt;cost&gt;0&lt;/cost&gt;&lt;custom_cart/&gt;&lt;delivery_plan/&gt;&lt;delivery_plan_script/&gt;&lt;delivery_time&gt;1970-01-03 00:00:00&lt;/delivery_time&gt;&lt;description&gt;&lt;![CDATA[&lt;p&gt;This is GDSP service&amp;nbsp;&lt;/p&gt;]]&gt;&lt;/description&gt;&lt;entitlement_script/&gt;&lt;group/&gt;&lt;icon/&gt;&lt;ignore_price&gt;true&lt;/ignore_price&gt;&lt;image/&gt;&lt;list_price&gt;0&lt;/list_price&gt;&lt;location/&gt;&lt;meta/&gt;&lt;mobile_hide_price&gt;false&lt;/mobile_hide_price&gt;&lt;mobile_picture/&gt;&lt;mobile_picture_type&gt;use_desktop_picture&lt;/mobile_picture_type&gt;&lt;model/&gt;&lt;name&gt;GDSP Service&lt;/name&gt;&lt;no_cart&gt;false&lt;/no_cart&gt;&lt;no_order&gt;false&lt;/no_order&gt;&lt;no_order_now&gt;false&lt;/no_order_now&gt;&lt;no_proceed_checkout&gt;false&lt;/no_proceed_checkout&gt;&lt;no_quantity&gt;true&lt;/no_quantity&gt;&lt;no_search&gt;true&lt;/no_search&gt;&lt;omit_price&gt;true&lt;/omit_price&gt;&lt;order&gt;0&lt;/order&gt;&lt;ordered_item_link/&gt;&lt;picture/&gt;&lt;preview&gt;JavaScript: popupOpenStandard("com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;amp;sysparm_id=b59325ff6f3416000a09334abb3ee4dd&amp;amp;sysparm_preview=true", "summary");&lt;/preview&gt;&lt;price&gt;0&lt;/price&gt;&lt;recurring_frequency/&gt;&lt;recurring_price&gt;0&lt;/recurring_price&gt;&lt;roles/&gt;&lt;sc_catalogs&gt;e0d08b13c3330100c8b837659bba8fb4&lt;/sc_catalogs&gt;&lt;sc_ic_item_staging/&gt;&lt;sc_ic_version/&gt;&lt;short_description&gt;CCR Genomic Data Sharing Plan&lt;/short_description&gt;&lt;show_variable_help_on_load&gt;false&lt;/show_variable_help_on_load&gt;&lt;start_closed&gt;false&lt;/start_closed&gt;&lt;sys_class_name&gt;sc_cat_item&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-01-13 19:21:05&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;b59325ff6f3416000a09334abb3ee4dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDSP Service&lt;/sys_name&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sc_cat_item_b59325ff6f3416000a09334abb3ee4dd&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-10 17:20:39&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;type&gt;item&lt;/type&gt;&lt;u_approval_required&gt;false&lt;/u_approval_required&gt;&lt;u_cms_description/&gt;&lt;u_linux_os&gt;false&lt;/u_linux_os&gt;&lt;u_mac_os&gt;false&lt;/u_mac_os&gt;&lt;u_non_standard_delivery_date&gt;false&lt;/u_non_standard_delivery_date&gt;&lt;u_solaris_os&gt;false&lt;/u_solaris_os&gt;&lt;u_trp_item&gt;false&lt;/u_trp_item&gt;&lt;u_unix_os&gt;false&lt;/u_unix_os&gt;&lt;u_windows_os&gt;false&lt;/u_windows_os&gt;&lt;use_sc_layout&gt;false&lt;/use_sc_layout&gt;&lt;vendor/&gt;&lt;visible_bundle&gt;true&lt;/visible_bundle&gt;&lt;visible_guide&gt;true&lt;/visible_guide&gt;&lt;visible_standalone&gt;true&lt;/visible_standalone&gt;&lt;workflow display_value="GDS GDSP Workflow"&gt;3d0f6870db66830054d8ff621f961923&lt;/workflow&gt;&lt;/sc_cat_item&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=b59325ff6f3416000a09334abb3ee4dd"/&gt;&lt;fx_price action="delete_multiple" query="id=b59325ff6f3416000a09334abb3ee4dd"/&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;price&lt;/field&gt;&lt;id&gt;b59325ff6f3416000a09334abb3ee4dd&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-01-13 19:21:05&lt;/sys_created_on&gt;&lt;sys_id&gt;2ce3edbf6f3416000a09334abb3ee402&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2016-01-13 19:21:05&lt;/sys_updated_on&gt;&lt;table&gt;sc_cat_item&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;recurring_price&lt;/field&gt;&lt;id&gt;b59325ff6f3416000a09334abb3ee4dd&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-01-13 19:21:05&lt;/sys_created_on&gt;&lt;sys_id&gt;ace3edbf6f3416000a09334abb3ee402&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2016-01-13 19:21:05&lt;/sys_updated_on&gt;&lt;table&gt;sc_cat_item&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;/record_update&gt;</payload>
<payload_hash>488109999</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>e9f9c652dbd7570054d8ff621f961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164853599150000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDSP Service</target_name>
<type>Catalog Item</type>
<update_domain>global</update_domain>
<update_guid>077556906edb534006b7f85f4458d452</update_guid>
<update_guid_history>077556906edb534006b7f85f4458d452:488109999,c8d90d60165a1bc08398d6fa1f29583e:-114682475,92790560a95a1bc03154963fd9f7e6c6:1141878824,422fc3ae11c6d3c0813147375e2607cd:-114682475,08db18f1b5bc1700e57436184bad43fb:1141878824,ba66618e022247002018770558f0be46:-229183428,b7d0a98623aa4700130eda36852478bb:1141878824,805f24b0c6668300d858d5fd9e69c96f:1691377331,-1862731237:-1862731237,-714780422:-714780422</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_2a1d6b2edb2f360054d8ff621f961976</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
  /* widget controller */
	var c = this;
	console.log($scope.data);
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var catItemId = '';
	var itemIdArray = {};
	//start consent group 
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [
		{
			key: 'site_name',
			label: 'Collaborating Site Name',
			sort: 'asc'
		},
		{
			key: 'use_limit',
			label: 'Data Use Limitations',
			sort: 'asc'
		},
		{
			key: 'data_modifier',
			label: 'Data Use Limitations Modifier',
			sort: null
		},
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.consentTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.tasks = c.data.consentTasks.sort(compareRows);
		}
	};
// end of the pagination of Consent Group	
	
	$('#icForm').on('show.bs.modal', function (e) {
		 // loadConsentData();
		c.data.consentTasks = [];
		var grpIds = $('#consentGroupIds').val();
		if(grpIds != null &amp;&amp; grpIds.trim().length &gt; 0){
			populateConsentGroupDataById(grpIds);
		}
	});
	
	$('#dataModifier').select2();
	//loadBranchOptionString();
  $('#branch').val('NCI');
	//ajax call to fetch catItemId
	var req = {
				method: 'GET',
				url: '	/api/naci/gdspapi/getCatItem',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {name: 'CCR GDSP Intramural Certification'}	
	};
	$http(req).then(function(response){
		 console.log(response);
		 catItemId = response.data.result[0].cat_item_id;
	});
	
	var req2 = {
				method: 'GET',
				url: '/api/naci/gdspapi/getICVariableIdArray',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {email: 'zhoujim@nih.gov'}	
	};
	$http(req2).then(function(response){
		 console.log(response);
		 itemIdArray = response.data.result[0].itemId;
	});	

	$("#datepicker").datetimepicker({format:'MM/DD/YYYY'}).on('dp.show', function() {
		$('.bootstrap-datetimepicker-widget li.accordion-toggle').hide();
	});
	
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title','data_access', 'display', 'frequency', 'sampleTime', 'sampleConsent', 'consent_group'];

  $scope.closeICForm = function (){
	  $('#icForm').modal('hide');
  };
	
	$scope.submitIcForm = function(){
		$('#refresh').val('0')
		clearICFieldBackground();
		var ic_id = $('#ic_id').val();
		var sample_time = $('#sample_time').val();
		var sample_consent = $('#sample_consent').val();
		var error = icDataValidation(sample_time, sample_consent);
		if(error == true){
				$('#icError').show();		
		}else{
			$('#icError').hide();
		  //submit data to service.
			var $confirm = $('#icConfirmSubmitDiv');
			$confirm.modal('show');
			$('#messageIC').html("Are you sure you want to submit this request and sign this document?");		
			$('#icYesConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				submitICRequest();	
				$confirm.modal('hide');
			});
			$('#icNoConfirm').off('click').click(function() {
				$confirm.modal('hide');
			});
		}
	};
	
	function submitICRequest(){
		 $('#icForm').modal('hide');
		 $('#loading').show();
		 var type = $('#type').val();
		 var variables = getICData();
		
		 variables.requested_for = $('#piUserId').val();
	     variables.opened_by = userId;
         variables.contact_type = 'Web';
		 variables.short_description = $('#hideGDSId').val();
		 variables.investigator = $('#piName').val();
		 variables.projectName = $('#piTitle').val();
		 variables.cat_item = catItemId;
		 variables.variables = itemIdArray;
		 var icData = JSON.stringify(variables);
		 var req = {
						method: 'POST',
						url: '/api/naci/gds/submitICRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: icData
			};
			$http(req).then(function(response){
				 console.log(response);
				  //update GDS record
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 ic_id: data.id,
					 ic_number: data.ticketNum,
					 type: 'ic',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 console.log(response);
					 var icID = $('#ic_id').val();
					 if(icID != null || icID.trim() != ""){
								removeICAfterSubmit(icID);
					 }
					 $('#recId').val($('#hideGDSId').val());
				});				
			});
	} 
	
	$scope.saveIcForm = function(){
		$('#refresh').val('0');
		var variables = getIcFormData();
		variables.gds_id = $('#hideGDSId').val();
		var icData = JSON.stringify(variables);
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: icData
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			$('#recId').val($('#hideGDSId').val());
			$('#icForm').modal('hide');
			$('#infoModal').modal('show');
			$('#messageInfo').html('The Intramural Submission Certification Data has been saved successfully.');
			$('#btnOkConfirm').off('click').click(function() {
          $('#infoModal').modal('hide');
			});
		}
		function handleError(){
			console.error(response);
			alert('ERROR');
		}
	};
	
	function getIcFormData(){
		var variables = {};
		variables.requested_for = userId;
		variables.opened_by = userId;
		variables.application = 'GDS_IC';
		variables.value = '';
		variables.project_name = '';
		variables.saved_id = $('#ic_id').val();
		var index = 0;
		for(index = 0; index &lt; names.length; index++){
			if(index != 0) variables.value += ',';
			if(names[index] == 'data_access'){
				var access = $('input[name=dataAccessBox]:checked').val();
				variables.value += names[index] + "=" + access;
			}else if(names[index] == 'display'){
				var display = 'no';
				if($('#displayBox').is(':checked')){
					display = 'yes';
				}
				variables.value += names[index] + "=" + display;
			}else if(names[index] == 'frequency'){
				var frequency = 'no';
				if($('#frequenceBox').is(':checked')){
					frequency = 'yes';
				}
				variables.value += names[index] + "=" + frequency;				
			}else if(names[index] == 'sampleTime'){
				var sampleTime = $('input[name=sampleTime]:checked').val();
				variables.value += 'sampleTime=' + sampleTime;
			}else if(names[index] == 'sampleConsent'){
				var sampleConsent = $('input[name=sampleConsent]:checked').val();
				variables.value += 'sampleConsent=' + sampleConsent;
			}else{
				var val = $('#'+names[index]).val();
				variables.value += names[index] + '=' + val;
			}
		}
		
		return variables;
	}
	
	function getICData(){
		var variables = {};
		for(i = 0; i &lt; names.length; i++){
			if(names[i] == 'data_access'){
				var access = $('input[name=dataAccessBox]:checked').val();
				variables[names[i]] = access;
			}else if(names[i] == 'display'){
				var display = 'no';
				if($('#displayBox').is(':checked')){
					display = 'yes';
				}
				variables[names[i]] = display;
			}else if(names[i] == 'frequency'){
				var frequency = 'no';
				if($('#frequenceBox').is(':checked')){
					frequency = 'yes';
				}
				variables[names[i]] = frequency;				
			}else if(names[i] == 'sampleTime'){
				variables[names[i]] = $('#sample_time').val();
			}else if(names[i] == 'sampleConsent'){
				variables[names[i]] = $('#sample_consent').val();
			}else{
				variables[names[i]] = $('#'+names[i]).val();
			}
		}
		return variables;
	}
	
	function icDataValidation(sample_time, sample_consent){
		var error = false;
		var i = 0; 
		if($('#piUserId').val() == null || $('#piUserId').val().trim().length == 0){
				error = true;
			$('#icErr').html("&lt;font color='red'&gt;&lt;li&gt;PI Name in Project Information is the required field&lt;/li&gt;&lt;/font&gt;");
		}
		if($('#piTitle').val().trim().length == 0){
			error = true;
			$('#icErr').html("&lt;font color='red'&gt;&lt;li&gt;PI Title in Project Information is the required field&lt;/li&gt;&lt;/font&gt;");
		}else{
				for(i = 0; i &lt; names.length; i++){
					if(names[i] == 'sampleTime' || names[i] == 'sampleConsent'){
						continue;
					}
					/*if(sample_time == 'yes' &amp;&amp; sample_consent == 'yes'){
						if(names[i] == 'institution_name'){
							continue;
						}
					}else if(sample_time == 'no' &amp;&amp; sample_consent == 'yes'){
								if(names[i] == 'institution_name'){
										continue;
								}
					}*/
					if(names[i] == 'data_access' || names[i] == 'display' || names[i] == 'frequency'){
						continue;
					}
					if(names[i] == 'gpa_organization'){
						if($('#' + names[i]).val() == 'none'){
							error = true;
							$('#' + names[i]).css('background-color','yellow');
						} 
					}else	if(names[i] == 'sd_organization'){
						if($('#' + names[i]).val() == 'none'){
							error = true;
							$('#' + names[i]).css('background-color','yellow');
						} 
					}else{
						if($('#' + names[i]).val().trim().length == 0){
							error = true;
							$('#' + names[i]).css('background-color','yellow');
						}
					}
				}
		}
		return error;
	}
	
	function clearICFieldBackground(){
		var i = 0; 
		for(i = 0; i &lt; names.length; i++){
				$('#' + names[i]).css('background-color','');
		}
	}
	
	function cleanICData(){
	 var i = 0; 
	 for(i = 0; i &lt; names.length; i++){
		 if(names[i] == 'gpa_organization' || names[i] == 'sd_organization'){
			 $('#' + names[i]).val("none");
		 }else{
				$('#' + names[i]).val('');
		 }
	 }
 }	
	
	 function removeICAfterSubmit(id){
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);
			function handleResponse(response) {
				var result = response.data.result;
				$('#icForm').modal('hide');
				console.log(result);
				$('#loading').hide();
			}
			
			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}		
 }	

	function convertDate(year, flag){
		var result = '';
		var symbol = '';
		if(flag == '0'){
			result = year.split('/');
			symbol = '-';
		}
		if(flag == '1'){
			result = year.split('-');
			symbol = '/';
		}
		
		return result[0] + symbol + result[1] + symbol + result[2];
	}
	
	$scope.loadICResubmitConfirm = function(){
		$('#refresh').val('0');
		$('#messageIC').html('Are you sure you want to resubmit this request?');
		$('#icConfirmSubmitDiv').modal('show');
		$('#icYesConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				//validation		
				var sample_time = $('#sample_time').val();
				var sample_consent = $('#sample_consent').val();
				var error = icDataValidation(sample_time, sample_consent);
				if(error == true){
						$('#icError').show();
				}else{
						resubmitICRequest();	
				}
				$('#icConfirmSubmitDiv').modal('hide');
			});
			$('#icNoConfirm').off('click').click(function() {
				$('#icConfirmSubmitDiv').modal('hide');
			});
	};
	
	function resubmitICRequest(){    
		var variables = {};
		//ccr_id is IC request ID
    var currentId = $('#ccr_id').val();
		variables.org_id = $('#'+currentId +'_orginId_ic').val();
    variables.ticket_number = $('#'+currentId +'_ticket_num_ic').val();
		$('#loading').show();
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/gsdspUtil',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: variables
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			var version = result.version;
			resubmitIC($('#'+currentId +'_orginId_ic').val(), version, currentId);
		}
		function handleError(){
			console.error(response);
			alert('ERROR');
		}		
	}

	function resubmitIC(org_id, version, currentId){
     var variables= getICData();
		 variables.orginId = org_id;
		 variables.version = version;
		 variables.requested_for = $('#piUserId').val();
     variables.opened_by = userId;
     variables.contact_type = org_id +"="+version;
	   variables.cat_item = catItemId;
     variables.short_description = $('#hideGDSId').val();
		 var fixedComments = formatHistoricComment($('#resubmitCommentsId').val());
		 variables.comments = fixedComments;
	   variables.resubmit = 'true';
		 variables.variables= itemIdArray;
		 var icData = JSON.stringify(variables);
		 var req = {
						method: 'POST',
						url: '/api/naci/gds/submitICRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: icData
			}
			$http(req).then(function(response){
				 console.log(response);
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 ic_id: data.id,
					 ic_number: data.ticketNum,
					 type: 'ic',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 console.log(response);
					 $('#icForm').modal('hide');
					$('#loading').show();
				});				
			});
	}	
	function formatHistoricComment(comment){
		if(comment.length&gt;= 50){
				 var index = comment.indexOf('Added comment to Approval record:');
				 return comment.substring(index);
		}else{
				 return  ' ';
		}
	}	
	
	window.toggleTextField = function(){
		if($('#dataLimitation').val() == 'Disease-specific'){
			$('#useTextLabel').html('Disease');
			$('#useTextLabel').show();
			$('#useTextField').show();
		}else if($('#dataLimitation').val() == 'other'){
			$('#useTextLabel').html('Other');
			$('#useTextLabel').show();
			$('#useTextField').show();
		}else{
			$('#useTextField').hide();
			$('#useTextLabel').hide();
		}
	};
	
	$scope.addConsent = function(){
		$('#refresh').val('1');
		$('#icConsentGroupDiv').modal('show');
		$('#consentSubmitConfirm').off('click').click(function() {
			var valid = validateConsentGrp();		
			if(valid.hasError == true){
				$('#consentErr').html(valid.message);
				$('#consentErr').show();
			}else{
				$('#consentErr').html('');
				$('#consentErr').hide();
				saveConsentGrp();
				$('#icConsentGroupDiv').modal('hide');
			}
		});
		$('#consentCancelConfirm').off('click').click(function() {
				$('#icConsentGroupDiv').modal('hide');
		});
	}
	
	function saveConsentGrp(){
		var groupData = getConsentGrpData();
		groupData.method = 'add';
		groupData.id = $('#hideGDSId').val();
		var data1 = JSON.stringify(groupData);
		var request = {
				method: 'POST',
				url: '/api/naci/gds/saveICConsent',
			  beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data1
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			$('#recId').val($('#hideGDSId').val());
	    addConsentId(result.id);
			addOrUpdateICInfo();
			resetConsentGrp();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}	
	}
	
	function addOrUpdateICInfo(){
		var icId =  $('#ic_id').val();
		if(icId == null || icId.trim().length == 0){
			processICData(0);
		}else{
			processICData(1);
		}
	}

	function processICData(indicator){
		
	  var variables = {};
		if(indicator == 0){
			variables = getIcFormData();
		}else {
			variables = getIcFormData2();
		}
		var icData = JSON.stringify(variables);
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: icData
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			if(indicator == 0){
				$('#ic_id').val(result[0].sys_id);
			}
			var ic_id = $('#ic_id').val();
			loadConsentData(ic_id);
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}	
	}
	
	function getIcFormData2(){
		var variables = {};
		variables.requested_for = userId;
		variables.opened_by = userId;
		variables.application = 'GDS_IC';
		variables.value = '';
		variables.project_name = '';
		variables.saved_id = $('#ic_id').val();
		var index = 0;
		for(index = 0; index &lt; names.length; index++){
			if(index != 0) variables.value += ',';
			var val = $('#'+names[index]).val();
			variables.value += names[index] + '=' + val;
		}
		var sampleTime = $('#sample_time').val();
		var sampleConsent = $('#sample_consent').val();
		variables.value += ',sampleTime=' + sampleTime +",";
		variables.value += 'sampleConsent=' + sampleConsent;
		return variables;
	}
	
	function addConsentId(id){
		 var consentGrp = $('#consent_group').val();
		if(consentGrp.trim().length == 0){
        $('#consent_group').val(id);			
		}else{
			 var temp = consentGrp.split(",");
			 temp[temp.length] = id;
			 var str = getIdInString(temp);
			 $('#consent_group').val(str);
		}
	}
	
	function getIdInString(temp){
	   var ids = '';
		 if(temp.length == 1){
			 ids = ''+temp[0];
		 }else{
			 for(var ind = 0; ind &lt; temp.length; ind++){
				 if(ind == 0){
					 ids = ids + temp[ind];
				 }else{
					 ids = ids + "#" + temp[ind];
				 }
			 }
		 }	
		return ids;
	}
	
	$scope.removeConsent = function(id){
		    $('#refresh').val('1');
			var $confirm = $('#icConfirmSubmitDiv');
			$confirm.modal('show');
			$('#messageIC').html("Are you sure you want to remove this Consent Group?");		
			$('#icYesConfirm').off('click').click(function() {
				//submit request
			 removeConsentGroup(id);
				$confirm.modal('hide');
			});
			$('#icNoConfirm').off('click').click(function() {
				$confirm.modal('hide');
			}); 
		
	}
	
	function removeConsentGroup(id){
		$('#consent_group').val(removeConsentGroupId(id));
		 //remove consent group from database.
		var request = {
				method: 'POST',
				url: '/api/naci/gds/saveICConsent',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {id: id, method: 'remove'}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
       addOrUpdateICInfo();
			 var ic_id = $('#ic_id').val();
			 loadConsentData(ic_id);
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}	
	}
	
	function removeConsentGroupId(id){
		var idStr = $('#consent_group').val();
		var temp = idStr.split("#");
		if(temp.length == 1){
			return "";
		}else{
			var newIds = [];
			var index = 0;
			for(var i = 0; i &lt; temp.length; i++){
				if(temp[i] == id){
					continue;
				}else{
					newIds[index] = temp[i];
					index++;
				}
			}
			var newStr = getIdInString(newIds);
			return newStr;
		}
	}
	
	function getConsentGrpData(){
		var groupData = {};
		groupData.siteName = $('#branch').val();
		groupData.data_limit = $('#dataLimitation').val();
		groupData.data_field = $('#dataUseLimitation').val();
		groupData.dataModifier = $('#dataModifier').val();
		return groupData;
	}
	function validateConsentGrp(){
		var jData = {};
		var hasError = false;
		var error = '&lt;font color="red"&gt;';
		var groupData = getConsentGrpData();
		var siteName = groupData.siteName;
		var data_limit = groupData.data_limit;
		var data_field = groupData.data_field;
		var dataModifier = groupData.dataModifier;
		
		if(siteName == 'None'){
			error = error + "&lt;li&gt;Please select a Site Name&lt;/li&gt;";
			hasError = true;
		}
		if(data_limit == 'None'){
			error = error + "&lt;li&gt;Please select a Use Limitation&lt;/li&gt;";
			hasError = true;
		}
		if(data_limit == 'ds' &amp;&amp; (data_field == null || data_field.trim().length == 0)){
			error = error + "&lt;li&gt;Please enter Disease Name&lt;/li&gt;";
			hasError = true;
		}
		if(data_limit == 'other' &amp;&amp; (data_field == null || data_field.trim().length == 0)){
			error = error + "&lt;li&gt;Please enter Other Use Limitation&lt;/li&gt;";
			hasError = true;
		}
		if(dataModifier == null ){
			error = error + "&lt;li&gt;Please select Data Use Limitation Modifier&lt;/li&gt;";
			hasError = true;
		}
		error = error + "&lt;/font&gt;";
		jData.hasError = hasError;
		jData.message = error;
		
		return jData;
	}
	
	function resetConsentGrp(){
		$('#branch').val('None');
		$('#dataLimitation').val('None');
		$('#dataUseLimitation').val('');
		$('#useTextField').css('display', 'none');
		$('#useTextLabel').css('display', 'none');
		$('#dataModifier').select2("val", "");
		$('#consentErr').html("");
	  $('#consentErr').css('display', 'none');
	}	
	
	//this is the call back function from GDS Main Client Script.
	$('#ic_id').on('custom_action', function(value) {
		   var id = $('#ic_id').val();
		   if(id != null &amp;&amp; id.trim().length &gt; 0){
			   loadConsentData(id);
		   }
	});

	function loadConsentData(ic_id){
		if(ic_id == null || ic_id.trim().length == 0){
				c.data.consentTasks = [];
		}else{
				populateConsentGroupData(ic_id);
		}
	}
	
	function populateConsentGroupData(ic_id){
			var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsnetGroupData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {icID: ic_id}
			};
			$http(request).then(handleResp, handleErr);
			function handleResp(response){
				var result = response.data.result;
				c.data.consentTasks = result;
			}
			function handleErr(response){
				console.error(response);
				alert('ERROR');
			}			
	}
	
	function populateConsentGroupDataById(consentId){
			var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupById',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentID: consentId}
			};
			$http(request).then(handleResp, handleErr);
			function handleResp(response){
				var result = response.data.result;
				c.data.consentTasks = result;
			}
			function handleErr(response){
				console.error(response);
				alert('ERROR');
			}			
	}	

}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.modal-dialog1 {
    width: 1100px;
    margin: 30px auto;
    position: relative;
}

.modal-dialog2 {
    width: 1000px;
    margin: 30px auto;
    margin-top: 250px;
    position: relative;
}

.modal-dialog2 div {
  background-color: #f2f2f2;
}

.popover{
    width:400px !important;
    height:350px; 
  	overflow: auto;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gfw&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS IC Form Widget&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.consentTasks = [];
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id
	};
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-06-27 17:23:24&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;2a1d6b2edb2f360054d8ff621f961976&lt;/sys_id&gt;&lt;sys_mod_count&gt;734&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS IC Form Widget&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_2a1d6b2edb2f360054d8ff621f961976&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-13 21:35:47&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id='icForm' class='modal fade' data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;
	&lt;div class="modal-dialog1"&gt;
  	&lt;div class="modal-content" style="height:900px;overflow-y:auto; overflow-x: hidden;"&gt;
       &lt;div class="modal-header"&gt;
               &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                   &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
               &lt;/button&gt;
               &lt;h4 class="modal-title"&gt;Institutional Certification Submission&lt;/h4&gt; &lt;br&gt;
               &lt;span id="icMessage"&gt;&lt;/span&gt;
       &lt;/div&gt;      
       &lt;div class="modal-body"&gt;   
          &lt;div class="row" id='icError' style="display:none"&gt;
            &lt;div class="col-md-5" id='icErr'&gt;
      	      &lt;font color='red'&gt;&lt;li&gt;Please fill in all required fields&lt;/li&gt;&lt;/font&gt;  
            &lt;/div&gt;
         &lt;/div&gt;
          &lt;div class="row"&gt;
            &lt;div class="col-md-3"&gt;
              &lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Certification Date&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
               &lt;div class='input-group date' id='datepicker'&gt;
                  &lt;input type="text" class="form-control" id="certification_date" size="20" name="certification_date" readonly='true'&gt;
                  &lt;span class="input-group-addon"&gt;
                          &lt;span class="glyphicon glyphicon-calendar"&gt;&lt;/span&gt;
                  &lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div id='institutionDiv' class="col-md-3"&gt;
              &lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Name of Institution&lt;/label&gt;
            &lt;/div&gt;
            &lt;div id='institutionNameDiv' class="col-md-3"&gt;
              &lt;input type="text" class="form-control" id="institution_name" size="20"/&gt;
            &lt;/div&gt;
         &lt;/div&gt; 
         &lt;div class="row"&gt;&amp;nbsp;&lt;/div&gt;
      	 &lt;div class="row"&gt;
            &lt;div class="col-md-3"&gt;
              	&lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;GPA&lt;br/&gt;&amp;nbsp;(Genomic Program Administrator)&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
              &lt;input type="text" class="form-control" id="certification_to" size="20"/&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
              &lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Organization of GPA&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
        				&lt;select id="gpa_organization" class="form-control" style="width:150px;"&gt;
                   &lt;option value="none"&gt;Select IC&lt;/option&gt;
                   &lt;option value="NCI"&gt;NCI&lt;/option&gt;
                   &lt;option value="NEI"&gt;NEI&lt;/option&gt;
                   &lt;option value="NHGRI"&gt;NHGRI&lt;/option&gt;
                   &lt;option value="NHLBI"&gt;NHLBI&lt;/option&gt;
                   &lt;option value="NIA"&gt;NIA&lt;/option&gt;
                   &lt;option value="NIAAA"&gt;NIAAA&lt;/option&gt;
                   &lt;option value="NIAID"&gt;NIAID&lt;/option&gt;
                   &lt;option value="NIAMS"&gt;NIAMS&lt;/option&gt;
                   &lt;option value="NIBIB"&gt;NIBIB&lt;/option&gt;
                   &lt;option value="NICHD"&gt;NICHD&lt;/option&gt;
                   &lt;option value="NIDA"&gt;NIDA&lt;/option&gt;
                   &lt;option value="NIDCD"&gt;NIDCD&lt;/option&gt;
                   &lt;option value="NIDCR"&gt;NIDCR&lt;/option&gt;
                   &lt;option value="NIDDK"&gt;NIDDK&lt;/option&gt;
                   &lt;option value="NIEHS"&gt;NIEHS&lt;/option&gt;
                   &lt;option value="NIGMS"&gt;NIGMS&lt;/option&gt;
                   &lt;option value="NIMH"&gt;NIMH&lt;/option&gt;
                   &lt;option value="NIMHD"&gt;NIMHD&lt;/option&gt;
                   &lt;option value="NINDS"&gt;NINDS&lt;/option&gt;
                   &lt;option value="NINR"&gt;NINR&lt;/option&gt;
                   &lt;option value="NLM"&gt;NLM&lt;/option&gt;
                   &lt;option value="CIT"&gt;CIT&lt;/option&gt;
                   &lt;option value="CSR"&gt;CSR&lt;/option&gt;
                   &lt;option value="FIC"&gt;FIC&lt;/option&gt;
                   &lt;option value="NCCIH"&gt;NCCIH&lt;/option&gt;
                   &lt;option value="NCATS"&gt;NCATS&lt;/option&gt;
                   &lt;option value="CC"&gt;CC&lt;/option&gt;
                   &lt;option value="OD"&gt;OD&lt;/option&gt;
                &lt;/select&gt;             
            &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &amp;nbsp;
         &lt;/div&gt;
         &lt;div class="row"&gt;
            &lt;div class="col-md-3"&gt;
              	&lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Signing Authority&lt;br/&gt;&amp;nbsp;(Scientific Director)&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
              &lt;input type="text" class="form-control" id="certification_from" size="20"/&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
              &lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Organization of SD&lt;/label&gt;
            &lt;/div&gt;  
            &lt;div class="col-md-3"&gt;
						&lt;select id="sd_organization" class="form-control" style="width:150px;"&gt;
							&lt;option value="none"&gt;Select IC&lt;/option&gt;
							&lt;option value="NCI"&gt;NCI&lt;/option&gt;
							&lt;option value="NEI"&gt;NEI&lt;/option&gt;
							&lt;option value="NHGRI"&gt;NHGRI&lt;/option&gt;
							&lt;option value="NHLBI"&gt;NHLBI&lt;/option&gt;
							&lt;option value="NIA"&gt;NIA&lt;/option&gt;
							&lt;option value="NIAAA"&gt;NIAAA&lt;/option&gt;
							&lt;option value="NIAID"&gt;NIAID&lt;/option&gt;
							&lt;option value="NIAMS"&gt;NIAMS&lt;/option&gt;
							&lt;option value="NIBIB"&gt;NIBIB&lt;/option&gt;
							&lt;option value="NICHD"&gt;NICHD&lt;/option&gt;
							&lt;option value="NIDA"&gt;NIDA&lt;/option&gt;
							&lt;option value="NIDCD"&gt;NIDCD&lt;/option&gt;
							&lt;option value="NIDCR"&gt;NIDCR&lt;/option&gt;
							&lt;option value="NIDDK"&gt;NIDDK&lt;/option&gt;
							&lt;option value="NIEHS"&gt;NIEHS&lt;/option&gt;
							&lt;option value="NIGMS"&gt;NIGMS&lt;/option&gt;
							&lt;option value="NIMH"&gt;NIMH&lt;/option&gt;
							&lt;option value="NIMHD"&gt;NIMHD&lt;/option&gt;
							&lt;option value="NINDS"&gt;NINDS&lt;/option&gt;
							&lt;option value="NINR"&gt;NINR&lt;/option&gt;
							&lt;option value="NLM"&gt;NLM&lt;/option&gt;
							&lt;option value="CIT"&gt;CIT&lt;/option&gt;
							&lt;option value="CSR"&gt;CSR&lt;/option&gt;
							&lt;option value="FIC"&gt;FIC&lt;/option&gt;
							&lt;option value="NCCIH"&gt;NCCIH&lt;/option&gt;
							&lt;option value="NCATS"&gt;NCATS&lt;/option&gt;
							&lt;option value="CC"&gt;CC&lt;/option&gt;
							&lt;option value="OD"&gt;OD&lt;/option&gt;
						&lt;/select&gt;              
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &amp;nbsp;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Original Study Name&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-9"&gt;
             &lt;input type="text" class="form-control" id="study_name" style="width:90%"/&gt;
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &amp;nbsp;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label&gt;&lt;font color='red'&gt;*&lt;/font&gt;Project Title for Data to be submitted&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-9"&gt;
             &lt;input type="text" class="form-control" id="project_title" style="width:90%" readonly/&gt;
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label&gt;Data are made available through&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-3"&gt;
             &lt;input type="radio" id="dataAccessBox" name="dataAccessBox" value="unrestricted"&gt;&amp;nbsp;Unrestricted
           &lt;/div&gt;
           &lt;div class="col-md-2"&gt;
             &lt;input type="radio" id="dataAccessBox" name="dataAccessBox" value="controlled-access"&gt;&amp;nbsp;Controlled-access
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label&gt;Data is to upload&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-3"&gt;
             &lt;input type="checkbox" id="displayBox"&gt;&amp;nbsp;The display of variant alleles
           &lt;/div&gt;
           &lt;div class="col-md-6"&gt;
             &lt;input type="checkbox" id="frequenceBox"&gt;&amp;nbsp;Frequencies from this study in public variation archives (dbSNP and dbVar)
           &lt;/div&gt;
         &lt;/div&gt;         
         &lt;div class="panel panel-default"&gt;
               &lt;div class="panel-heading" id="consentGrpDiv"&gt;&lt;font color='red'&gt;*&lt;/font&gt;The consent group(s) for each collaborating study site &lt;/div&gt;&lt;br&gt;
             &lt;div class="panel panel-success"&gt;
                      &lt;div class="panel-heading" id="heading_consent" style="padding-top: 5px; padding-bottom: 5px;" role="tab"&gt;
                          &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                              &lt;a aria-controls="collapseConsent" aria-expanded="true" data-target="#collapseConsent" data-toggle="collapse" role="button"&gt;
                            &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                            Consent Groups&lt;span class="badge" id="ritm_count"&gt;{{ c.data.consentTasks.length }}&lt;/span&gt;&lt;/a&gt;
                        	  &lt;button type="button" class="btn btn-primary pull-right" style="width: 70px; text-align: center;" ng-click='addConsent()'&gt;Add&lt;/button&gt;
                        	&lt;/h4&gt;
                      &lt;/div&gt;
                      &lt;div aria-labelledby="heading_consent" class="panel-collapse collapse in" id="collapseConsent" role="tabpanel"&gt;
                            &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
                              &lt;thead&gt;
                              &lt;tr&gt;
                                &lt;th 
                                    ng-repeat="column in c.columns track by $index" 
                                    ng-click="c.toggleSort($index)" 
                                    style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span 
                                      class="glyphicon small" 
                                      ng-class="{
                                                  'glyphicon-chevron-up': column.sort === 'asc',
                                                  'glyphicon-chevron-down': column.sort === 'desc'
                                                }"&gt;
                                    &lt;/span&gt;
                                &lt;/th&gt;
                              &lt;/tr&gt;
                              &lt;/thead&gt;
                              &lt;tr ng-repeat="row in c.data.consentTasks track by $index"
                                  ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                                           $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"&gt;
                                &lt;td class="ritm_number"&gt;{{ row.site_name }}&lt;/td&gt;
                                &lt;td class="ritm_number"&gt;{{ row.use_limit }}&lt;/td&gt;
                                &lt;td class="ritm_number"&gt;{{ row.data_modifier }}&lt;/td&gt;
                                &lt;td&gt;
                                  &lt;button class="btn btn-sm btn-primary" ng-click="removeConsent(row.id)" style="width: 70px; text-align: center;"&gt;
                                    Remove
                                  &lt;/button&gt;
                                &lt;/td&gt;
                              &lt;/tr&gt;
                            &lt;/table&gt;
                    	&lt;/div&gt;
                                &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                      &lt;div class="pagination form-group"&gt;
                        &lt;label for="pageSize"&gt;
                          Items per page
                        &lt;/label&gt;

                        &lt;select 
                          id="pageSize" 
                          class="form-control"
                          style="display: inline"
                          ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                          ng-model="c.pagination.currentSize"
                          ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
                        &lt;/select&gt;
                      &lt;/div&gt;
                    &lt;/form&gt;  

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.consentTasks.length"&gt;
                      &lt;li
                        ng-repeat="index in c.getRange() track by $index"
                        ng-click="c.setPage($index)"
                        &gt;
                        &lt;a href=""&gt;
                          {{ $index + 1 }}
                        &lt;/a&gt;
                      &lt;/li&gt;
                    &lt;/ul&gt;   
               &lt;br&gt;&lt;br&gt;&lt;br&gt;
           	 &lt;/div&gt;
           &lt;/div&gt;
         &lt;/div&gt;  
         &lt;br&gt;
         &lt;div id="pre_comments_ic_div1" class="col-md-12" style="display:none;"&gt;
             &lt;fieldset class="scheduler-border"&gt;
                 &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                 &lt;div id="commentReviewICId2"&gt;&lt;/div&gt;
             &lt;/fieldset&gt;
         &lt;/div&gt;    
         &lt;div id="regularICSubmit" class="modal-footer"&gt;
            &lt;button type="button" class="btn btn-primary" 
            style="width: 70px; text-align: center;" ng-click='submitIcForm()'&gt;Submit&lt;/button&gt;
             &lt;button type="button" class="btn btn-primary" 
            style="width: 70px; text-align: center;" ng-click='saveIcForm()'&gt;Save&lt;/button&gt;
           &lt;button type="button" class="btn btn-primary" 
            style="width: 70px; text-align: center;" ng-click='closeICForm()'&gt;Cancel&lt;/button&gt;
         &lt;/div&gt;
	       &lt;div id="resubmitIC" style="display:none;" class="modal-footer"&gt;
           &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="submitBt" value="SUBMIT" ng-click="loadICResubmitConfirm()"/&gt; 
           &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="cancelBt" value="CANCEL" ng-click="closeICForm()"/&gt;
    		 &lt;/div&gt;      
         &lt;input type="hidden" id="ic_id"/&gt;
         &lt;input type="hidden" id="sample_time"/&gt;
         &lt;input type="hidden" id="sample_consent"/&gt;
         &lt;input type='hidden' id='type'/&gt;
         &lt;input type='hidden' id='consent_group'/&gt;
         &lt;input type='hidden' id='consentGroupIds'/&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt; 
&lt;/div&gt;
  
&lt;div id="icConfirmSubmitDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageIC"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="icYesConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="icNoConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;  

&lt;div id="icConsentGroupDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog2"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;The consent group(s) for each collaborating study site&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
   					&lt;!--add consent information here--&gt;
               &lt;div id="consentErr"&gt; &lt;/div&gt;
               &lt;br&gt;
               &lt;div class="row"&gt;
                 &lt;div class="col-md-3"&gt;
                    &lt;label&gt;Collaborating Site Name&lt;/label&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-9"&gt;
                   &lt;!--&lt;select id="branch" class="selectpicker" style="width: 100%;" &gt;
                   &lt;/select&gt;--&gt;
                   &lt;input id="branch" class="form-control" style="width:100%"&gt;
                 &lt;/div&gt;
               &lt;/div&gt;
               &lt;br&gt;
               &lt;div class="row"&gt;
                 &lt;div class="col-md-3"&gt;
                   &lt;label&gt;Data Use Limitations&lt;/label&gt;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-html="true" data-trigger="focus"  title="&lt;b&gt;Data Use Limitation&lt;/b&gt;" data-content="Data Use Limitions will be used in dbGaP to create Consent Groups. &lt;br/&gt; &lt;ul&gt;&lt;li&gt;&lt;b&gt;General Research Use[GRU]:&lt;/b&gt; &lt;br&gt; Use of data us limited only by the terms of the Data Use Certification; these data will be added to the dbGaP Collection.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Health/Medical/Biomedical[HMB]:&lt;/b&gt;&lt;br&gt;Use of the data is limited to health/medical/biomedical purpose, does not include the study of population origins or ancestry.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Disease-specific (list disease) [DS]: &lt;/b&gt; &lt;br&gt;Use of the data must be related to the specified disease.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Other:&lt;/b&gt;&lt;br&gt;Enter customized text, if applicable.&lt;/li&gt;&lt;/ul&gt;"&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-4"&gt;
                   &lt;select id="dataLimitation" class="form-control" style="width:80%;" onchange="toggleTextField()"&gt;
                      &lt;option value="None"&gt;Please select an item&lt;/option&gt;
                      &lt;option value="General Research User"&gt;General Research User&lt;/option&gt;
                      &lt;option value="Health/Medical/Biomedical"&gt;Health/Medical/Biomedical&lt;/option&gt;
                      &lt;option value="Disease-specific"&gt;Disease-specific&lt;/option&gt;
                      &lt;option value="other"&gt;Other&lt;/option&gt;
                   &lt;/select&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-1" id="useTextLabel"&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-4" id="useTextField" style="display:none;"&gt;
                   &lt;input type="text" size="40" class="form-control" id="dataUseLimitation"/&gt;
                 &lt;/div&gt;
               &lt;/div&gt;
               &lt;br&gt;
               &lt;div class="row"&gt;
                  &lt;div class="col-md-3"&gt;
                    &lt;label&gt;Data Use Limitation Modifiers&lt;/label&gt;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-html="true" data-trigger="focus"  title="&lt;b&gt;Data Use Limitation Modifier&lt;/b&gt;" data-content="Data Use Limitions Modifiers. &lt;br/&gt; &lt;ul&gt;&lt;li&gt;&lt;b&gt;IRB Approval Required[IRB]:&lt;/b&gt; &lt;br&gt;Requestor must provide document of local IRB approval.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Publication Required[PUB]:&lt;/b&gt;&lt;br&gt;Requestor agrees to make results of studies using the data available to the large scientific community.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Collaboration Required[COL]: &lt;/b&gt; &lt;br&gt;Requestor must provide a letter of collaboration with the primary study investigator(s).&lt;/li&gt;&lt;li&gt;&lt;b&gt;Not-for-profit Use Only[NPU]:&lt;/b&gt;&lt;br&gt;Use of the data is limited to not-for-profit organizations.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Methods[MDS]:&lt;/b&gt;&lt;br&gt;Use of the data includes methods development research (e.g., development of software or algorithms).&lt;/li&gt;&lt;li&gt;&lt;b&gt;Genetic Studies Only[GSO]:&lt;/b&gt;&lt;br&gt;Use of the data is limited to genetic studies only.&lt;/li&gt;&lt;/ul&gt;"&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                 &lt;/div&gt; 
                 &lt;div class="col-md-9"&gt;
                   &lt;select id="dataModifier" class="selectpicker" multiple&gt;
                     &lt;option value="IRB"&gt;IRB&lt;/option&gt;
                     &lt;option value="PUB"&gt;PUB&lt;/option&gt;
                     &lt;option value="COL"&gt;COL&lt;/option&gt;
                     &lt;option value="NPU"&gt;NPU&lt;/option&gt;
                     &lt;option value="MDS"&gt;MDS&lt;/option&gt;
                     &lt;option value="GSO"&gt;GSO&lt;/option&gt;
                   &lt;/select&gt;
                 &lt;/div&gt;
               &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="consentSubmitConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Save&lt;/button&gt;
                &lt;button id="consentCancelConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;Cancel&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>927478930</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_1_20180611">e5f9c652dbd7570054d8ff621f961911</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2018-07-16 21:38:09</sys_created_on>
<sys_id>e9f9c652dbd7570054d8ff621f961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>164959240990000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2018-07-16 21:38:09</sys_updated_on>
<table/>
<target_name>GDS IC Form Widget</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>61ace6d1d61b930054dc14aec68d979c</update_guid>
<update_guid_history>61ace6d1d61b930054dc14aec68d979c:927478930,595be691731b9300dd2dc56cba61385f:-357149216,416956d5b8d793001fb508213725df73:-286727998,4515b0a0d4cfd700b225a4b209661041:-357149216,44f8d883922e1f005793b1b0e16db4bc:-216246762,eef078350bfc1700193d310dbcff384f:-511521318,3611b820a3b41700ac1abdeb27b79ff9:1242506465,9d6f646cd074170072d392b5165747c8:-960079799,7d1fac2cf7741700d2a22dd23043edf9:-1010502225,df801e8470f81300f92499f954b78874:-511521318,9dc2e42e89a743000e4b04b365ffcdc6:-1715254315,242dd06acfa74300a0cb771d47053b45:-1341500329,971d18e674a7430000f0a95f4dd3bb6f:-573685641,e21d906a71a74300edc4e2fd85416dc9:-1223764648,a10d506a1ea743002702c16ee71f88a9:-434626086,74fc106a56a743003ec572376e229a97:-761948285,19fa90e6f3a743000f0bc48192f373ad:1172428513,f478d8263fa74300202f25b742b15eb8:-93708570,f8681066b0a74300142a641c31adfd1f:968193701,75281c2696a74300eabe93f4d695d8c7:-248104231,8308542663a7430028e85f95b3053681:-1084204016,bde7142671a7430025e8d51b338f1bc9:-213484914,54eec0aea467430069c7dbf5bb3e25fc:449072307,629e88ae8c6743001e214fe32c614a95:-951166815,bc8e00ae4f674300c76013044622d80f:-651505509,247e846e48674300f87bafd5532bc48d:157239188,834e006e42674300cc774dcee9755809:-951166815,4d4dc06e51674300086f4dda338aa8b3:-1136156008,26bc44ea6f67430022ccfa8304206c1a:710763376,717b80aa2f674300c1136b8d7d5b7911:519761391,1f7365b979e7cf00cce8766c2a5de541:-504608143,5343e1bd70a7cf00942673e2b6f1b962:1725519728,b043257993e7cf00d6f5e6ae8c6f4059:-708959554,8e2c4db5eea7cf000f6f59921cb850c1:-1459640371,ca9d0c3df0a2070017b75a326a8c1bd8:-1600835327,3c983fe911620700c30e991c2fca37c3:-1550816664,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
