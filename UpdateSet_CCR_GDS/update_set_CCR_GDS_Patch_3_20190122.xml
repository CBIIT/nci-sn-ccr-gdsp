<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2019-01-22 18:23:46">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>CCR_GDS_Patch_3_20180803</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>9a24d540db339f0054d8ff621f961915</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>d28b77dfdbcb2f00b86770c08c96196e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_43693e31db6d720054d8ff621f9619aa</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($rootScope, $scope, $http) {
	var c = this;
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var gpa_asst = c.data.info.gpa_asst;
	var sd = c.data.info.sd;
	var pso = c.data.info.pso;
	
	$('#refresh').val('0');
	window.setTimeout(function() {
		var userLocation = window.location.href;
		var temp = userLocation.split('&amp;');
		if(temp[1] != null){
			var ids = temp[1].split('=');
			var type = ids[0];
			var requestId = ids[1];
			if(type == 'gdsId'){
				type='GDS_IC';
				$('#'+requestId + "-id").css('background-color', 'yellow');
				//getGDSId(requestId);
			}else if(type == 'gds_pi_Id'){
				// $('#collapseIC').collapse('show');
				$('#collapseIcSignItems').collapse('show');
				$('#collapseIcSignItems #'+requestId).css('background-color', 'yellow');
				setTimeout(function() {
					window.setSelectedPIRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 500);	
			}else if(type == 'gdsp_gpa_itemId'){
				//$('#collapseIC').collapse('show');
				$('#collapsegpaApprovalItems').collapse('show');
				$('#collapsegpaApprovalItems  #'+requestId).css('background-color', 'yellow');
				setTimeout(function() {
					window.setSelectedGDSRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 500);				
			}else if(type == 'gdsp_sd_itemId'){
				//$('#collapseIC').collapse('show');
				$('#collapsesdApprovalItems').collapse('show');
				$('#collapsesdApprovalItems #'+requestId).css('background-color', 'yellow');
				setTimeout(function() {
					window.setSelectedSDRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 500);	
			}else if(type == 'ic_gpa_itemId'){
				//$('#collapseIC').collapse('show');
				$('#collapsegpaApprovalICItems').collapse('show');
				$('#collapsegpaApprovalICItems #'+requestId).css('background-color', 'yellow');
				setTimeout(function() {
					window.setSelectedGDSICRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 500);
			}else if(type == 'ic_sd_itemId'){
				// $('#collapseIC').collapse('show');
				$('#collapsesdApprovalICItems').collapse('show');
				$('#collapsesdApprovalICItems #'+requestId).css('background-color', 'yellow');
				setTimeout(function() {
					window.setSelectedSDICRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 500);
			}else if(type == 'complete_gdsp_itemId'){
				  // $('#collapseIC').collapse('show');
		      //$('#collapsepsoItems').collapse('show');
			    //$('#collapsepsoItems #'+requestId).css('background-color', 'yellow');
				if(gpa || gpa_asst){
				  $('#collapsegpaReviewedItems #'+requestId).css('background-color', 'yellow');
					setTimeout(function() {
						window.setSelectedGDSReviewedRow(requestId);
						$('#'+requestId).closest('.panel')[0].scrollIntoView();
					}, 200);	
					$('#collapsegpaReviewedItems').attr('class', 'panel-collapse collapse in');
				}
				if(sd){
					$('#collapsesdReviewedItems #'+requestId).css('background-color', 'yellow');
					setTimeout(function() {
					window.setSelectedSDReviewedRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 200);	
					$('#collapsesdReviewedItems').attr('class', 'panel-collapse collapse in');
				}
				if(pso){
					$('#collapsepsoItems #'+requestId).css('background-color', 'yellow');
					setTimeout(function() {
						window.setSelectedGDSPsoRow(requestId);
						$('#'+requestId).closest('.panel')[0].scrollIntoView();
					}, 200);	
				}
			}else if(type == 'complete_ic_itemId'){
				  // $('#collapseIC').collapse('show');
		      //$('#collapsepsoICItems').collapse('show');
			    //$('#collapsepsoICItems #'+requestId).css('background-color', 'yellow');
				if(gpa || gpa_asst){
					$('#collapsegpaReviewedItems #'+requestId).css('background-color', 'yellow');
					setTimeout(function() {
						window.setSelectedGDSReviewedICRow(requestId);
						$('#'+requestId).closest('.panel')[0].scrollIntoView();
					}, 200);	
					$('#collapsegpaReviewedItems').attr('class', 'panel-collapse collapse in');
				}
				if(sd){
					$('#collapsesdReviewedItems #'+requestId).css('background-color', 'yellow');
					setTimeout(function() {
					window.setSelectedReviewedSDICRow(requestId);
					$('#'+requestId).closest('.panel')[0].scrollIntoView();
				}, 200);	
					$('#collapsesdReviewedItems').attr('class', 'panel-collapse collapse in');
				}
				if(pso){
					$('#collapsepsoItems #'+requestId).css('background-color', 'yellow');
					setTimeout(function() {
						window.setSelectedICPsoRow(requestId);
						$('#'+requestId).closest('.panel')[0].scrollIntoView();
					}, 200);	
				}				
			}
		}
	}, 0)

	$scope.startGDS = function(){
		$('#refresh').val('0');
		location.replace("$sp.do?id=gds_web_main&amp;itemId=&amp;access=" + encodeDecodeData('Read_and_Write', 'encode'));
	}; 

	function getGDSId(requestId){
		var result = '';
		var req = {
			method: 'GET',
			url: '/api/naci/gds/getGDSbyRequestID',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			params: {requestId: requestId}
		};
		$http(req).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			//hightlight right record
			$('#'+result.gdsId).css('background-color', 'yellow');

							
			console.log(result);
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}		
		return result;
	}

	function encodeDecodeData(data, flag){
		var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
								encode:function(e){
									var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);
									while(f&lt;e.length){
										n=e.charCodeAt(f++);
										r=e.charCodeAt(f++);
										i=e.charCodeAt(f++);
										s=n&gt;&gt;2;
										o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;
										u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;
										a=i&amp;63;
										if(isNaN(r)){
											u=a=64
										}else if(isNaN(i)){
											a=64
										}
										t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);
									}
									return t
								},
								decode:function(e){
									var t="";
									var n,r,i;
									var s,o,u,a;
									var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");
									while(f&lt;e.length){
										s=this._keyStr.indexOf(e.charAt(f++));
										o=this._keyStr.indexOf(e.charAt(f++));
										u=this._keyStr.indexOf(e.charAt(f++));
										a=this._keyStr.indexOf(e.charAt(f++));
										n=s&lt;&lt;2|o&gt;&gt;4;
										r=(o&amp;15)&lt;&lt;4|u&gt;&gt;2;
										i=(u&amp;3)&lt;&lt;6|a;
										t=t+String.fromCharCode(n);
										if(u!=64){
											t=t+String.fromCharCode(r);
										}
										if(a!=64){
											t=t+String.fromCharCode(i);
										}
									}
									t=Base64._utf8_decode(t);
									return t;
								},
								_utf8_encode:function(e){
									e=e.replace(/rn/g,"n");
									var t="";
									for(var n=0;n&lt;e.length;n++){
										var r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
										}else if(r&gt;127&amp;&amp;r&lt;2048){
											t+=String.fromCharCode(r&gt;&gt;6|192);
											t+=String.fromCharCode(r&amp;63|128)
										}else{
											t+=String.fromCharCode(r&gt;&gt;12|224);
											t+=String.fromCharCode(r&gt;&gt;6&amp;63|128);
											t+=String.fromCharCode(r&amp;63|128);
										}
									}
									return t;
								},
								_utf8_decode:function(e){
									var t="";
									var n=0;
									var r=0,c1=0,c2=0;
									while(n&lt;e.length){
										r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
											n++;
										}else if(r&gt;191&amp;&amp;r&lt;224){
											c2=e.charCodeAt(n+1);
											t+=String.fromCharCode((r&amp;31)&lt;&lt;6|c2&amp;63);
											n+=2;
										}else{
											c2=e.charCodeAt(n+1);
											c3=e.charCodeAt(n+2);
											t+=String.fromCharCode((r&amp;15)&lt;&lt;12|(c2&amp;63)&lt;&lt;6|c3&amp;63);
											n+=3;
										}
									}
									return t;
								}
							 };

		var result = '';
		if(flag == 'encode'){
			result = Base64.encode(data);
		}else if(flag == 'decode'){
			result = Base64.decode(data);
		}else{
			result = 'ERROR Method';
		}

		return result;
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.external-link{
	color:#0C5C97;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id/&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS Home Content&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser();
	var gpa = gr.isMemberOf('CCR_GPA');
	var gpa_asst = gr.isMemberOf('CCR_GPA_ASST');
	var sd = gr.isMemberOf('CCR_SD');
	var pso = gr.isMemberOf('CCR_PSO');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		gpa_asst: gpa_asst,
		sd: sd,
		pso: pso
	};

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-17 19:37:23&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;43693e31db6d720054d8ff621f9619aa&lt;/sys_id&gt;&lt;sys_mod_count&gt;259&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS Home Content&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_43693e31db6d720054d8ff621f9619aa&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-22 18:22:44&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="col-md-12"&gt;&amp;#160;&lt;/div&gt;
&lt;script type="text/javascript"&gt;

&lt;/script&gt;
&lt;div class="col-md-12"&gt;
  &lt;div&gt;The National Institutes of Health (NIH) Genomic Data Sharing (GDS) Policy applies to all NIH intramural research that generates large-scale human or non-human genomic data 
    as well as the use of these data for subsequent research. Large-scale data include genome-wide association studies (GWAS), single nucleotide polymorphisms (SNP) arrays, 
    and genome sequence, transcriptomic, metagenomic, epigenomic, and gene expression data. For details about what thresholds require data sharing please refer to  &lt;a class="external-link" href="https://ccrod.cancer.gov/confluence/display/CCRGDS/CCR+Genomic+Data+Sharing+Project+Home" target="_BLANK"&gt;CCR GDS Website&lt;/a&gt;.  
  &lt;/div&gt;&lt;br/&gt;
  &lt;div&gt;
    For studies that will generate large-scale genomic data, investigators are required to develop the following documents PRIOR to start the research:&lt;br/&gt;&lt;br/&gt;
    &lt;b&gt;Human Studies:&lt;/b&gt;
    &lt;ul&gt;
      &lt;li&gt;Genomic Data Sharing Plan &lt;b&gt;AND&lt;/b&gt;&lt;/li&gt;
      &lt;li&gt;Institutional Certification Memo&lt;/li&gt;
    &lt;/ul&gt;
    &lt;b&gt;Non-Human Studies:&lt;/b&gt;
    &lt;ul&gt;
      &lt;li&gt;Genomic Data Sharing Plan&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;b&gt;Note:&lt;/b&gt; The CCR Genomic Data Sharing Project submission portal has been expanded to include online submission of Institutional Certification Memos.  You are being redirected to the expanded Genomic Data Sharing Portal. 
    Please update your bookmark to: &lt;a href="https://service.cancer.gov/ccrgds"&gt;https://service.cancer.gov/ccrgds&lt;/a&gt; If you require assistance, please contact the GPA Kathy Calzone at &lt;a href="mailTo:calzonek@mail.nih.gov"&gt;calzonek@mail.nih.gov&lt;/a&gt;
  &lt;/div&gt;&lt;br/&gt;
  &lt;span&gt;To complete the GDS documents, begin by clicking Start New GDS Project to provide core information about the study.&lt;/span&gt;&amp;#160; &amp;#160;&lt;span id="piId"&gt;&lt;button class="btn btn-sm btn-primary active" ng-click="startGDS()"&gt;Start New GDS Project&lt;/button&gt;        
  &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;
&lt;/div&gt;






]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-213334347</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>128b77dfdbcb2f00b86770c08c961971</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16876cce0ae0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS Home Content</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>a34bb7df7ccb2f00be3f718840e13baf</update_guid>
<update_guid_history>a34bb7df7ccb2f00be3f718840e13baf:-213334347,f51bfb9fc0cb2f00fa9d83686a1a8cda:-2009496531,c70bff9fb5cb2f00c7f19aae5f3a8ced:-213334347,d3dab79f2dcb2f006b3f1be4e9b31930:284741153,96dabf5f0bcb2f0082dddfdbae9aca9a:-1781864365,68dafb9f69cb2f001e8db02d31d96143:979653558,946a3f5f70cb2f00f03aa8361d30b5ff:644538589,830a7f5ff4cb2f008a4bf087ee5b94cb:-1597531135,54d9bf1fadcb2f001849cd8ec5d533d2:-1076189490,61b9ff1fe0cb2f009d990601bbc6ecb4:-895013817,bea9bf1fe1cb2f008e66d975928827f0:2121730697,2aa9bf1f0ccb2f00212b3b9f1618bc69:1249049927,b759b71f61cb2f00561920fec0acc7b8:-15395595,2b59b71f03cb2f00f323614f717b5494:-1421349299,a959bfdb5acb2f00f4f4581c1152fe3e:1624548199,f029bfdbe0cb2f00629aae61f8c5cc21:-78527849,e0197fdbc8cb2f00d2a38184b625d567:-453923565,a60e4501e9b2af4068b5f4275c753893:113032229,07ed4dc1ceb2af40458de27875dd641f:495151057,ebcdc9c16cb2af4007e3ccdd037949d2:1988542723,59b18fd869b6eb409d1d659296866c5a:1164699384,0a914fd80cb6eb40fdda99b170c6ad7e:26298361,44810fd8dbb6eb40b8b75d764b27b24f:2071788258,ce0c7ed4b9b6eb408839e8d810ccc162:-485379193,d097761491b6eb408e9be9000175ed2b:-497238009,a4673a14c6b6eb40943991908e2e9d20:-134941413,aef6361423b6eb40035cf8ab385c4f2c:-530710373,75f03a7cfe6e63400d5b60f22007ad3a:326770101,68d0b67c926e634085421aef224276c7:1455418995,abc0b67c2d6e6340267830e62a4de272:1529049799,6ea64e7c2bea63408fe4cf9e59c460ff:-2003951493,6f2be1f884aa6340fd1c05597b4d2ae2:1784010522,d92be1f803aa63405c94db90858adc73:-365713806,30fa61f89baa6340b313684f146a4b27:960367685,3d496978e7aa63404a40656249397f67:-657535422,58c865307caa6340b9d29a328753fc32:38253318,69ea8fc030222340b299949a591ba8f6:-131095498,ece88b006e2223407baa4a8f66dfeaec:724718742,4fa9ab37a31aef006a3142eb15639586:-131095498,a61e1ffb10d6ef0098536b1e44db5d67:52576560,629a9bfb0fd6ef00b63c7e5d8dabfdfd:68805472,d28913fbc4d6ef000c69557771f00ed0:-623186486,5cd9cb7391d6ef0085c6ebcc1089ad95:260043875,7189037367d6ef002584b8eaad192476:-1164949939,c96943737cd6ef0029a5d144237a2d5d:-1568526913,cb1987739dd6ef00edf6ba49bcc6c290:-115144447,c018433379d6ef003ce05006886735fe:2064393135,e1b34f3f9096ef0056d489b43f9a28cc:72023626,67a3cf3fec96ef0075fa0e2f0f4410ec:-1505772313,f0338bfb2396ef005a44d72dc48a3b78:-446028123,4a108fbb0b96ef00e5bdab89e496d397:-951778142,321486736716ef00fbab987114c6e5f4:887642382,1cd675fb7ad2ef00b97609a73f34410f:285718404,01457d3b0dd2ef009d0674cf2d6c9447:-956308727,b0e1c44b67deaf0022b1ad2d5228f5f6:-1354834791,7cce77f62fdeaf002a6781338e3b5651:880742701,7efd7fb651deaf00a87bfd75ccf02d49:1465158701,a06d3bf643deaf00b57d86409e928409:927907807,1ffb7bb6dfdeaf00ccf86b6dbd3821c8:1535626719,5fc933368cdeaf00f24f78119cd32cf5:-2007278837,43997ff2fcdeaf0089ac5c1d1ceb0761:-791588435,b4793ff299deaf008771791b8aff4096:-1175982920,c406b732e3deaf00f69c22b646990126:-882465005,1de5f332bbdeaf00f120286aadca4275:-1795975217,6a857332d7deaf0006c0ef83f30f72f6:221050307,36d4ffbef99eaf008efbe99bd3a33c92:97974736,668437ba829eaf004d8f578e226ea326:86753771,8361373e749eaf0042e0a540f4f582e0:1288781644,19c0f125c86b1b007f689ea5033fb99e:1524032982,39f2e125216b1b0091a70b3f80a92e95:-1684753545,4bd22125cc6b1b00ef5d73e5bdf9af86:1244112228,9eb22de1ef6b1b00e83a3f9117759f67:772467486,0fa225e1166b1b007a981ac9b7e8edba:1866122093,a312e9a13d6b1b0064865c6a665e8cfd:349364637,f6b16121ce6b1b0037816860564730e4:-599053504,db916d21756b1b0007966ee4add27ed8:-655227943,7b4129213e6b1b0010d9908cf425d396:1382725054,8ce1d7f401e75700209baae7452cb4e7:1664497270,c7911ff4a0e757000313bc69741262d7:-2133586965,8380d7b4a7e75700309aae59740bb97c:-807221571,902ecbf07ce757007645198a268cdb0e:-2133586965,5dae76fcd9675700393068158d746f45:1664497270,4221799f8f53530039a1026ac11947d2:-1630967,43c0719f635353007c6736ce837e93b9:1377954124,2ec0b9db8b5353000b848bc453432634:-702256791,2360f95fba53530031a0b731073d0727:-1626719237,e810355f63535300a677b35e23014f33:-1683527662,5fbf615f895353008dea52a6dfdcb851:-1960261168,528fe9db94535300c2705a59d3a093d1:319267578,bc8fa91fac535300ad7c5fde08db0f61:-375696333,7ffd21dba153530066a8c853742f38fc:-277027886,478d6d9b4f53530058a1b2e9c35233f2:-1811775690,1a5d215b415353001d5ab92d2f658902:1077006177,1eece19be8535300e9afca9885314d42:-1740150608,feea6dd75553530059c1af7d8fceac49:1071785378,c5da251b455353002960b7e124e3cac0:-1589483460,08caa95705535300d2d007edd5c32680:-1548627697,b5bae99748535300b738593e1bf7795d:1441093766,28aae5d71253530049abaee0c41f1744:1167114945,339aa9570a535300acc2b770259e6df2:-372197942,a79aadd7ee5353007b7b857b4da66323:-931943093,b78a61d739535300aa2043c478d31831:-237979583,536ae5d77f5353001ac8dbed696d903c:292780545,3ef961d72653530046f37e0378e9cd2b:851970983,e8d9e197f1535300eb2db19bedfae8bb:-1692674894,c618579f11de8300f9e43ba08ec5b0e9:282801168,c618579f11de8300f9e43ba08ec5b0e9:282801168,c618579f11de8300f9e43ba08ec5b0e9:282801168,c618579f11de8300f9e43ba08ec5b0e9:282801168,c618579f11de8300f9e43ba08ec5b0e9:282801168,c618579f11de8300f9e43ba08ec5b0e9:282801168,c618579f11de8300f9e43ba08ec5b0e9:282801168</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_js_include_9aace15adb526f0054d8ff621f9619df</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_js_include"><sp_js_include action="INSERT_OR_UPDATE"><display_name>gds_select2</display_name><source>local</source><sys_class_name>sp_js_include</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 22:39:47</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>9aace15adb526f0054d8ff621f9619df</sys_id><sys_mod_count>0</sys_mod_count><sys_name>gds_select2</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_ui_script display_value="gds_select2">a9bc255adb526f0054d8ff621f9619ce</sys_ui_script><sys_update_name>sp_js_include_9aace15adb526f0054d8ff621f9619df</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 22:39:47</sys_updated_on><url/></sp_js_include></record_update>]]></payload>
<payload_hash>1276466507</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>168b77dfdbcb2f00b86770c08c961970</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a493793a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>gds_select2</target_name>
<type>JS Include</type>
<update_domain>global</update_domain>
<update_guid>99fca55af8526f004db5cc2d142a59c1</update_guid>
<update_guid_history>99fca55af8526f004db5cc2d142a59c1:1276466507</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_application_ab59ae8edbdd270054d8ff621f9619cf</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_application"><sys_app_application action="INSERT_OR_UPDATE"><active>true</active><category display_value="Custom Applications">e0355b31ef303000a61d5a3615c0fb78</category><description/><device_type>browser</device_type><hint/><name>CCR GDS Z List Table</name><order>100</order><roles>u_ccr_gds_z_list_table_user</roles><sys_class_name>sys_app_application</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>ab59ae8edbdd270054d8ff621f9619cf</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCR GDS Z List Table</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_application_ab59ae8edbdd270054d8ff621f9619cf</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><title>CCR GDS Z List Table</title><view_name/></sys_app_application></record_update>]]></payload>
<payload_hash>-33367497</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>168b77dfdbcb2f00b86770c08c961973</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18520cc0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>CCR GDS Z List Table</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>6759ae8e4ddd2700e318efb1720e10d1</update_guid>
<update_guid_history>6759ae8e4ddd2700e318efb1720e10d1:-33367497</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>ecc_agent_jar_0d2e6e34dbeb9700b86770c08c961960</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="ecc_agent_jar"><ecc_agent_jar action="DELETE"><active>true</active><description/><directory>false</directory><name>PdfSignerDemo</name><parent/><source/><sys_class_name>ecc_agent_jar</sys_class_name><sys_created_by>parkbw@nih.gov</sys_created_by><sys_created_on>2018-07-24 18:41:44</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>0d2e6e34dbeb9700b86770c08c961960</sys_id><sys_mod_count>5</sys_mod_count><sys_name>PdfSignerDemo</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>ecc_agent_jar_0d2e6e34dbeb9700b86770c08c961960</sys_update_name><sys_updated_by>parkbw@nih.gov</sys_updated_by><sys_updated_on>2018-08-02 15:04:39</sys_updated_on><version>0.6</version></ecc_agent_jar></record_update>]]></payload>
<payload_hash>1329816486</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>1a8b77dfdbcb2f00b86770c08c96196e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16713d12b9f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>PdfSignerDemo</target_name>
<type>MID Server JAR File</type>
<update_domain>global</update_domain>
<update_guid>186c701543f5230081f468c2641b8f00</update_guid>
<update_guid_history>186c701543f5230081f468c2641b8f00:1329816486,555c3051c2f52300bcee7fd70a341493:-62374222,dcf2103f5ba39f00316943b8a48a445a:344602764,e2d2503fe1a39f00e088a936b11a8d76:1026631819,6bc2dc7baea39f00089f28aafda1721a:386322417,15009473e9a39f00d7682e71dfdeb89e:-317149145,49ff4c7bdda39f00954fd65d6aed7868:1911812134,e6ef487b72a39f001716c8928ac1ed1b:835019056,8bf694e7206b5f009640d3fa221adc4d:-1716359087,3cb69467b66b5f0097116c8a2c6f6bc9:-1643094448,0ea6d067ed6b5f00eab3f964ae859706:1283715695,61fd802bad2b5f009989f3e09090f5a6:1195401444,7add04eb642b5f008a104db65f77010c:-1239280029,55cd44e7ed2b5f001486fa54c80d5a90:1732412334,281a0745a6a7d7008ab0e1c698bdc1ef:-654560098,690a07c5d4a7d7007f5854fead99b217:499551773,66f90745dea7d7009779b6a8334392ea:-2113858323,9081727498eb9700f53beca1c22f76d4:1176779498,1d71327409eb970022c24e6d1bcc16af:-2113858323,245eee3403eb97004670a18bb4865ef6:-1128524562</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>m2m_sp_widget_dependency_1b0c3240dbe9eb00b86770c08c961977</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_widget_dependency"><m2m_sp_widget_dependency action="INSERT_OR_UPDATE"><sp_dependency display_value="dirPagination dependency">61c476cedb12360054d8ff621f961957</sp_dependency><sp_widget display_value="GDS Data Display Section">15bc7770dba6ba0054d8ff621f961932</sp_widget><sys_class_name>m2m_sp_widget_dependency</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-29 21:51:56</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>1b0c3240dbe9eb00b86770c08c961977</sys_id><sys_mod_count>0</sys_mod_count><sys_name>dirPagination dependency.GDS Data Display Section</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>m2m_sp_widget_dependency_1b0c3240dbe9eb00b86770c08c961977</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-29 21:51:56</sys_updated_on></m2m_sp_widget_dependency></record_update>]]></payload>
<payload_hash>-140403937</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>1a8b77dfdbcb2f00b86770c08c96196f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166c1cfd9c50000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>dirPagination dependency.GDS Data Display Section</target_name>
<type>Widget Dependency</type>
<update_domain>global</update_domain>
<update_guid>d70c32409ae9eb0089f41b5deda3b679</update_guid>
<update_guid_history>d70c32409ae9eb0089f41b5deda3b679:-140403937</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_b6f188c5dba6ba0054d8ff621f96198c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
	$("#datetimepicker").datetimepicker({format:'MM/DD/YYYY'}).on('dp.show', function() {
		$('.bootstrap-datetimepicker-widget li.accordion-toggle').hide();
	});
	$('[data-toggle="popover"]').popover(); 

	var c = this;
	
	var names=['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna']; 
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;

	var catItemId = '';
	var itemIdArray = {};
	//ajax call to fetch catItemId
	var req = {
				method: 'GET',
				url: '/api/naci/gdspapi/getCatItem',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {name: 'CCR Genomic Data Sharing Plan'}	
	}
	$http(req).then(function(response){
		 console.log(response);
		 catItemId = response.data.result[0].cat_item_id;
	});
	//end of ajax call
	//get variable array
	var req1 = {
				method: 'GET',
				url: '/api/naci/gdspapi/getGDSPVariableIdArray',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {email: 'zhoujim@nih.gov'}	
	}
	$http(req1).then(function(response){
		 console.log(response);
		 itemIdArray = response.data.result[0].itemId;
	});	
	//end of variable array
  
	//initialize autoComplete field
	  $( "#investigator" ).autocomplete({
		 delay: 500,
     source: function(request, response){
	       var term = $('#investigator').val();
				 var temp = '';
			   if(term.indexOf(',') &gt;= 0){
					 temp = term.split(',');
					 var length = temp.length;
					 if(length &gt; 1){
						 term = temp[1].trim() + " " + temp[0].trim();
					 }else{
						 term = temp[0];
					 }
				 }	 
	       var req = {
						method: 'GET',
						url: '/api/naci/gds/fetchUserList',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
	          headers: {
								'Content-Type': 'application/json'
						},
						params: {'term': term }
					};				
				   $http(req).then(handleResponse, handleError);
					function handleResponse(responseData) {
				      var result = responseData.data.result;
							response(result);
					}
					function handleError(response) {
					  console.error(response);
						alert('ERROR');
					}    
			},
      autoFocus:true,
      select: function( event, ui ) {
				console.log(event, ui);
				var id = ui.item.id;
		    var email = ui.item.email;
		    var phone = ui.item.phone;
				var title = ui.item.title;
				var longOrg = ui.item.longOrg;	
				if(title == null || title.trim().length==0){
					title = 'N/A';
				}
				if(email == null || email.trim().length == 0){
					email = 'N/A';
				}
				if(phone == null || phone.trim().length == 0){
					phone = 'N/A';
				}
				if(longOrg == null || longOrg.trim().length == 0){
					longOrg = 'N/A';
				}
				var name = (ui.item.value || '').split(' ');
				$('#inUserId').val(id);
			  if(name != null &amp;&amp; name.length &gt; 1){
					$('#inFirstName').val(name[0]);
					$('#inLastName').val(name[1]);
				    $('#email').val(email);
				    $('#phone').val(phone);
					  $('#pTitle').val(title);
						if(longOrg  == 'N/A'){
							$('#pBranch').val(longOrg);
						}else{
							getBranch(longOrg);
						}
				}else{
					$('#inFirstName').val('');
					$('#inLastName').val('');
				    $('#email').val('');
				    $('#phone').val('');
					  $('#pTitle').val('');
					  $('#pBranch').val('');
				}
			}
  });
	//zlist field
  $( "#projectNumber" ).autocomplete({
		 delay: 500,
     source: function(request, response){
	       var term = $('#projectNumber').val();
	       var req = {
						method: 'GET',
						url: '/api/naci/gds/fetchZList',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
	          headers: {
								'Content-Type': 'application/json'
						},
						params: {'term': term }
					};				
				   $http(req).then(handleResponse, handleError);
					function handleResponse(responseData) {
				      var result = responseData.data.result;
						 console.log(responseData.data);
							response(result);
					}
					function handleError(response) {
					  console.error(response);
						alert('ERROR');
					}    
			},
      autoFocus:true,
      select: function( event, ui ) {
				console.log(event, ui);
				var title = ui.item.title;
	      //$('#projectName').val(title);
			}
  });
	
	//loadBranchOptionString();
	function getBranch(longOrg){
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchUserBranch',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					'longOrg': longOrg				}
			};	
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;
				console.log(result);
        $('#pBranch').val(result.branch);
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}		
	}
	
	function loadBranchOptionString() {
		$.ajax({
			url: '/api/naci/gds/getAllBranch',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			data: {},
			async: false,
			dataType: 'json',
			complete: handleResponse,
			error: handleError
		});
	 function handleResponse(response) {
			var result = response.responseJSON.result;
			var val = "";
			for (var i = 0; i &lt; result.length; i++) {
				val = val + "&lt;option value='" + result[i].value + "'&gt;" + result[i].label + "&lt;/option&gt;";
			}
			$('#piBranch').html(val);
			$('#pBranch').html(val);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	
	var requestModal = $('#loadedRequests');
	$scope.closeModal = function(){
		$('#refresh').val('0');
		requestModal.modal('hide');
	};

	$scope.processOtherValue = function(target1, target2){
		$('#refresh').val('0');
		 if($('#'+target1).is(':checked')){
			 $('#'+target2).prop('disabled', false);
		 }else{
			 $('#'+target2).val(''); 
			 $('#'+target2).prop('disabled', true);
		 }		
	};
	$scope.toggleNotApplicable = function(){
		$('#refresh').val('0');
			if($('#notApplicableDataForm').is(":checked")){
				$('#individual').attr("checked", false);
				$('#aggregate').attr("checked", false);
				$('#individual').attr("disabled", "disabled");
				$('#aggregate').attr("disabled","disabled");
			}else{
				$('#individual').removeAttr("disabled");
				$('#aggregate').removeAttr("disabled");
			}		
	};
	$scope.toggleNoHumanData = function(){
		$('#refresh').val('0');
    if($('#noHumanData').is(":checked")){
          $('#noLimitation').attr("checked", false);
          $('#noLimitation').attr("disabled", "disabled");
          $('#limitedOnly').attr("checked", false);
          $('#limitedOnly').attr("disabled", "disabled");
          $('#limitedPurpose').attr("checked", false);
          $('#limitedPurpose').attr("disabled", "disabled");
          $('#relateToDisease').attr("checked", false);
          $('#relateToDisease').attr("disabled", "disabled");
    }else{
          $('#noLimitation').removeAttr("disabled");
          $('#limitedOnly').removeAttr("disabled");
          $('#limitedPurpose').removeAttr("disabled");
          $('#relateToDisease').removeAttr("disabled");
    }		
	};
	$scope.submitSaveRequest = function(){
		$('#refresh').val('0');
			$('#errorMessage').hide();
			var variables = getGDSPData();
		  variables.gds_id = $('#hideGDSId').val();
			var gdspData = JSON.stringify(variables);
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: gdspData
			};
			$http(request).then(handleResponse, handleError);
		  function handleResponse(response){
				var result = response.data.result;
				$('#infoModal').modal('show');
				$('#messageInfo').html('The Genomic Data Sharing Plan has been saved successfully.');
			  $('#btnOkConfirm').off('click').click(function() {
            $('#infoModal').modal('hide');
        });
			}
		  function handleError(){
				console.error(response);
				alert('ERROR');
			}
      $('#loadedRequests').modal('hide');  
	}
	
	$scope.loadRequestConfirm = function(){
		$('#refresh').val('0');
		if(validation()){
			$('#loadedRequests .modal-content').scrollTop(0);
			$('#errorMessage').show();
			return;
		}else{
			var $confirm = $('#confirmSubmitDiv');
			$confirm.modal('show');
			$('#message1').html("Are you sure you want to submit this request?");		
			$('#btnYesConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				submitRequest();	
				$confirm.modal('hide');
				requestModal.modal('hide');
				$('#loading').show();
			});
			$('#btnNoConfirm').off('click').click(function() {
				$confirm.modal('hide');
			});
			
		}
	}
	
	$scope.loadResubmitConfirm = function(){
		$('#refresh').val('0');
		if(validation()){
			$('#loadedRequests .modal-content').scrollTop(0);
			$('#errorMessage').show();
			return;
		}else{	
			var $confirm = $('#confirmResubmitDiv');
			$confirm.modal('show');
			$('#message2').html("Are you sure you want to resubmit this request?");	
			$('#btnYesResubmitConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				$confirm.modal('hide');
				requestModal.modal('hide');
				$('#loading').show();
				resubmitRequest();	
			});
			$('#btnNoResubmitConfirm').off('click').click(function() {
				$confirm.modal('hide');
			});			
		}
	}
	
	$scope.searchUser = function(){
		$('#refresh').val('0');
		$('#first_name').val('');
		$('#last_name').val('');
		$('#userPageType').val('data');
		$('#userSelection').modal('show');
	}
	
	function resubmitRequest(){    
		var variables = {};
        var currentId = $('#ccr_id').val();
	
	 	variables.org_id = $('#'+currentId +'_orginId').val();
        variables.ticket_number = $('#'+currentId +'_ticket_num').val();
        if(currentId == $('#'+currentId +'_orginId').val()){
              variables.method = 'insert';
        }else{
              variables.method = 'update';
        }

		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/gsdspUtil',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: variables
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			var version = result.version;
			resubmit($('#'+currentId +'_orginId').val(), version, currentId);
		}
		function handleError(){
			console.error(response);
			alert('ERROR');
		}		
		
	}
	
	
	function formatHistoricComment(comment){
		if(comment.length&gt;= 50){
				 var index = comment.indexOf('Added comment to Approval record:');
				 return comment.substring(index);
		}else{
				 return  ' ';
		}
	}
	function resubmit(org_id, version, currentId){
     var variables= getGDSPEntryData();
		 variables.orginId = org_id;
		 variables.version = version;
		 var request_for_id = $('#inUserId').val();
		 if(request_for_id != null &amp;&amp; request_for_id.length &gt; 0){
			 variables.requested_for = request_for_id;	
		 }else{
			 variables.requested_for = userId ;
		 }
     variables.opened_by = userId;
     variables.contact_type = org_id +"="+version;
     variables.investigator = $('#investigator').val();
     variables.projectName = $('#projectName').val();	
     variables.cat_item = catItemId;
     variables.short_description = $('#hideGDSId').val();
		 var fixedComments = formatHistoricComment($('#resubmitCommentsId').val());
		variables.comments = fixedComments;
	
		variables.resubmit = 'true';
		 variables.variables= itemIdArray;
		 var gdspData = JSON.stringify(variables);
			var req = {
						method: 'POST',
						url: '/api/naci/gdspapi/submitRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: gdspData
			}
			$http(req).then(function(response){
				 console.log(response);
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 gdsp_id: data.id,
					 gdsp_number: data.ticketNum,
					 type: 'gdsp',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 console.log(response);
				});				
			});
	}
	
	function submitRequest(){
		var variables= getGDSPEntryData();
		
		if ($('#withdrawSubmitId').val() == 'true') {
				variables.comments = formatHistoricComment($('#withdrawCommentsId').val());
				variables.resubmit = 'true';
		}
    var request_for_id = $('#inUserId').val();

		if(request_for_id != null &amp;&amp; request_for_id.length &gt; 0){
			variables.requested_for = request_for_id;	
		}else{
			variables.requested_for = userId ;
		}
	   variables.opened_by = userId;
     variables.contact_type = 'Web';
		 variables.short_description = $('#hideGDSId').val();
     variables.investigator = $('#investigator').val();
     variables.projectName = $('#projectName').val();	
		 variables.cat_item = catItemId;
		 variables.variables = itemIdArray;
		 var gdspData = JSON.stringify(variables);
			var req = {
						method: 'POST',
						url: '/api/naci/gdspapi/submitRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: gdspData
			};
			$http(req).then(function(response){
				 console.log(response);
				 //update GDS table with GDSP id and GDSP number
				 //from response, we can get gdsp id and gdsp number
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 gdsp_id: data.id,
					 gdsp_number: data.ticketNum,
					 type: 'gdsp',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 //var data = response.data.result;
					 removeSavedRecordAfterSubmit();	
					 //add access to requested_for user
					 var gds_id = $('#hideGDSId').val();
					 var requested_for = $('#inUserId').val();
					 if(requested_for != userId){
						 var pi = $('#investigator').val();
						 var tmp = pi.trim().split(" ");
						 var userData = requested_for+"+"+tmp[0]+"+"+tmp[1];
						 saveUser(userData, gds_id, 'Read_and_Write');
					 }
					 var orgType = $('#organismType').val();
					 if(orgType == 'human' || orgType == 'both'){
								$('#message3').html('Reminder: Please be aware that projects working on human data will need an Institutional Certification to comply with Genomic Data Sharing policy.');
								$('#informationDiv').modal('show');
					 }
				});
			});	   
	}
	
	function saveUser(userData, gdsId, access){
		var data1 = {
			data: userData,
			gds_id: gdsId,
			access: access,
			action: 'add'
		};
		var request = {
				method: 'POST',
				url: '/api/naci/gds/saveUser',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data1
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
	 }
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}		
	}
	
	function validation(){
		var errorMessage = '&lt;font size="2" color="red"&gt; &lt;ul&gt;';
		var flag = "false";
		clearRequiredFieldBackColor();
		if($('#investigator').val().trim().length == 0 || $('#inUserId').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Principal Investigator is a required field. When using autocomplete field, you need to select(click) PI from List &lt;/li&gt;';
			 $('#investigator').css("background-color", "yellow");
			 flag = 'true';
		 }
		if($('#pTitle').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Principal Investigator Title is a required field. &lt;/li&gt;';
			 $('#pTitle').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#email').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Email is a required field. &lt;/li&gt;';
			 $('#email').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#email').val().indexOf('@') == -1){
			 errorMessage = errorMessage + '&lt;li&gt;Incorrect Email address. &lt;/li&gt;';
			 $('#email').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#phone').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Phone is a required field. &lt;/li&gt;';
			 $('#phone').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#date').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Date is a required field. &lt;/li&gt;';
			 $('#date').css("background-color", "yellow");
			 flag = 'true';
		}
		if($('#projectName').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;project Name is a required field. &lt;/li&gt;';
			 $('#projectName').css("background-color", "yellow");
			 flag='true';
		} 
		if($('#simpleSize').val().trim().length == 0){
			 errorMessage = errorMessage + '&lt;li&gt;Plan Enrollment/Sample Size is a required field. &lt;/li&gt;';
			 $('#simpleSize').css("background-color", "yellow"); 
			 flag = 'true';
		} 
		if(!validateCollectionType()){
			 errorMessage = errorMessage + '&lt;li&gt;Collection Type at least one needs to be checked. &lt;/li&gt;';
			 $('#collectionTypeId').css("background-color", "yellow"); 
			 flag = 'true';
		}
		if(!validateDataSection()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Section at least one needs to be checked.(if the other is chosen, please specify the data item) &lt;/li&gt;';
			 $('#dataId').css("background-color", "yellow"); 
			 $('#data2Id').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateArrayGenoSequence()){
			 errorMessage = errorMessage + '&lt;li&gt;Array Data, GenoType, Sequence at least one needs to be checked.&lt;/li&gt;';
			 $('#arrayDataId').css("background-color", "yellow"); 
			 $('#genotypesId').css("background-color", "yellow"); 
			 $('#sequenceId').css("background-color", "yellow"); 
			 flag = 'true';
		}
		if(!validateAnalysisOther()){
			 errorMessage = errorMessage + '&lt;li&gt;Analysis, Other Analysis at least one needs to be checked.(if the other is chosen, please specify the other analysis)&lt;/li&gt;';
			 $('#analysisId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataForm()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Form at least one needs to be checked.&lt;/li&gt;';
			 $('#dataFormId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataRepository()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Repository at least one needs to be checked. (if Clinic Data/Study/Data Collection/Other is chosen, please specify the companion)&lt;/li&gt;';
			 $('#dataRepositoryId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateCompanion()){
			 errorMessage = errorMessage + '&lt;li&gt;Companion Information at least one needs to be checked. (if the other is chosen, please specify the other data repository)&lt;/li&gt;';
			 $('#companionInfoId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataSubmission()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Submission and Release Timeline at least one needs to be checked. (if the other is chosen, please specify the other data)&lt;/li&gt;';
			 $('#dataSubmissionId').css("background-color", "yellow");
			 flag = 'true';
		}
		if(!validateDataUseLimitation()){
			 errorMessage = errorMessage + '&lt;li&gt;Data Use Limitation at least one needs to be checked.&lt;/li&gt;';
			 $('#dataUseId').css("background-color", "yellow");
			 flag = 'true';
		}

		 errorMessage = errorMessage + '&lt;/ul&gt;&lt;/font&gt;';

		 if(flag == 'true'){
				$('#errorMessage').html(errorMessage);
				return true;
		 }else{
				return false;
		 }
	}
	
	function getGDSPData(){
		var variables= {};
		var request_for_id = $('#selectedUserData').val();
		variables.application = 'GDSP';
		if(request_for_id != null &amp;&amp; request_for_id.length &gt; 0){
			variables.requested_for = request_for_id;	
		}else{
			variables.requested_for = userId ;
		}
		variables.opened_by = userId;
		 variables.value=''; 
	   variables.project_name='';
		 variables.saved_id=$('#saved_id').val();		
     var index = 0;
     for(index=0; index &lt; names.length; index++) {
          if (index != 0) variables.value += ',';
          if(textFields.indexOf(names[index]) &gt; -1 ){ 
             var value= $('#'+names[index]).val();
						 if (names[index] == 'projectName')
							 variables.project_name=value;
						 if (names[index] == 'date') {
								 value = getConvertedValue(value, '0');
						 }
						 variables.value +=  names[index] + '=' + value;
					}else {
							if($('#'+names[index]).is(':checked')){
									variables.value +=  names[index] + '=true';
							}else{
									variables.value +=  names[index] + '=false';
							} 
					}
      }
		variables.value += ',inFirstName=' + $('#inFirstName').val();
		variables.value += ',inLastName=' + $('#inLastName').val();
		variables.value += ',inUserId=' + $('#inUserId').val();
		
		return variables;
	}
	function getGDSPEntryData(){
		var variables = {};
     var index = 0;
     for(index=0; index &lt; names.length; index++) {
          if(textFields.indexOf(names[index]) &gt; -1 ){ 
             var value= $('#'+names[index]).val();
						 if (names[index] == 'date') {
								 value = getConvertedValue(value, '0');
						 }
						 variables[names[index]] = value;
					}else {
							if($('#'+names[index]).is(':checked')){
									variables[names[index]] = 'true';
							}else{
									variables[names[index]] = 'false';
							} 
					}
      }		
		//add gds_id to variables
		variables.gsd_id = $('#hideGDSId').val();
		return variables;
	}
	function clearRequiredFieldBackColor(){
		$('#investigator').css("background-color", "");
		$('#pTitle').css("background-color", "");
		$('#email').css("background-color", "");
		$('#phone').css("background-color", "");
		$('#date').css("background-color", "");
		$('#projectName').css("background-color", "");
		$('#simpleSize').css("background-color", ""); 
		$('#collectionTypeId').css("background-color", "");
		$('#dataId').css("background-color", "");  
		$('#specifyOtherType').css("background-color", "");
		$('#data2Id').css("background-color", "");  
		$('#arrayDataId').css("background-color", ""); 
		$('#genotypesId').css("background-color", ""); 
		$('#sequenceId').css("background-color", ""); 
		$('#analysisId').css("background-color", "");
		$('#spcifiedOtherAnalysis').css("background-color", "");
		$('#dataFormId').css("background-color", "");
		$('#dataRepositoryId').css("background-color", "");
		$('#specifiedRepository').css("background-color", "");
		$('#companionInfoId').css("background-color", "");
		$('#specifiedClinicalData').css("background-color", "");
		$('#specifiedProtocol').css("background-color", "");
		$('#specifiedInstrument').css("background-color", "");
		$('#specifiedCompanion').css("background-color", "");
		$('#dataSubmissionId').css("background-color", "");
		$('#psecifiedOtherSubmission').css("background-color", "");
		$('#dataUseId').css("background-color", "");
	}
	
	function validateCollectionType(){
		 if($('#prospective').is(":checked") || $('#restrospective').is(":checked")){
				 return true;
		 }else{
				return false;
		 }
	}	

	function validateDataSection(){
		 if($('#human').is(":checked") || $('#rat').is(":checked") || $('#mouse').is(":checked") || $('#celegans').is(":checked") || $('#drosophila').is(":checked")  || $('#yeast').is(":checked") || $('#bacteria').is(":checked") || $('#nonHuman').is(":checked") || $('#germLine').is(":checked") || $('#somatic').is(":checked") || $('#dnaType').is(":checked") || $('#rnaType').is(":checked") || $('#microbiome').is(":checked") || $('#mitochrondria').is(":checked") || $('#otherType').is(":checked")){
				 if($('#otherType').is(":checked")){
						 if($('#specifyOtherType').val().trim().length == 0){
								$('#specifyOtherType').css("background-color", "yellow");
								return false;
						 }
				 }
				 if($('#yeast').is(":checked")){
						 if($('#yeastSpecies').val().trim().length == 0){
								$('#yeastSpecies').css("background-color", "yellow");
								return false;
						 }
				 }
				 if($('#bacteria').is(":checked")){
						 if($('#bacteriaSpecies').val().trim().length == 0){
								$('#bacteriaSpecies').css("background-color", "yellow");
								return false;
						 }
				 }
				 if($('#nonHuman').is(":checked")){
						 if($('#noHumanOther').val().trim().length == 0){
								$('#noHumanOther').css("background-color", "yellow");
								return false;
						 }
				 }
			 
				 return true;
		 }else{
				return false;
		 }
	}

	function validateArrayGenoSequence(){
	 if($('#snpArrayData').is(":checked") || $('#expressionArray').is(":checked") || $('#methylationArray').is(":checked") || $('#arrayDerive').is(":checked") || $('#microarrayData').is(":checked") || $('#sequenceData').is(":checked") || $('#somaticSnv').is(":checked") || $('#arrayCgh').is(":checked") || $('#wholeGenome').is(":checked") || $('#wholeExome').is(":checked") || $('#targetGenome').is(":checked") || $('#targetExome').is(":checked") || $('#wholeTranscriptome').is(":checked") || $('#targetTrabscriptome').is(":checked") || $('#epigenomicMark').is(":checked") || $('#sanger').is(":checked") || $('#rrna').is(":checked") ){
			 return true;
		}else{
			return false;
		}
	}	

	function validateAnalysisOther(){
		 if($('#association').is(":checked") || $('#arrayDerivedExpression').is(":checked") || $('#rnaExpression').is(":checked") || $('#derivedMethylation').is(":checked") || $('#otherAnalysis').is(":checked")){
				if($('#otherAnalysis').is(":checked")){
						if( $('#spcifiedOtherAnalysis').val().trim().length == 0){
							 $('#spcifiedOtherAnalysis').css("background-color", "yellow");
							 return false;
						}
				}
				return true;
		 }else{
				return false;
		 }
	}

	function validateDataForm(){
		if($('#individual').is(":checked") || $('#aggregate').is(":checked") || $('#notApplicableDataForm').is(":checked")){
			return true;
		}else{
			return false;
		}
	}	

	function validateDataRepository(){
		 if($('#arrayExpress').is(":checked") || $('#cancerGenomics').is(":checked") || $('#clinVar').is(":checked") || $('#dbGap').is(":checked") || $('#dbSnp').is(":checked") || $('#dbVar').is(":checked") || $('#ena').is(":checked") || $('#geo').is(":checked") || $('#mgi').is(":checked") || $('#genBank').is(":checked") || $('#traceArchive').is(":checked") || $('#wormbase').is(":checked") || $('#sra').is(":checked") || $('#zfin').is(":checked") || $('#OtherRepository').is(":checked") ){
				if($('#OtherRepository').is(":checked")){
						if( $('#specifiedRepository').val().trim().length == 0){
								$('#specifiedRepository').css("background-color", "yellow");
							 return false;
						}
				}
				return true;
		 }else{
				return false;
		 }
	}	
	
	function validateCompanion(){
		 if($('#phenotype').is(":checked") || $('#exposure').is(":checked") || $('#surveyTool').is(":checked") || $('#clinicalData').is(":checked") || $('#protocol').is(":checked") || $('#instrument').is(":checked") || $('#otherCompanion').is(":checked")){
				if($('#clinicalData').is(":checked")){
						if( $('#specifiedClinicalData').val().trim().length == 0){
							 $('#specifiedClinicalData').css("background-color", "yellow");
							 return false;
						}
				}
				if($('#protocol').is(":checked")){
						if( $('#specifiedProtocol').val().trim().length == 0){
							 $('#specifiedProtocol').css("background-color", "yellow");
							 return false;
						}
				}
				if($('#instrument').is(":checked")){
					 if( $('#specifiedInstrument').val().trim().length == 0){
							 $('#specifiedInstrument').css("background-color", "yellow");
							 return false;
						}
				}
				if($('#otherCompanion').is(":checked")){
					 if( $('#specifiedCompanion').val().trim().length == 0){
							 $('#specifiedCompanion').css("background-color", "yellow");
							 return false;
						}
				}

				return true;
		 }else{
				return false;
		 }
	}	
	
	function validateDataSubmission(){
		 if($('#dataCheck').is(":checked") || $('#publication').is(":checked") || $('#otherSubmission').is(":checked")){
				if($('#otherSubmission').is(":checked")){
						if( $('#psecifiedOtherSubmission').val().trim().length == 0){
								$('#psecifiedOtherSubmission').css("background-color", "yellow");
							 return false;
						}
				}
				return true;
		 }else{
				return false;
		 }

	}	
	
	function validateDataUseLimitation(){
		if($('#noHumanData').is(":checked") || $('#noLimitation').is(":checked") || $('#limitedOnly').is(":checked") || $('#limitedPurpose').is(":checked") || $('#relateToDisease').is(":checked")){
			return true;
		}else{
			return false;
		}
	}	

	function getConvertedValue(value, flag){
		if(value == ''){
			return '';
		}
		var values = '';
		 if(flag == '0'){
				values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}
	
	function removeSavedRecordAfterSubmit(){
			var id = $('#saved_id').val();
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);
			function handleResponse(response) {
				var result = response.data.result;
				console.log(result);
			}
			
			function handleError(response) {
				console.error(response);
				//$confirm.modal('hide');
				alert('ERROR');
			}		
		  scope.checkPI = function(){
				alert('here');
			};
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.btn-form {
  width: 100px;
  margin-left: 50px;
}

.form-label {
  font-weight: normal
}

.full-width {
  width: 100%;
}

label.control-label {
  font-size: 14px;
  white-space: nowrap;
}

legend.scheduler-border {
  font-size: 16px;
  font-weight: bold;
}

.align-checkboxes {
  margin-top: 8px;
}

.inline-form-input {
  width: 160px;
  max-width: 160px;
  display: inline-block;
  margin-left: 8px;
}

input[type=checkbox], input[type=radio] {
  vertical-align: middle;
  position: relative;
  bottom: 3px !important;
}

input[type=radio] {
  bottom: 2px;
}

.input-xs {
  height: 24px;
  padding: 4px;
  font-size: 12px;
  line-height: 1.2;
  border-radius: 3px;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-data-entry-section&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS Data Entry Section&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id
	};
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-03 15:22:37&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;b6f188c5dba6ba0054d8ff621f96198c&lt;/sys_id&gt;&lt;sys_mod_count&gt;290&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS Data Entry Section&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_b6f188c5dba6ba0054d8ff621f96198c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-11-20 22:15:07&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;

&lt;div id="loadedRequests" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt; 
  &lt;div class="modal-dialog modal-lg"&gt;
    &lt;div class="modal-content" style="height:900px; overflow-y:auto; overflow-x: hidden;"&gt;
      &lt;div class="modal-header"&gt;
      &lt;button type="button" class="close btn btn-xs" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;x&lt;/span&gt;&lt;/button&gt;
           &lt;div id="anchor"&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Genomic Data Sharing Plan&lt;/b&gt;&lt;/font&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        &lt;div id="errorMessage" style="display:none;"&gt;&lt;/div&gt;
        &lt;!-- Demographics --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Principal Investigator&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- investigator --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="investigator"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Principal Investigator&lt;/label&gt;
              &lt;div class="col-md-6 ui-front"&gt;
                &lt;input id="investigator" class="form-control"/&gt;
              &lt;/div&gt;
              &lt;input type="hidden" id="inFirstName"/&gt;
              &lt;input type="hidden" id="inLastName"/&gt;
              &lt;input type="hidden" id="inUserId"/&gt;
            &lt;/div&gt;
            &lt;!-- PI title --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="pTitle"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Principal Investigator Title&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="pTitle" name="pTitle"&gt;
              &lt;/div&gt; 
            &lt;/div&gt;  
              &lt;!-- PI Branch --&gt;
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="pBranch"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Branch&lt;/label&gt;
                &lt;div class="col-md-6"&gt;
                  &lt;input type="text" class="form-control" id="pBranch" name="pBranch"/&gt;
                &lt;/div&gt; 
              &lt;/div&gt;  
            &lt;!-- email --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="email"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Email&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="email" name="email"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- phone --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="phone"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Phone&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="phone" name="phone"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;!-- date --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="date"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Plan Submission Date&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;div class='input-group date' id='datetimepicker'&gt;
                  &lt;input type="text" class="form-control" id="date" name="date" readonly='true'&gt;
                  &lt;span class="input-group-addon"&gt;
                          &lt;span class="glyphicon glyphicon-calendar"&gt;&lt;/span&gt;
                  &lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        
        &lt;!-- Project Information --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Project Information&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- project number --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="valign-top col-md-5 align-right" for="projectNumber"&gt;Intramural Project (Z01), Grant, or Contract number (if available) &lt;/label&gt;
              &lt;div class="col-md-6 ui-front"&gt;
                &lt;input type="text" class="form-control" id="projectNumber" name="projectNumber"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- projectName --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="projectName"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Study Name&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="projectName" name="projectName"  maxlength="219" aria-labelledby="projectName1"&gt;
              &lt;/div&gt;
						&lt;/div&gt;
            &lt;!-- sampleSize --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" for="simpleSize"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Plan enrollment/Sample Size&lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;input type="text" class="form-control" id="simpleSize" name="sampleSize"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- collectionTypeId --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="collectionTypeId" for="collectionTypeId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Collection Type [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="prospective"&gt;
                  &lt;input type="checkbox" name="prospective" id="prospective" value="prospective"&gt;
                  Prospective
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="restrospective"&gt;
                &lt;input type="checkbox" name="retrospective" id="restrospective" value="retrospective"&gt;
                  Retrospective
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Data --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Data&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- dataId --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Source [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="human"&gt;
                  &lt;input type="checkbox" name="human" id="human" value="human"&gt;
                  Human
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="rat"&gt;
                  &lt;input type="checkbox" name="rat" id="rat" value="rat"&gt;
                  Rat
                &lt;/label&gt;
	              &lt;br&gt;
                &lt;label class="form-label" for="mouse"&gt;
                  &lt;input type="checkbox" name="mouse" id="mouse" value="mouse"&gt;
                  Mouse
                &lt;/label&gt;                
      			     &lt;br&gt;
                &lt;label class="form-label" for="celegans"&gt;
                  &lt;input type="checkbox" name="celegans" id="celegans" value="celegans"&gt;
                  C. elegans
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="drosophila"&gt;
                  &lt;input type="checkbox" name="drosophila" id="drosophila" value="drosophila"&gt;
                  Drosophila
                &lt;/label&gt;				
                &lt;br&gt;
                &lt;label class="form-label" for="yeast"&gt;
                  &lt;input type="checkbox" name="yeast" id="yeast" value="yeast"  ng-click="processOtherValue('yeast', 'yeastSpecies');"&gt;
                  Yeast
                &lt;/label&gt;
                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (&lt;label for="yeastSpecies"&gt;Species:&lt;/label&gt; 
                &lt;input placeholder="Please specify" type="text" class="form-control input-xs inline-form-input" 
                         id="yeastSpecies" name="yeastSpecies" style="width: 100px;" disabled="disabled"&gt;&amp;nbsp; )  
                &lt;br&gt;
                &lt;label class="form-label" for="bacteria"&gt;
                  &lt;input type="checkbox" name="bacteria" id="bacteria" value="bacteria" ng-click="processOtherValue('bacteria', 'bacteriaSpecies');"&gt;
                  Bacteria
                &lt;/label&gt;
                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (&lt;label for="bacteriaSpecies"&gt;Species: &lt;/label&gt;
                &lt;input placeholder="Please specify" type="text" class="form-control input-xs inline-form-input" 
                         id="bacteriaSpecies" name="bacteriaSpecies" style="width: 100px;" disabled="disabled"&gt;&amp;nbsp; ) 
                &lt;br&gt;
                &lt;label class="form-label"&gt;
                &lt;input type="checkbox" name="nonHuman" id="nonHuman" value="nonHuman" ng-click="processOtherValue('nonHuman', 'noHumanOther');"&gt;
                  Other
                &lt;/label&gt;
                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (&lt;label for="noHumanOther"&gt;Species: &lt;/label&gt;
                &lt;input placeholder="Please specify" type="text" class="form-control input-xs inline-form-input" 
                         id="noHumanOther" name="noHumanOther" style="width: 100px;" disabled="disabled"&gt;&amp;nbsp; ) 
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Sample Types --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="data2Id"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Sample Types [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label" for="germLine"&gt;
                  &lt;input type="checkbox" name="germLine" id="germLine" value="germLine"&gt;
                  GermLine
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="dnaType"&gt;
                  &lt;input type="checkbox" name="dnaType" id="dnaType" value="dnaType"&gt;
                  DNA
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="rnaType"&gt;
                &lt;input type="checkbox" name="rnaType" id="rnaType" value="rnaType"&gt;
                  RNA
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="microbiome"&gt;
                &lt;input type="checkbox" name="microbiome" id="microbiome" value="microbiome"&gt;
                  Microbiome
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="mitochrondria"&gt;
                &lt;input type="checkbox" name="mitochrondria" id="mitochrondria" value="mitochrondria"&gt;
                  Mitochrondria
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="otherType"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" name="otherType" id="otherType" value="otherSampleType"  
                  ng-click="processOtherValue('otherType', 'specifyOtherType');"&gt;
                  &lt;label class="form-label" for="specifyOtherType"&gt;Other&lt;/label&gt;
                  &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                         id="specifyOtherType" name="otherSampleTypeText" disabled="disabled" aria-labelledby="specifyOtherType"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Type --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Type&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- Array Data --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="arrayDataId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Array Data [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label full-width" for="snpArrayData"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" name="snpArrayData" id="snpArrayData" value="snp"  ng-click="processOtherValue('snpArrayData', 'numSNP');" &gt;
											SNP Array
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                      # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSNP" name="numSNP" style="width: 100px;" disabled="disabled" aria-labelledby="snpArrayData"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="expressionArray"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" name="expressionArray" id="expressionArray" value="expressArray" ng-click="processOtherValue('expressionArray', 'numExpression');" aria-labelledby="expressionArray"&gt;
                    		Expression Array  
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                      # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numExpression" name="numExpression" style="width: 100px;" disabled="disabled" aria-labelledby="expressionArray"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;                 
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="methylationArray"&gt;
                   &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
               				 &lt;input type="checkbox" name="methylationArray" id="methylationArray" value="methylationArray" ng-click="processOtherValue('methylationArray', 'numMethylation');" aria-labelledby="methylationArray"&gt;
                 			  Methylation Array
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                      # of Samples
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numMethylation" name="numMethylation" style="width: 100px;" disabled="disabled" aria-labelledby="methylationArray"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;                                  
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt; 
              
           &lt;!-- Genotypes --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="genotypesId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Genotypes [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label full-width label-hidden" for="arrayDerive"&gt;Check:&lt;/label&gt;
                &lt;div class="row"&gt;
									&lt;div class="col-md-6"&gt;
                    &lt;input type="checkbox" name="arrayDerive" id="arrayDerive" value="arrayDerived" ng-click="processOtherValue('arrayDerive', 'numDerivedGenotype');" &gt;
                      Array Derived Genotypes
                  &lt;/div&gt;
									&lt;div class="col-md-6"&gt;
                        # of Samples
                                      &lt;label for="numDerivedGenotype" class="label-hidden"&gt;Input:&lt;/label&gt;
                      &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numDerivedGenotype" name="numDerivedGenotype" style="width: 100px;" disabled="disabled"&gt;                 
                  &lt;/div&gt;	
                &lt;/div&gt;  
                
                &lt;br&gt;
                &lt;label class="form-label full-width" for="microarrayData"&gt;
									&lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                         &lt;input type="checkbox" id="microarrayData" name="microarrayData" value="cnvFromMicroarray" ng-click="processOtherValue('microarrayData', 'numMicroarrayData');"&gt;
                        CNV cells from Microarray                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                       # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numMicroarrayData" name="numMicroarrayData" style="width: 100px;" disabled="disabled" aria-labelledby="microarrayData"&gt;                     
                    &lt;/div&gt;
                  &lt;/div&gt;                  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="sequenceData"&gt;
                  &lt;div class="row"&gt;
                    	&lt;div class="col-md-6"&gt;
                        &lt;input type="checkbox" id="sequenceData" name="cnvFromSequence" value="cnvFromSequence" ng-click="processOtherValue('sequenceData', 'numSquenceData');"&gt;
                          CNV cells derived from Sequence                        
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                       # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSquenceData" name="numSquenceData" style="width: 100px;" disabled="disabled"  aria-labelledby="sequenceData"&gt;                            
                    &lt;/div&gt;
                  &lt;/div&gt;

                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="somaticSnv"&gt;
                &lt;div class="row"&gt;
                	&lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="somaticSnv" name="maf" value="maf" ng-click="processOtherValue('somaticSnv', 'numSomaticSnv');"&gt;
                        Somatic SNV (.MAF)
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                      # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSomaticSnv" name="numSomaticSnv" style="width: 100px;" disabled="disabled" aria-labelledby="somaticSnv"&gt;                         
                  &lt;/div&gt;
                &lt;/div&gt;  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="arrayCgh"&gt;
                &lt;div class="row"&gt;
                	&lt;div class="col-md-6"&gt;
                    &lt;input type="checkbox" id="arrayCgh" name="arrayCGH" value="arrayCGH" ng-click="processOtherValue('arrayCgh', 'numArrayCgh');"&gt;
                      Array CGH CNVs
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                      # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numArrayCgh" name="numArrayCgh" style="width: 100px;" disabled="disabled" aria-labelledby="arrayCgh"&gt;                      
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Sequence --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="sequenceId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Sequence [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;label class="form-label full-width" for="wholeGenome"&gt;
                &lt;div class="row"&gt;
                  &lt;div class="col-md-6"&gt;
                     &lt;input type="checkbox" id="wholeGenome" name="wholeGenome" value="wholeGenome" ng-click="processOtherValue('wholeGenome', 'numWholeGenome');"&gt;
                      Whole Genome                      
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                      # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numWholeGenome" name="numWholeGenome" style="width: 100px;" disabled="disabled" aria-labelledby="wholeGenome"&gt;                     
                  &lt;/div&gt;
                &lt;/div&gt;

                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="wholeExome"&gt;
                &lt;div class="row"&gt;
                	&lt;div class="col-md-6"&gt;
                    &lt;input type="checkbox" id="wholeExome" name="wholeExome" value="wholeExome" ng-click="processOtherValue('wholeExome', 'numWholeExome');"&gt;
                      Whole Exome                    
                  &lt;/div&gt;
                  &lt;div class="col-md-6"&gt;
                       # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numWholeExome" name="numWholeExome" style="width: 100px;" disabled="disabled" aria-labelledby="wholeExome"&gt;                      
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="targetGenome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="targetGenome" name="targetGenome" value="targetGenome" ng-click="processOtherValue('targetGenome', 'numTargetGenome');"&gt;
                        Targeted Genome
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numTargetGenome" name="numTargetGenome" style="width: 100px;" disabled="disabled" aria-labelledby="targetGenome"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="targetExome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="targetExome" name="targetExome" value="TargetExome" ng-click="processOtherValue('targetExome', 'numTargetedExome');"&gt;
                        Targeted Exome                      
                    &lt;/div&gt;
										&lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numTargetedExome" name="numTargetedExome" style="width: 100px;" disabled="disabled" aria-labelledby="targetExome"&gt;                         
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="wholeTranscriptome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                      &lt;input type="checkbox" id="wholeTranscriptome" name="wholeTranscript" value="wholeTranscript" ng-click="processOtherValue('wholeTranscriptome', 'numWholeTranscriptome');"&gt;
                        Whole Transcriptome
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numWholeTranscriptome" name="numWholeTranscriptome" style="width: 100px;" disabled="disabled" aria-labelledby="wholeTranscriptome"&gt;                        
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="targetTrabscriptome"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                       &lt;input type="checkbox" id="targetTrabscriptome" name="targetTranscript" value="targetTranscript" ng-click="processOtherValue('targetTrabscriptome', 'numTargetedTranscriptome');"&gt;
                        Targeted Transcriptome                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numTargetedTranscriptome" name="numTargetedTranscriptome" style="width: 100px;" disabled="disabled" aria-labelledby="targetTrabscriptome"&gt;                         
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="epigenomicMark" ng-click="processOtherValue('', '');"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                        &lt;input type="checkbox" id="epigenomicMark" name="epigMarks" value="epigMarks" ng-click="processOtherValue('epigenomicMark', 'numEpigenomic');"&gt;
                        Epigenomic Marks                    
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numEpigenomic" name="numEpigenomic" style="width: 100px;" disabled="disabled" aria-labelledby="epigenomicMark"&gt;                        
                    &lt;/div&gt;
                  &lt;/div&gt;                  
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label full-width" for="sanger"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                       &lt;input type="checkbox" id="sanger" name="sanger" value="sanger" ng-click="processOtherValue('sanger', 'numSanger');"&gt;
                        Sanger                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                         # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numSanger" name="numSanger" style="width: 100px;" disabled="disabled" aria-labelledby="sanger"&gt;                      
                    &lt;/div&gt;
                  &lt;/div&gt;                  
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label full-width" for="rrna"&gt;
                  &lt;div class="row"&gt;
                    &lt;div class="col-md-6"&gt;
                       &lt;input type="checkbox" id="rrna" name="rRna" value="rRna" ng-click="processOtherValue('rrna', 'numRrna');"&gt;
                        16S rRNA                     
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                          # of Samples
                       &lt;input placeholder="Specify Number" type="text" class="form-control input-xs inline-form-input" 
                         id="numRrna" name="numRrna" style="width: 100px;" disabled="disabled" aria-labelledby="rrna"&gt;                       
                    &lt;/div&gt;
                  &lt;/div&gt;                  

                &lt;/label&gt;                                
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Analysis --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="analysisId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Analysis [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="association"&gt;
                &lt;input type="checkbox" id="association" name="linkage" value="linkage"&gt; 
                  Association/Linkage
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="arrayDerivedExpression"&gt;
                &lt;input type="checkbox" id="arrayDerivedExpression" name="arrayDeriveExp" value="arrayDeriveExp"&gt;
                  Array Derived Expression
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="rnaExpression"&gt;
                &lt;input type="checkbox" id="rnaExpression" name="seqDeriveExp" value="seqDeriveExp"&gt;
                  RNA Seq Derived Expression
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="derivedMethylation"&gt;
                &lt;input type="checkbox" id="derivedMethylation" name="arrayDeriveMethyl" value="arrayDeriveMethyl"&gt;
                  Array Derived Methylation
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5"&gt;Other&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label label-hidden" for="otherAnalysis"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" id="otherAnalysis" name="otherType" 
                  ng-click="processOtherValue('otherAnalysis', 'spcifiedOtherAnalysis');"&gt;
                
                  &lt;label class="form-label" for="spcifiedOtherAnalysis"&gt;Other&lt;/label&gt;
                  &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                         id="spcifiedOtherAnalysis" name="otherTypeText" disabled="disabled" aria-labelledby="otherAnalysis"&gt;
                
              &lt;/div&gt;
            &lt;/div&gt;          
            &lt;!-- Data Form --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataFormId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Data Form [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="individual"&gt;
                &lt;input type="checkbox" id="individual" name="individual" value="individual"&gt;
                  Individual
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="aggregate"&gt;
                &lt;input type="checkbox" id="aggregate" name="aggregate" value="aggregate"&gt;
                  Aggregate
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="notApplicableDataForm"&gt;
                &lt;input type="checkbox" id="notApplicableDataForm" name="na" value="na" ng-click="toggleNotApplicable()"&gt;
                  Not Applicable
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Data Form --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataRepositoryId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Data Repository [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label" for="arrayExpress"&gt;
                &lt;input type="checkbox" id="arrayExpress" name="arrayExpress" value="arrayExpress"&gt;
                  Array Express
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="cancerGenomics"&gt;
                &lt;input type="checkbox" id="cancerGenomics" name="cancerHub" value="cancerHub"&gt;
                  Cancer Genomics Hub
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="clinVar"&gt;
                &lt;input type="checkbox" id="clinVar" name="clinVar" value="clinVar"&gt;
                  ClinVar
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="dbGap"&gt;
                &lt;input type="checkbox" id="dbGap" name="dbGap" value="dbGap"&gt;
                  Database of Genotypes and Phenotypes (dbGaP)
                &lt;/label&gt;   
                &lt;br&gt;
                &lt;label class="form-label" for="dbSnp"&gt;
                &lt;input type="checkbox" id="dbSnp" name="dbSNP" value="dbSNP"&gt;
                  Database of Short Generic Variants (dbSNP)
                &lt;/label&gt; 
                &lt;br&gt;
                &lt;label class="form-label" for="dbVar"&gt;
                &lt;input type="checkbox" id="dbVar" name="dbVar" value="dbVar"&gt;
                  Database of Genomic Structure Variation
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="ena"&gt;
                &lt;input type="checkbox" id="ena" name="ena" value="ena"&gt;
                  European Nucleotide Archive (ENA)
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="geo"&gt;
                &lt;input type="checkbox" id="geo" name="geo" value="geo"&gt;
                  Gene Expression Omnibus (GEO)
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="mgi"&gt;
                &lt;input type="checkbox" id="mgi" name="mgi" value="mgi"&gt;
                  Mouse Genome Informatics (MGI)
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="genBank"&gt;
                &lt;input type="checkbox" id="genBank" name="genBank" value="genBank"&gt;
                  GenBank
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="traceArchive"&gt;
                &lt;input type="checkbox" id="traceArchive" name="traceArchive" value="traceArchive"&gt;
                  Trace Archive
                &lt;/label&gt;                
                &lt;br&gt;
                &lt;label class="form-label" for="wormbase"&gt;
                &lt;input type="checkbox" id="wormbase" name="wormBase" value="wormBase"&gt;
                  WormBase
                &lt;/label&gt;                     
                &lt;br&gt;
                &lt;label class="form-label" for="sra"&gt;
                &lt;input type="checkbox" id="sra" name="sra" value="sra"&gt;
                  Sequence Read Archive (SRA)
                &lt;/label&gt;  
                &lt;br&gt;
                &lt;label class="form-label" for="zfin"&gt;
                &lt;input type="checkbox" id="zfin" name="zfin" value="zfin"&gt;
                  Zebrafish Model Organism Database (ZFIN)
                &lt;/label&gt; 
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="OtherRepository"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" id="OtherRepository" name="otherRepository" value="otherRepository"
                    ng-click="processOtherValue('OtherRepository', 'specifiedRepository');"&gt;
                
                &lt;label class="form-label" for="specifiedRepository"&gt;Other&lt;/label&gt;
                &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       id="specifiedRepository" name="otherRepositoryText" disabled="disabled"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Companion Information --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="companionInfoId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Companion Information [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label label-hidden" for="phenotype"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" id="phenotype" name="phenotype" value="phenotype"&gt;
                  Phenotype &amp;nbsp;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-trigger="focus"  data-content="Data pertinent to the interpretation of genomic data, including the minimal phenotype information needed to reproduce the primary analysis, such as associated phenotype data (e.g., clinical information), exposure data, relevant metadata, and descriptive information (e.g., protocols or methodologies used) will be shared. Individual-level Phenotype data will include."&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                
                &lt;br&gt;
                &lt;label class="form-label" for="exposure"&gt;
                &lt;input type="checkbox" id="exposure" name="exposure" value="exposure"&gt;
                  Exposure
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="surveyTool"&gt;
                &lt;input type="checkbox" id="surveyTool" name="surveyTool" value="surveyTool"&gt;
                  Survey Tool
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="clinicalData"&gt;Check:&lt;/label&gt;
                  &lt;input type="checkbox" id="clinicalData" name="clinicData" value="clinicData"
                    ng-click="processOtherValue('clinicalData', 'specifiedClinicalData');"&gt;
                    &lt;label class="form-label" for="specifiedClinicalData"&gt;Clinical Data&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                      id="specifiedClinicalData" name="clinicDataText" disabled="disabled"&gt;
                
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="protocol"&gt;Check:&lt;/label&gt;
                  &lt;input type="checkbox" id="protocol" name="protocol" value="protocol" 
                    ng-click="processOtherValue('protocol', 'specifiedProtocol');"&gt;
                    &lt;label class="form-label" for="specifiedProtocol"&gt;Study/Protocol&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       name="protocolText" id="specifiedProtocol" disabled="disabled"&gt;
                                
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="instrument"&gt;Check:&lt;/label&gt;
                  &lt;input type="checkbox" id="instrument" name="instrument" value="instrument" 
                    ng-click="processOtherValue('instrument', 'specifiedInstrument');"&gt;
                    &lt;label class="form-label" for="specifiedInstrument"&gt;Data Collection Instrument&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       name="instrumentText" id="specifiedInstrument" disabled="disabled"&gt;
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="otherCompanion"&gt;Check:&lt;/label&gt;
                  &lt;input type="checkbox" id="otherCompanion" name="otherCompanion" value="otherCompanion"
                    ng-click="processOtherValue('otherCompanion', 'specifiedCompanion');"&gt;
                    &lt;label class="form-label" for="specifiedCompanion"&gt;Other&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       id="specifiedCompanion" name="otherCompanionText" disabled="disabled"&gt;              
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;!-- Submission Information --&gt;
        &lt;fieldset class="scheduler-border"&gt;
          &lt;legend class="scheduler-border"&gt;Submission Information&lt;/legend&gt;
          &lt;form class="form-horizontal"&gt;
            &lt;!-- dataCheck --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataSubmissionId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Data Submission and Release Timeline &lt;div style="white-space: auto;"&gt;[Check all that apply]&lt;/div&gt;&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label label-hidden" for="dataCheck"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" id="dataCheck" name="cleanAnalysis" value="cleanAnalysis"&gt;
                  Following data cleaning, analysis, and quality checks
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="publication"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" id="publication" name="publication" value="publication"&gt;
                  At the time of publication
                &lt;br&gt;
                &lt;label class="form-label label-hidden" for="otherSubmission"&gt;Check:&lt;/label&gt;
                  &lt;input type="checkbox" id="otherSubmission" name="otherSubmission"  value="otherSubmission"
                    ng-click="processOtherValue('otherSubmission', 'psecifiedOtherSubmission');"&gt;
                    &lt;label class="form-label" for="psecifiedOtherSubmission"&gt;Other&lt;/label&gt;
                    &lt;input placeholder="Please Specify" type="text" class="form-control input-xs inline-form-input" 
                       id="psecifiedOtherSubmission" name="otherSubmissionText" disabled="disabled"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="control-label col-md-5" id="dataUseId"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Data Use Limitation [Check all that apply]&lt;/label&gt;
              &lt;div class="col-md-6 align-checkboxes"&gt;
                &lt;label class="form-label label-hidden" for="noHumanData"&gt;Check:&lt;/label&gt;
                &lt;input type="checkbox" id="noHumanData" name="noHumanData" value="noHumanData"  ng-click="toggleNoHumanData()"&gt;
                  Not Applicable, no human data
                &lt;br&gt;
                &lt;label class="form-label" for="noLimitation"&gt;
                &lt;input type="checkbox" id="noLimitation" name="noUseLimitation" value="noUseLimitation"&gt;
                  No data use limitations
                &lt;/label&gt;
                &lt;br&gt;
                &lt;label class="form-label" for="limitedOnly"&gt;
                &lt;input type="checkbox" id="limitedOnly" name="limitedOnly" value="limitedOnly"&gt;
                  Limited only by the terms of the Data Use Certification
                &lt;/label&gt;
                &lt;br&gt;                
                &lt;label class="form-label" for="limitedPurpose"&gt;
                &lt;input type="checkbox" id="limitedPurpose" name="limitToHealth" value="limitToHealth"&gt;
                  Limited to health/medical/biomedical purposes 
                  &lt;br&gt;
                  &lt;span style="display: inline-block; margin-left: 16px"&gt;
                   (doesn't include the study of population origins or ancestry)
                  &lt;/span&gt;
                &lt;/label&gt;
                &lt;br&gt;                      
                &lt;label class="form-label" for="relateToDisease"&gt;
                &lt;input type="checkbox" id="relateToDisease" name="relateToDisease" value="relateToDisease"&gt;
                  Must be related to the specified disease
                &lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;            
          &lt;/form&gt;
        &lt;/fieldset&gt;
        &lt;fieldset class="scheduler-border" id="pre_comments_div1" style="display:none;"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
            &lt;div id="commentReviewId2"&gt;&lt;/div&gt;
        &lt;/fieldset&gt;
        &lt;div class="clearfix"&gt;
          &lt;div id="regularSubmit" class="pull-right"&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="saveBt"   value="SAVE" ng-click="submitSaveRequest()"/&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="submitBt" value="SUBMIT" ng-click="loadRequestConfirm();"/&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="cancelBt" value="CANCEL" ng-click="closeModal()"/&gt;
          &lt;/div&gt;
          &lt;div id="resubmit" style="display:none;" class="pull-right"&gt;
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="submitBt" value="SUBMIT" ng-click="loadResubmitConfirm()"/&gt; 
            &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="cancelBt" value="CANCEL" ng-click="closeModal()"/&gt;
          &lt;/div&gt;          
        &lt;/div&gt;
             &lt;input type='hidden' id='ccr_id'/&gt;
             &lt;input type='hidden' id='saved_id'/&gt;
             &lt;input type='hidden' id='gds_id'/&gt;
          &lt;/div&gt;
       &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="confirmSubmitDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message1"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="confirmResubmitDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message2"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesResubmitConfirm" 
                type="button" class="btn btn-primary active" 
                style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoResubmitConfirm" 
                type="button" class="btn btn-default active" 
                style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="informationDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="infoOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message3"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkInfo" 
                type="button" class="btn btn-default active" 
                style="text-align: left;" data-dismiss="modal"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1326912256</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>1a8b77dfdbcb2f00b86770c08c961972</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1673330fd9a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS Data Entry Section</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>695450138139e300819e071a3e9227ec</update_guid>
<update_guid_history>695450138139e300819e071a3e9227ec:-1326912256,b6fffbaa7ead23403bbd48db650e09db:-1194781508,f8fffb6a8fad23401bbb93a9b3f18fcc:1577402845,eccfb3aaacad2340198d62bc5eb57feb:617779013,5b7fb7aa28ad2340e1de8a74a139b551:-1378181296,8d3f3326e7ad2340764d1ab9a7942e8c:1020380610,1c1f33aa71ad2340b3dc1e0ffc52482f:-229541430,23aefb6602ad2340901605df02a8ad11:2139264609,b78ef76a13ad2340c823473bf8e4b224:982322409,8d911a10a82dab0026555eaefb7bb4e1:-514990455,447c8a9832e9ab000e5de401a399738a:-1401052554,87da4bc05f2deb00739084f6551fde80:2070757455,bad12680cb69eb00d6bcf55b5b584f29:720562300,deb12240df69eb003afe2361e769c24e:-189595246,cc4166cc9729eb002c7f9f5fbd69f3d9:919908363,a0155e048629eb00793e2ac25280e6da:2045517491,1c841ec0de29eb00c0efc446e9e56524:-825556646,6a445ac0b429eb00c4fc0f039de55edd:-838036529,8ef593ca3e516700ce7ed5564ffb9844:1631028292,79b553ce5351670031a6d3bac95d1af6:1611927204,d85553ce51516700eff184b6ded34cf0:-988312691,e035138ed5516700b61f33d31a7acdb5:-1897183647,29251b8ebb516700230db8cfe285b859:-1797022370,dc051b8e9e516700603b5c0ba7fdb951:233837617,28a41bcad6516700b78e61099a79bfeb:-2120010567,5d749b0ede5167008b0d09122c73b11e:373031795,89349fcabb51670000c1126d57d80cd1:-1640405927,6914970a54516700bcbb0011f449875a:-987213607,96f39fca74516700118e439ad3da957a:1225199629,2a631f0e6851670077a1009bfdb5c897:2119647932,2582d30afd516700dc330c0f38fb9010:-1359161496,0c529fca65516700db0c3661a629e872:318342205,0bd0174a525167000b65b39dac9b7fa4:-416162939,b1d0930a6e516700e2945fb4fb40fab9:-1952173543,c4c01f0aad516700cbba5727a47d1eb8:-401536929,30fc0f863f516700ef3ad342d09425c6:-1952173543,6ddccb869b516700cdc72a49565cfc80:390416766,f50a4b0690516700dd3d037b65ff982b:-2026653937,eac07242bb11670063245a818a54fa88:1241097759,724e26422d116700da343c2ae68ece25:-547131642,8f6615eb8d892f405b63b9eb9ae53aac:1241097759,1526dd6b16892f407343b81fc0167940:-1352486201,9f169d6b03892f4023689f851191beda:665176168,3594d52bbd892f40c857689f7db6cf49:-1352486201,0d0ac16fe1492f40c9bfe75cd2da4a71:-609293538,ffd9856f58492f403d8060a49fa837ef:-1973523202,ba172abd2ee75b002cd8d5825d6aacce:-609293538,3896eebd13e75b007cef99dfe13f17b9:1000042250,d51662bde8e75b008bdd3d4e5578f928:767342936,caf5aef141e75b0026384f929314081e:1063446621,44f526bdabe75b00bd4a6c05d2619da9:-689816502,118526bd65e75b00f2890478fbf377a2:-2002810223,5b2562bd89e75b0068882e4dbcc68d22:-1389337154,352422f5ebe75b00a2c386c84446e983:1208087378,17c3ee3d08e75b00dc852a6b4223a4fd:-2103767364,69fb9af525e75b005e180f9ea2f3796d:222689904,84fb1af5f5e75b00a5423e8fe03e98aa:-1410207825,2d2b12f5eee75b004ac7a922a85bc678:483322063,710bdeb58de75b00778fa8026355b141:1063212623,080b56b1cfe75b007fd3b59f137f9bb0:1332806612,a9cafa499ba39700cfecac3e7121a894:-1232289858,c01afac5dda397008ea7c0bda67b26bc:242287843,2dd8b685bda39700520d7148cb0bf033:-1289298332,8b38fe85faa397004b7f7773f711e4f2:1005474059,81b7360545a397005f44bf58577801a4:871791660,89f6fe05b0a397004d702c331f01bd83:788309330,782aab3cda2b57007ff842d32a279ab4:-398540179,0c8827f8d62b57000c95ec83c8262837:1998782636,6d3663b83b2b5700a532c8ffade3a2fd:103503850,3785ab384c2b57000b68a9688a86fe0d:892915106,7b352f38992b570034b4e084a4d724e2:-1902638799,b003e7f0622b57000c230e30921a4049:-16135549,0132ebb4c72b57005d138d70a984f3a1:-163356144,93f063b0582b5700cb8a2b866450cadd:-1742984851,00e9aaafccdf530076f9458d69583a41:648205813,3579e22712139300149458cae8cc46df:-1438615835,c6e8eea3c9139300a9687e48decc7d58:-239803667,b8e82aaf2adf53009a58d929c65030c2:1001113407,ffd866e3fb1393000a9bcb41aa3a0bca:1462884797,6288a6af29df5300ef37364ac66b2eb6:1750450441,128866e34f139300b6a2f7b30a81ccbc:-1010823324,9b2862effadf530095ff60baf1af408d:-1616497883,f128eea3a31393002c9d26e77c267250:1690659918,1a132aef58df5300658074a5f2cc4c80:737723741,cd13a6ef1bdf5300b500582e252cc92b:-780625756,87e2a6ef17df530061cb19c12d517024:737723741,01c262ef79df53001b8aa35944642084:-59064865,56a222ef5ddf53003301a503fef03450:2073932607,2732226f1bdf5300fd65d677e2e5b5cd:458404064,66126a6f50df530015d7d8c4b32bf595:773926114,58f16a6f2cdf53007d88c14fac490f8d:-540094193,02d12a6f62df5300157a4319dfff6de9:860054941,23616a6f90df530089b8646db1299e86:2076104443,c5612a6f8ddf5300838e4c8c00fd88e1:-1384431769,632126e7d8df530037eba5cf244db0f6:-1699953819,51d0ae2f36df5300180eaea3b67aba01:-1814984334,c8d02ae774df5300738af77673c4eafe:-1370709445,d9089e676bdf5300e14f12d653dfe8f5:-1222608847,a7b71e6760df5300a399cd233f02e4a9:1483428606,04b71663a2df5300c6b44bbd49707223:-549413137,a57792a301df5300e35b67324551884c:741867690,42679267d6df530016164419e7cef821:-549413137,2547dea360df530021b69441285ec612:-191868439,38c6d6a36ddf53000a4001fda6db922e:-1661116921,ec1652276edf5300aa1373a18c6dbd64:-1031397938,a795d6a345df5300b4c61f0390cd249e:-2065690512,f55596e35ddf5300941287a19cda6b45:193745330,a1f41a6372df5300ed77136f564b0c0b:-810848177,a3a41a6397df53003bfb7d072588abf2:-695582838,f5a41a639adf5300d4e879468b31ae05:1973248833,27749663d4df53002247abebaa13374b:2024130178,a324deab7a9f53002b4b2456810581b0:-1431330021,98b3d6eb209f5300243a7d6ad4604375:-466421861,4ba31a23ffdf53005f37d2bdbd2f3e59:795735163,9873d66f279f5300bc3d609c7c1ea8c4:-875598471,37f25623d7df5300da4d902b20c28724:-51627068,7de2562376df5300b8e4ae0dee502dc0:-2097943002,0b821a2371df53005c9d23b41920e851:-1109574234,0f62d623b4df53003af28bc391695825:-895904145,e032562316df53009f503102236b131c:-602934733,8fe1deab4b9f5300879ca58fe982b456:1640369573,ff71daa7d39f53004a36cd1eb04e7b46:1373912427,020d2695ad1b9300c91aedc0701d4220:2144170807,6218979fefde8300642f26ce1395ce12:-681045488,020d2695ad1b9300c91aedc0701d4220:2144170807,020d2695ad1b9300c91aedc0701d4220:2144170807,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488,6218979fefde8300642f26ce1395ce12:-681045488</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_613dc09cdb284340f59974131f96194d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, spUtil, $http) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};
	c.columns = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.tasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.tasks = c.data.tasks.sort(compareRows);
		}
	};
	//start client JS	 
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	
	window.setSelectedICPsoRow = function(id) {
		var matches = c.data.tasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.tasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
		
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'sampleTime', 'sampleConsent', 'consent_group'];
	var my_sys_id = c.data.info.my_sys_id;
	var sessionId = c.data.info.session_id;
	$scope.viewICPsoItem = function(id, ic_id){
		$('#refresh').val('0');
		var data = {
			requestedid: id	
		};
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/fetchSubmittedRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			cleanDisplayDiv();
			$('#displayICId').html(ic_id);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewICId1').empty();
			$('#commentReviewICId1').append(comment_str);
			if(comment_str.length &lt; 137){
            $('#pre_comments_ic_div').hide();
            $('#comments_ic_div').hide();
      }else{
          $('#pre_comments_ic_div').show();
          $('#comments_ic_div').hide();
      }
			resetRequestValue();
			loadSubmittedData(variables);
			 $('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;');
			 loadConsentGroupData();
			 if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
			  $('#insDiv').show();
			 }else{
					$('#insDiv').hide();
			 }				
			$('#displayICRequests').modal('show').on('shown.bs.modal', function(){$('#displayICRequests .modal-content').scrollTop(0);}); 
			$('#closeButton1').show();
			$('#sd_ic_div').hide();
			$('#submitButton1').hide();
		}
		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}			
	};
	
	function loadConsentGroupData(){
		var consentStr = $('#consent_group1').val();
	  if(consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0){
			$('#consentGrpDiv').hide();
		}else{
      getConsentGroups(consentStr);
		}
	}
	
	function getConsentGroups(consentStr){
		var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentGrp: consentStr}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
		  for(var i = 0; i &lt; result.length; i++){
				var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " ["+ result[i].data_field +"] ";
				}			  
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;"+result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier +"&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";
			  
			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	
	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;
	
	$scope.reportICPso = function(sys_id, ic_id){
		  $('#refresh').val('0');
		  $('#loading').show();
		  var req_id = sys_id;
		  var fileName = ic_id+"_sd.pdf";
		
			initialTime = new Date();
			documentInterval = setInterval(function() {
				 getDocument(req_id, fileName);
			}, 5000);		
	};
	
	function getDocument(req_id, fileName){
		  var req = {
					method: 'GET',
					url: '/api/naci/gds/getAttachmentFileID',
					beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				  params: {request_id: req_id, file_name: fileName}
			};
		  $http(req).then(handleResponse, handleError);
		  function handleResponse(response) {
				  if (new Date() - initialTime &gt; documentTimeout) {
						 window.clearInterval(documentInterval);
						 $('#loading').hide();
						 $('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
             $('#infoModal').modal('show');
             $('#btnOkConfirm').off('click').click(function() {
                 $('#infoModal').modal('hide');
             });
						return;
					}				
					var result = response.data.result;
					//hightlight right record
				  var id = result.file_id;
		      if(id != null &amp;&amp; id.trim().length &gt; 0){
							window.clearInterval(documentInterval);
				     window.location.href = '/sys_attachment.do?sys_id=' + id;
						 setTimeout(function(){}, 3000);
							  $('#loading').hide();
					}
			}
			function handleError(response) {
					window.clearInterval(documentInterval);
					console.error(response);
					alert('ERROR');
			}			
	}
	
	
	function cleanDisplayDiv(){
		$('#pre_comments_ic_div').hide();
		$('#closeButton1').hide();
		$('#comments_ic_div').hide();
		$('#submitButton1').hide();
	}
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
		}
		commentsblock = commentsblock + "&lt;/table&gt;";
		return commentsblock;
	}	
	
	function loadSubmittedData(data){
		for(key in data){
			//var value = getValue(key, data[key]);
			if(key == 'data_access'){
				if(data[key] == 'unrestricted'){
					 $("input[name=dataAccessBox1][value='unrestricted']").prop("checked",true);
				}else{
					 $("input[name=dataAccessBox1][value='controlled-access']").prop("checked",true);
				}
			}else if(key == 'display'){
				if(data[key] == 'yes'){
					 $('#displayBox1').prop('checked', true);
					 $('#controllaccessDiv1').show();
				}else{
					 $('#displayBox1').prop('checked', false);
					 $('#controllaccessDiv1').hide();
				}
			}else if(key == 'consent_group'){
				$('#'+key+"1").val(data[key]);
			}else{
				$('#'+key+"1").html(data[key]);
			}
		}		
	/*  for(key in data){
		  if(key == 'consent_group'){
			$('#'+key+"1").val(data[key]);  
		  }else{
			$('#'+key+"1").html(data[key]);
		  }
		}*/
	}
	
 function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
         $('#'+names[i] + "1").html('');
    }
  }	
	
	spUtil.recordWatch($scope, "sc_req_item", "", function(name, data) {  
			spUtil.update($scope);
	});
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&amp;#13;
&amp;#13;
.overlay {&amp;#13;
  position: fixed; &amp;#13;
  width: 100%; &amp;#13;
  height: 100vh; &amp;#13;
  background-color: white; &amp;#13;
  opacity: 0.9; &amp;#13;
  z-index: 9999; &amp;#13;
  top: 0; &amp;#13;
  left: 0;&amp;#13;
  &amp;#13;
  display: flex;&amp;#13;
  align-items: center;&amp;#13;
  justify-content: center;&amp;#13;
  flex-direction: column;&amp;#13;
}&amp;#13;
&amp;#13;
.spinner {&amp;#13;
  animation: spin 2s infinite linear;&amp;#13;
}&amp;#13;
&amp;#13;
/** spin animation */&amp;#13;
@keyframes spin {&amp;#13;
  from {&amp;#13;
    transform: rotate(0deg);&amp;#13;
  }&amp;#13;
&amp;#13;
  to {&amp;#13;
    transform: rotate(359deg);&amp;#13;
  }&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gpit&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS PSO IC table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.info = []; 
	data.tasks = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.info.session_id = session_id;
	data.info.my_sys_id = my_sys_id;
	var gr = gs.getUser();
	var isPSO = gr.isMemberOf('CCR_PSO');
	
	var gr1 = new GlideRecord("sc_cat_item");
			gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
			gr1.query();	
			gr1.next();
	var cat_item_id = gr1.getValue('sys_id');
	
	if(isPSO){
	   var gr_requested_items = new GlideRecord('sc_req_item');
     var gd_requested_items = gr_requested_items.addQuery('context.stage.name', 'Completed');
     var gc_requested_items = gr_requested_items.addQuery('cat_item', cat_item_id);
         gr_requested_items.addActiveQuery();
         gr_requested_items.orderByDesc('number');
         gr_requested_items.query();		
		
		 while (gr_requested_items.next()){
         var orginId = '';
         var tickerNum = '';
         var org_ticket_num = '';
         var version = '';
         var hasParent = '';
         var selectedOrginId = '';
                      
         selectedOrginId = gr_requested_items.contact_type;
                      
         if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web'){
              orginId = gr_requested_items.sys_id;
              org_ticket_num = gr_requested_items.number;
              hasParent = 'false';
          }else{
              var orgIds = selectedOrginId.split("=");
              var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
              gr_tracking_item.addQuery('u_orgid',orgIds[0]);
              gr_tracking_item.query();

              if(gr_tracking_item.getRowCount() &gt; 0){
                  gr_tracking_item.next();
                  orginId = gr_tracking_item.u_orgid;
                  org_ticket_num = gr_tracking_item.u_ticket_number;
                  version = orgIds[1];
                  hasParent = 'true';
               }else {
                  orginId = gr_requested_items.sys_id;
                  org_ticket_num = gr_requested_items.number;
                  hasParent = 'false';
						   }
          }		
          if(hasParent == 'true'){
               ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
          }else{
               ticketNum = 'CCR_IC' + org_ticket_num.substring(8);
          } 
			
					var items = {};
			    items.sys_id = gr_requested_items.sys_id.toString();
					items.ic_id = ticketNum;
			    items.number = 'CCR_IC' + gr_requested_items.number.toString().substring(8);
					items.study_name = gr_requested_items.variables.study_name.toString();		 
					items.project_title = gr_requested_items.variables.project_title.toString();
					items.status = gr_requested_items.context.stage.name.toString();
					items.approval = gr_requested_items.context.stage.name.toString();
					items.submitted_date = gr_requested_items.sys_created_on.toString();
					data.tasks.push(items);
		 }
		
	}

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 18:21:47&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;613dc09cdb284340f59974131f96194d&lt;/sys_id&gt;&lt;sys_mod_count&gt;65&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS PSO IC table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_613dc09cdb284340f59974131f96194d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-17 22:32:59&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div class="panel panel-success panel-area" ng-show="c.data.tasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_psoICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsepsoICItems" aria-expanded="true" data-target="#collapsepsoICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Approved Institutional Certifications &lt;span class="badge" id="ritm_count"&gt;{{ c.data.tasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_psoICItems" class="panel-collapse collapse in table-responsive" id="collapsepsoICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="6"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_completedIC" class="label-hidden"&gt;Search:&lt;/label&gt;
          		&lt;input id="search_completedIC" type="text" class="form-control1" ng-model="searchCompletedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt; 
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.tasks | filter: searchCompletedIC"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id="{{row.sys_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="viewICPsoItem(row.sys_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="reportICPso(row.sys_id, row.number)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize13"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize13" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
          &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
      &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.tasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-431719741</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>1e8b77dfdbcb2f00b86770c08c961971</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167be4d0b140000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS PSO IC table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>ca5b9ffb55d6ef007b6122f9f6fe0c94</update_guid>
<update_guid_history>ca5b9ffb55d6ef007b6122f9f6fe0c94:-431719741,684b1b3f0cd6ef00f3372431644b0746:-1785746013,1b3f15ab343d670039580b1cc000aded:472696791,271f55abfb3d6700fced3c06454b5c83:562734645,eb0fd1abc53d6700c5c5ace08ed564c6:-571641156,017362972229a3402c62a090b8e0f6c0:-1104955575,7704ffc10aa7970004a977ca8d27965d:-1607160524,78e0f7cd0e679700a3493cbeb330a34b:-121775579,6227af09d0679700f999248b01e0220f:-253718555,d7e45fb833e75700bc2fe3ab14f3547f:346672007,fd3d07b08be757000221d9389fca573d:1770923849,083d8bb0b1e75700abfcc3a367d855de:-580518833,222dc3b03ae757001e7034bec6e69780:794038702,e883ea303b6757000140e71018253c18:1625985298,a7c755e30f1f530000decb14c6d9d9eb:2034289753,efc89883432e1f00ace0ed94b63e2283:-1125871981,6ac713bed0859b00090ca108e86760c6:-147772899,efc89883432e1f00ace0ed94b63e2283:-1125871981,efc89883432e1f00ace0ed94b63e2283:-1125871981,6ac713bed0859b00090ca108e86760c6:-147772899,a6dbddc3977413002aea15d9fd9a0fca:-257298550,99db5dc3ff74130074e3c77376e2ff15:-1707730583,e7cbddc3bd741300d6db094caafc2c5c:-721570836,0ecb11430a741300d073040aa9ab70ef:-1617660237,93ab9dc35f741300ea3638ab3996a916:400443409,e18b59c3ad7413006914e3d196498e83:2125225104,655bd9c36a74130039d5f9924b20a76c:2108779014,b53b99c399741300e3e02f19502a205a:151901875,271b59c3ca74130028983a2f4ffbb67b:1201251063,ce0a8dfddc67cf005704b51e44c6ac12:-1686389227,ac49fd0eeb624700f77ef3d0ab5401b1:492507980,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035,9a18979f9ede8300c812c13f1ece7406:-1572824035</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_application_b6ff349edb9e2f0054d8ff621f961929</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_application"><sys_app_application action="INSERT_OR_UPDATE"><active>true</active><category display_value="Custom Applications">e0355b31ef303000a61d5a3615c0fb78</category><description/><device_type>browser</device_type><hint/><name>GDS Tissue Protocals</name><order>100</order><roles>u_gds_tissue_protocals_user</roles><sys_class_name>sys_app_application</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>b6ff349edb9e2f0054d8ff621f961929</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocals</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_application_b6ff349edb9e2f0054d8ff621f961929</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><title>GDS Tissue Protocals</title><view_name/></sys_app_application></record_update>]]></payload>
<payload_hash>498178065</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>1e8bbbdfdbcb2f00b86770c08c961904</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3df92050000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS Tissue Protocals</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>32ff349eaa9e2f00b96298fcf7f6eb2b</update_guid>
<update_guid_history>32ff349eaa9e2f00b96298fcf7f6eb2b:498178065</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_gds_tissue_protocols_null</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="" table="u_gds_tissue_protocols"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label/><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element/><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="Collection">collection</internal_type><mandatory>false</mandatory><max_length>40</max_length><name>u_gds_tissue_protocols</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>8b408d9edb9e2f0054d8ff621f96199d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_gds_tissue_protocols_null</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>-6615885</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>228bbbdfdbcb2f00b86770c08c961907</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d6030000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>cf408d9e4b9e2f0022cdb0003b5270bb</update_guid>
<update_guid_history>cf408d9e4b9e2f0022cdb0003b5270bb:-6615885</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_ff27f666dbe9234054d8ff621f961924</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>getBranch</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>getGDSBranchName [ getBranch ]</qualified_name><rest_endpoint>https://userinfo-dev.nci.nih.gov/api/org/org-path/${id}</rest_endpoint><rest_message display_value="getGDSBranchName">b6b67266dbe9234054d8ff621f96197c</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 15:55:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>ff27f666dbe9234054d8ff621f961924</sys_id><sys_mod_count>14</sys_mod_count><sys_name>getBranch</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_ff27f666dbe9234054d8ff621f961924</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-14 18:38:25</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server display_value="CBIITBiz MidServer">da712e43db490700f59974131f9619a2</use_mid_server><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<payload_hash>516207121</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>228bbbdfdbcb2f00b86770c08c96190a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167138470e50000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>getBranch</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_guid>6439605534b5230096dd765874836b70</update_guid>
<update_guid_history>6439605534b5230096dd765874836b70:516207121,fd927aefcf61674043c2730514fe3616:-957803578,79492b6ab96d23401ea110c27bcbe450:516207121,ae586b2ae26d234016664ee5b9677455:-2028820535,dce7eb2ad56d2340de20592b40293401:-1245622948,eefabee619e923408494e8da49d6c38c:-2028820535,620abaa6fbe923405d19853e96e9425f:-1245622948,ffd9f6a63de92340bef8abd76f1934cc:-111830438,2039f6a60be92340589ada082fd8c13c:981968354,57d8f6a6d7e92340dda36df8e2b0ff31:-835029227,3bb8f2a6c3e92340f9ee51a01df6ad10:-1182490830,0f78be66ece92340ac2b211f76e057c3:-835029227,8cd776e24ee9234095a3f2f9a27e1678:-1889223630,ff577266dee92340901e34b1123f0e60:-1026765365,3327f666b8e923403dc03e7f4ccbaf26:-382426726</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_7b59ee8edbdd270054d8ff621f961925</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_ccr_gds_z_list_table</description><name>u_ccr_gds_z_list_table</name><operation display_value="delete">delete</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>7b59ee8edbdd270054d8ff621f961925</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_7b59ee8edbdd270054d8ff621f961925</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:29</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-666715410</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>228bbbdfdbcb2f00b86770c08c96190d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185238a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>b359ee8e72dd27003cabbd69628dbf2a</update_guid>
<update_guid_history>b359ee8e72dd27003cabbd69628dbf2a:-666715410</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_bf59ee8edbdd270054d8ff621f961901</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>bf59ee8edbdd270054d8ff621f961901</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_ccr_gds_z_list_table">7b59ae8edbdd270054d8ff621f9619e3</sys_security_acl><sys_update_name>sys_security_acl_role_bf59ee8edbdd270054d8ff621f961901</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><sys_user_role display_value="u_ccr_gds_z_list_table_user" name="u_ccr_gds_z_list_table_user">af592ecadbdd270054d8ff621f9619d6</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>1664513824</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>228bbbdfdbcb2f00b86770c08c961910</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18522c50000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>fb59ee8edcdd2700033e2838ee004103</update_guid>
<update_guid_history>fb59ee8edcdd2700033e2838ee004103:1664513824</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_ca19d156db126f0054d8ff621f9619b0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;fetchTissueContent&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
   var content = ""; 
   var item = new GlideRecord('u_gds_tissue_protocols');
	   item.orderBy('u_protocol_number');
	   item.query();
	var protocols = [];
	
	while(item.next()){
		protocols.push({
			number: item.getDisplayValue('u_protocol_number'),
			name: item.getDisplayValue('u_protocol_name'),
			branch: item.getDisplayValue('u_protocol_branch')
		});
	}
   return protocols;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/fetchTissueContent&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/fetchTissueContent&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-12 21:16:59&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;ca19d156db126f0054d8ff621f9619b0&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;fetchTissueContent&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_ca19d156db126f0054d8ff621f9619b0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-18 21:47:15&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1118719840</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>228bbbdfdbcb2f00b86770c08c961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167c34987790000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>fetchTissueContent</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>b97a9cd0f2e223404e23a8a1d13027e4</update_guid>
<update_guid_history>b97a9cd0f2e223404e23a8a1d13027e4:1118719840,a5082d168d526f00d923fc7b323e2f39:1949123547,4cb1255e77126f001a4af22460c61fae:924170412,5c2f9d5e95126f00271b7d771b0c0634:483875311,cdce5d1e7e126f00b9deffefef6ff86d:-563141728,2f5cd11a5c126f002d21408ab98eae72:1012347390,b96b191add126f00b41bfddf9bd6b049:-378790985,5c0a15d69c126f005d1fb01039bd8806:664850345</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_ccr_gds_z_list_table_u_ned_id</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="u_ned_id" table="u_ccr_gds_z_list_table"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label>NED ID</column_label><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element>u_ned_id</element><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="String">string</internal_type><mandatory>false</mandatory><max_length>50</max_length><name>u_ccr_gds_z_list_table</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:23:15</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>fd7962cedbdd270054d8ff621f9619a1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>NED ID</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_ccr_gds_z_list_table_u_ned_id</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:23:15</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>907525221</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>268bbbdfdbcb2f00b86770c08c961906</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185d8170000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table.NED ID</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>4b89a2ce15dd270098e137bac98354bd</update_guid>
<update_guid_history>4b89a2ce15dd270098e137bac98354bd:907525221</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_gds_tissue_protocols__en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="" label="GDS Tissue Protocols" language="en" table="u_gds_tissue_protocols"><sys_documentation action="INSERT_OR_UPDATE"><element/><help/><hint/><label>GDS Tissue Protocols</label><language>en</language><name>u_gds_tissue_protocols</name><plural>GDS Tissue Protocols</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:40</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>87408d9edb9e2f0054d8ff621f9619b0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_gds_tissue_protocols__en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:40</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-269838678</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>268bbbdfdbcb2f00b86770c08c961909</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d6130000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>83408d9e429e2f0007a9dab2f93d5cbd</update_guid>
<update_guid_history>83408d9e429e2f0007a9dab2f93d5cbd:-269838678</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_3aff749edb9e2f0054d8ff621f961966</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="DELETE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocals</description><name>u_gds_tissue_protocals</name><operation display_value="read">read</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>3aff749edb9e2f0054d8ff621f961966</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_3aff749edb9e2f0054d8ff621f961966</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>1483231200</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>268bbbdfdbcb2f00b86770c08c96190c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e017fa0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>u_gds_tissue_protocals</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>0310499e4a9e2f000ec312cf9b296169</update_guid>
<update_guid_history>0310499e4a9e2f000ec312cf9b296169:1483231200,72ff749e839e2f009cbfaba72531416b:-1007188884</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_72408d9edb9e2f0054d8ff621f961959</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>72408d9edb9e2f0054d8ff621f961959</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_gds_tissue_protocols">ba408d9edb9e2f0054d8ff621f961953</sys_security_acl><sys_update_name>sys_security_acl_role_72408d9edb9e2f0054d8ff621f961959</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocols_user" name="u_gds_tissue_protocols_user">76408d9edb9e2f0054d8ff621f96193d</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1079588275</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>268bbbdfdbcb2f00b86770c08c96190f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d3d50000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>be408d9e599e2f00041b32e8f7a1c85a</update_guid>
<update_guid_history>be408d9e599e2f00041b32e8f7a1c85a:-1079588275</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_user_role_76408d9edb9e2f0054d8ff621f96193d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role"><sys_user_role action="INSERT_OR_UPDATE"><assignable_by/><can_delegate>true</can_delegate><description/><elevated_privilege>false</elevated_privilege><grantable>true</grantable><includes_roles/><name>u_gds_tissue_protocols_user</name><scoped_admin>false</scoped_admin><suffix/><sys_class_name>sys_user_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>76408d9edb9e2f0054d8ff621f96193d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_user_role_76408d9edb9e2f0054d8ff621f96193d</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on></sys_user_role></record_update>]]></payload>
<payload_hash>-342072265</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>268bbbdfdbcb2f00b86770c08c961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d22e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>u_gds_tissue_protocols_user</target_name>
<type>Role</type>
<update_domain>global</update_domain>
<update_guid>fe408d9e7b9e2f007335faf05beb443f</update_guid>
<update_guid_history>fe408d9e7b9e2f007335faf05beb443f:-342072265</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_3213d27bdb737200f59974131f96191c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;getProjectGDSPInformation&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
      var projectId = request.queryParams.projectId.toString();
	  var my_sys_id = request.queryParams.mySysId.toString();
	  //var parentId = request.queryParams.parentId.toString();
	  var prefix = 'NCI-RITM';
	  var gdsps = [];
     
	  var project_id = projectId.split(",");
	  if(project_id == null || project_id.length == 0){
		  return gdsps;
	  }else{
		  for(var k = 0; k &lt; project_id.length; k++){
			  if(project_id[k] != null &amp;&amp; project_id[k].length &gt; 0){
				  project_id[k] = project_id[k].trim();
			  } 
              if(project_id[k].indexOf("-") &gt; 0){
				  var temp = project_id[k].split("-");
				  var tracking_item = new GlideRecord("u_ccr_tracking_t");
				  temp[0] = prefix + temp[0].substring(8);
				  tracking_item.addQuery('u_ticket_number', temp[0]);
				  tracking_item.query();
				  tracking_item.next();
				  var orgId = tracking_item.u_orgid.toString();
				  var sc_req_item = new GlideRecord('sc_req_item');
				  sc_req_item.addQuery('contact_type', orgId + "=" + temp[1]);
				  sc_req_item.query();
				  sc_req_item.next();
				  var id = sc_req_item.number.toString();
				  project_id[k] = id;
			  }else{
				  project_id[k] = prefix + project_id[k].substring(8);
			  }
		  }
		  
		  var gr_requested_items = new GlideRecord('sc_req_item');
		  var gd_requested_items = '';
          for(var i = 0; i &lt; project_id.length; i++){
			  if(i == 0){
				   gd_requested_items = gr_requested_items.addQuery('number', project_id[i]);
			  }else{
				  gd_requested_items.addOrCondition('number', project_id[i]);
			  }
		  }
		  //gr_requested_items.addQuery('request.opened_by', my_sys_id);
		  gr_requested_items.addActiveQuery();
		  gr_requested_items.orderByDesc('number');
		  gr_requested_items.query();
			while (gr_requested_items.next()){
					var orginId = '';
					var tickerNum = '';
					var org_ticket_num = '';
					var version = '';
					var hasParent = '';
					var selectedOrginId = '';	

					selectedOrginId = gr_requested_items.contact_type;

			  if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
					orginId = gr_requested_items.sys_id;
					org_ticket_num = gr_requested_items.number;
					hasParent = 'false';
			   }else{
					var orgIds = selectedOrginId.split("=");
					var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
										gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						gr_tracking_item.query();

						if(gr_tracking_item.getRowCount() &gt; 0){
							 gr_tracking_item.next();
							 orginId = gr_tracking_item.u_orgid;
							 org_ticket_num = gr_tracking_item.u_ticket_number;
							 version = orgIds[1];
							 hasParent = 'true';
						 }else {
							 orginId = gr_requested_items.sys_id;
							 org_ticket_num = gr_requested_items.number;
							 hasParent = 'false';
											}
			   }		
			   if(hasParent == 'true'){
					ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
			   }else{
					ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);
			   }		

					 var items= {};
				   items.sys_id = gr_requested_items.sys_id.toString();
				   items.gdsp_id = ticketNum;
				   items.principal_name = gr_requested_items.u_investigator.toString();
				   items.project_name = gr_requested_items.u_project_name.toString();
				   items.status = gr_requested_items.context.stage.name.toString(); 
				   items.approval = gr_requested_items.context.stage.name.toString();
				   items.submitted_date = gr_requested_items.sys_created_on.toString();
				   items.orginId = orginId.toString();
				   items.org_ticket_num = org_ticket_num.toString();
				   gdsps.push(items);	
			}
	  }
	
	
	//get parent GDSP
/*	var pid = [];
	if(parentId != null){
		var gr = new GlideRecord('u_software_solution_gds_project_information');
		gr.addQuery('u_number', 'IN', parentId);
		gr.query();
		while(gr.next()){
			var status = gr.getDisplayValue('u_gdsp_status');
			 var myItem = status.split(',');
			 for(var j = 0; j &lt; myItem.length; j++){
				pid.push(myItem[j].trim());
			 }    		
		}
	
		for(var k = 0; k &lt; pid.length; k++){
			gs.warn("PID: " + pid[k]);
			if(pid[k] != null &amp;&amp; pid[k].length &gt; 0){
			  pid[k] = pid[k].trim();
			} 
            if(pid[k].indexOf("-") &gt; 0){
			  var temp = pid[k].split("-");
			  var tracking_item = new GlideRecord("u_ccr_tracking_t");
			  temp[0] = prefix + temp[0].substring(8);
			  tracking_item.addQuery('u_ticket_number', temp[0]);
			  tracking_item.query();
			  tracking_item.next();
			  var orgId = tracking_item.u_orgid.toString();
			  var sc_req_item = new GlideRecord('sc_req_item');
			  sc_req_item.addQuery('contact_type', orgId + "=" + temp[1]);
			  sc_req_item.query();
			  sc_req_item.next();
			  var id = sc_req_item.number.toString();
			  pid[k] = id;
			}else{
			  pid[k] = prefix + pid[k].substring(8);
			}
		  }
		 
		  var gr_requested_items = new GlideRecord('sc_req_item');
		  var gd_requested_items = '';
          for(var i = 0; i &lt; pid.length; i++){
			  gs.warn("query pid: " + pid[i]);
			  if(i == 0){
				   gd_requested_items = gr_requested_items.addQuery('number', pid[i]);
			  }else{
				  gd_requested_items.addOrCondition('number', pid[i]);
			  }
		  }
		  //gr_requested_items.addQuery('request.opened_by', my_sys_id);
		  gr_requested_items.addActiveQuery();
		  gr_requested_items.orderByDesc('number');
		  gr_requested_items.query();
		  while (gr_requested_items.next()){
					var orginId = '';
					var tickerNum = '';
					var org_ticket_num = '';
					var version = '';
					var hasParent = '';
					var selectedOrginId = '';	

					selectedOrginId = gr_requested_items.contact_type;

			  if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
					orginId = gr_requested_items.sys_id;
					org_ticket_num = gr_requested_items.number;
					hasParent = 'false';
			   }else{
					var orgIds = selectedOrginId.split("=");
					var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
										gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						gr_tracking_item.query();

						if(gr_tracking_item.getRowCount() &gt; 0){
							 gr_tracking_item.next();
							 orginId = gr_tracking_item.u_orgid;
							 org_ticket_num = gr_tracking_item.u_ticket_number;
							 version = orgIds[1];
							 hasParent = 'true';
						 }else {
							 orginId = gr_requested_items.sys_id;
							 org_ticket_num = gr_requested_items.number;
							 hasParent = 'false';
						}
			   }		
			   if(hasParent == 'true'){
					ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
			   }else{
					ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);
			   }		

				   var items= {};
				   items.sys_id = gr_requested_items.sys_id.toString();
				   items.gdsp_id = ticketNum;
				   items.principal_name = gr_requested_items.u_investigator.toString();
				   items.project_name = gr_requested_items.u_project_name.toString();
				   items.status = gr_requested_items.context.stage.name.toString(); 
				   items.approval = gr_requested_items.context.stage.name.toString();
				   items.submitted_date = gr_requested_items.sys_created_on.toString();
				   items.orginId = orginId.toString();
				   items.org_ticket_num = org_ticket_num.toString();
				   items.access = 'read_only';
				   gdsps.push(items);	
			}		
	}
*/
	return gdsps;
    
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/getProjectGDSPInformation&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/getProjectGDSPInformation&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-07-13 18:18:11&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;3213d27bdb737200f59974131f96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;38&lt;/sys_mod_count&gt;&lt;sys_name&gt;getProjectGDSPInformation&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_3213d27bdb737200f59974131f96191c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-12 16:14:38&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-830986900</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>268bbbdfdbcb2f00b86770c08c961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a332daf70000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>getProjectGDSPInformation</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>d7c49012475e2f00b031eda8e58cdb3a</update_guid>
<update_guid_history>d7c49012475e2f00b031eda8e58cdb3a:-830986900,44b4589e291e2f000ea97be59c6c73f8:1555589708,6ff795609c9d1f00036c3c7abbb32817:1211027436,6ff795609c9d1f00036c3c7abbb32817:1211027436,6ff795609c9d1f00036c3c7abbb32817:1211027436,6c2f45a0e55d1f009a5ed1141c803bc6:1020402672,2d4001a0325d1f0034257fae534a8f81:-1277458871,9dbf7c60f45d1f009c59e8e9f62e2f1d:1217393641,ba6e3820e95d1f00d13101166b17e4c0:-587478062,835e3820f45d1f00a43fa94190dd0021:1588797165,232e3820c55d1f00ec31d78b5f50bd2b:161894612,4d5c7020aa5d1f0071ebfcbcc7676116:-1756975071,7b2cb020285d1f001cdfda3c126d3ab3:-1250650075,2094781f7b8d5b0087468aadf9731506:120928505,747360930a8d5b007f22bf98f80d1b31:-1261567041,c11b101a717e03008fc6e27d432ae217:-803937323,4f18979f23de83004a29d2447a8397da:1191384519,4f18979f23de83004a29d2447a8397da:1191384519,4f18979f23de83004a29d2447a8397da:1191384519</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_db_object_71496e8edbdd270054d8ff621f961968</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_db_object"><sys_db_object action="INSERT_OR_UPDATE"><access>public</access><actions_access>false</actions_access><alter_access>false</alter_access><client_scripts_access>false</client_scripts_access><configuration_access>false</configuration_access><create_access>false</create_access><create_access_controls>true</create_access_controls><delete_access>false</delete_access><extension_model/><is_extendable>false</is_extendable><label>CCR GDS Z List Table</label><live_feed_enabled>false</live_feed_enabled><name>u_ccr_gds_z_list_table</name><number_ref/><provider_class/><read_access>true</read_access><super_class/><sys_class_code/><sys_class_name>sys_db_object</sys_class_name><sys_class_path/><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>71496e8edbdd270054d8ff621f961968</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCR GDS Z List Table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_db_object_71496e8edbdd270054d8ff621f961968</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><update_access>false</update_access><user_role display_value="u_ccr_gds_z_list_table_user" name="u_ccr_gds_z_list_table_user">af592ecadbdd270054d8ff621f9619d6</user_role><ws_access>true</ws_access></sys_db_object></record_update>]]></payload>
<payload_hash>-572398240</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>2a8bbbdfdbcb2f00b86770c08c961905</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185257e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table</target_name>
<type>Table</type>
<update_domain>global</update_domain>
<update_guid>b759ee8e9ddd2700a4fc1c036b651467</update_guid>
<update_guid_history>b759ee8e9ddd2700a4fc1c036b651467:-572398240</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_gds_tissue_protocals__en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation action="DELETE" element="" label="GDS Tissue Protocals" language="en" table="u_gds_tissue_protocals"><sys_documentation action="DELETE"><element/><help/><hint/><label>GDS Tissue Protocals</label><language>en</language><name>u_gds_tissue_protocals</name><plural>GDS Tissue Protocals</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:18</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>8bff749edb9e2f0054d8ff621f9619aa</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_gds_tissue_protocals__en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:18</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1602612742</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2a8bbbdfdbcb2f00b86770c08c961908</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e014500000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>u_gds_tissue_protocals</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>c710499ea39e2f00e340decbb54c1539</update_guid>
<update_guid_history>c710499ea39e2f00e340decbb54c1539:-1602612742,0fff749ec49e2f007fe0ffa0f525f6d0:-1217088790</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_headers_acd774e6db11a70054d8ff621f9619d1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_headers"><sys_rest_message_headers action="INSERT_OR_UPDATE"><name>Content-Type</name><rest_message display_value="Z List retrieval">4ea86822db11a70054d8ff621f961993</rest_message><sys_class_name>sys_rest_message_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-24 20:23:51</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>acd774e6db11a70054d8ff621f9619d1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Content-Type</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_headers_acd774e6db11a70054d8ff621f9619d1</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-24 20:23:51</sys_updated_on><value>application/json</value></sys_rest_message_headers></record_update>]]></payload>
<payload_hash>1707231223</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2a8bbbdfdbcb2f00b86770c08c96190b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a7bf69890000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Content-Type</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>90f770ae2411a700bb74e98410027cb2</update_guid>
<update_guid_history>90f770ae2411a700bb74e98410027cb2:1707231223</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_0bff749edb9e2f0054d8ff621f9619a1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="DELETE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>0bff749edb9e2f0054d8ff621f9619a1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="">baff749edb9e2f0054d8ff621f96198f</sys_security_acl><sys_update_name>sys_security_acl_role_0bff749edb9e2f0054d8ff621f9619a1</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocals_user" name="u_gds_tissue_protocals_user">7aff349edb9e2f0054d8ff621f961920</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1835925727</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2a8bbbdfdbcb2f00b86770c08c96190e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e016db0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>baff749edb9e2f0054d8ff621f96198f</table>
<target_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>8f10499e0c9e2f00b9ecf2daeef3c54b</update_guid>
<update_guid_history>8f10499e0c9e2f00b9ecf2daeef3c54b:-1835925727,47ff749ebd9e2f00357cb61e91f178a3:37680019</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_module_a359ae8edbdd270054d8ff621f9619d7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_module"><sys_ui_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="CCR GDS Z List Table">af59ae8edbdd270054d8ff621f9619d4</application><filter/><name>CCR GDS Z List Tables</name><order/><path/><path_relative_to_root>false</path_relative_to_root><roles>u_ccr_gds_z_list_table_user</roles><sys_class_name>sys_ui_module</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>a359ae8edbdd270054d8ff621f9619d7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCR GDS Z List Tables</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_module_a359ae8edbdd270054d8ff621f9619d7</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><table>u_ccr_gds_z_list_table</table><uncancelable>false</uncancelable><view_name/></sys_ui_module></record_update>]]></payload>
<payload_hash>70625217</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2a8bbbdfdbcb2f00b86770c08c961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18521840000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Tables</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>ab59ae8e90dd270079ce8c29bbc552d8</update_guid>
<update_guid_history>ab59ae8e90dd270079ce8c29bbc552d8:70625217</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>wf_workflow_573922a0db82f60054d8ff621f961994</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="wf_workflow_version"&gt;&lt;wf_workflow_version action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;activity_stages&gt;{"ends":["00c972f4dbae6340b86770c08c9619ed"],"activities":{"04c9f2f4dbae6340b86770c08c961906":"48c972f4dbae6340b86770c08c9619e7","d4c9f2f4dbae6340b86770c08c961917":"ccc972f4dbae6340b86770c08c9619e7","90c9f2f4dbae6340b86770c08c961927":"4cc972f4dbae6340b86770c08c9619e7","10c9f2f4dbae6340b86770c08c961922":"c8c972f4dbae6340b86770c08c9619e7","c0c9f2f4dbae6340b86770c08c96190f":"4cc972f4dbae6340b86770c08c9619e7","10c9f2f4dbae6340b86770c08c961915":"c0c972f4dbae6340b86770c08c9619e8","48c972f4dbae6340b86770c08c9619ed":"ccc972f4dbae6340b86770c08c9619e7","10c9f2f4dbae6340b86770c08c961928":"4cc972f4dbae6340b86770c08c9619e7","c0c972f4dbae6340b86770c08c9619eb":"44c972f4dbae6340b86770c08c9619e8","d0c9f2f4dbae6340b86770c08c961920":"44c972f4dbae6340b86770c08c9619e8","14c9f2f4dbae6340b86770c08c961919":"48c972f4dbae6340b86770c08c9619e7","80c9f2f4dbae6340b86770c08c961914":"c0c972f4dbae6340b86770c08c9619e8","94c9f2f4dbae6340b86770c08c96191e":"c8c972f4dbae6340b86770c08c9619e7","00c9f2f4dbae6340b86770c08c96190a":"40c972f4dbae6340b86770c08c9619e8","40c972f4dbae6340b86770c08c9619e9":"c8c972f4dbae6340b86770c08c9619e7","9cc9f2f4dbae6340b86770c08c961929":"c4c972f4dbae6340b86770c08c9619e8","18c9f2f4dbae6340b86770c08c96192b":"c8c972f4dbae6340b86770c08c9619e7","80c9f2f4dbae6340b86770c08c961908":"c0c972f4dbae6340b86770c08c9619e8","84c9f2f4dbae6340b86770c08c961904":"4cc972f4dbae6340b86770c08c9619e7"},"subflows":[],"stages":{"c4c972f4dbae6340b86770c08c9619e8":{"order":100,"duration":"","stageId":"c4c972f4dbae6340b86770c08c9619e8","name":"PI Submitted","value":"pi_submitted"},"ccc972f4dbae6340b86770c08c9619e7":{"order":100,"duration":"","stageId":"ccc972f4dbae6340b86770c08c9619e7","name":"Wait for PI to Sign","value":"wait_for_pi_signature"},"40c972f4dbae6340b86770c08c9619e8":{"order":100,"duration":"","stageId":"40c972f4dbae6340b86770c08c9619e8","name":"Waiting for GPA Review - SD Rejected","value":"sd_rejected_gpa_review"},"4cc972f4dbae6340b86770c08c9619e7":{"order":100,"duration":"","stageId":"4cc972f4dbae6340b86770c08c9619e7","name":"Completed","value":"Completed"},"44c972f4dbae6340b86770c08c9619e8":{"order":100,"duration":"","stageId":"44c972f4dbae6340b86770c08c9619e8","name":"SD Rejected","value":"sd_rejected"},"48c972f4dbae6340b86770c08c9619e7":{"order":100,"duration":"","stageId":"48c972f4dbae6340b86770c08c9619e7","name":"Waiting for SD Review","value":"SD_review"},"c0c972f4dbae6340b86770c08c9619e8":{"order":100,"duration":"","stageId":"c0c972f4dbae6340b86770c08c9619e8","name":"Waiting for PI Resubmit","value":"pi_resubmit"},"c8c972f4dbae6340b86770c08c9619e7":{"order":100,"duration":"","stageId":"c8c972f4dbae6340b86770c08c9619e7","name":"Waiting for GPA Review","value":"gpa_review"}}}&lt;/activity_stages&gt;&lt;after_business_rules&gt;false&lt;/after_business_rules&gt;&lt;checked_out/&gt;&lt;checked_out_by/&gt;&lt;column_renderer display_value="Workflow-driven"&gt;a56213111b030100adca1e094f0713ac&lt;/column_renderer&gt;&lt;condition/&gt;&lt;condition_type&gt;run_match&lt;/condition_type&gt;&lt;description&gt;This is the workflow for GDS Intramural Submission Certification &lt;/description&gt;&lt;expected_sequences&gt;1cc9f2f4dbae6340b86770c08c961916,9cc9f2f4dbae6340b86770c08c961929,94c9f2f4dbae6340b86770c08c96191e,40c972f4dbae6340b86770c08c9619e9,10c9f2f4dbae6340b86770c08c961922,84c9f2f4dbae6340b86770c08c961910,04c9f2f4dbae6340b86770c08c961906,18c9f2f4dbae6340b86770c08c96192b,14c9f2f4dbae6340b86770c08c961919,c0c9f2f4dbae6340b86770c08c96190f,84c9f2f4dbae6340b86770c08c961904,10c9f2f4dbae6340b86770c08c961928,90c9f2f4dbae6340b86770c08c961927,00c972f4dbae6340b86770c08c9619ed&lt;/expected_sequences&gt;&lt;expected_time&gt;1970-01-01 14:00:00&lt;/expected_time&gt;&lt;expected_time_type/&gt;&lt;full_sequences&gt;1cc9f2f4dbae6340b86770c08c961916,9cc9f2f4dbae6340b86770c08c961929,94c9f2f4dbae6340b86770c08c96191e,d4c9f2f4dbae6340b86770c08c961917,40c972f4dbae6340b86770c08c9619e9,48c972f4dbae6340b86770c08c9619ed,10c9f2f4dbae6340b86770c08c961922,84c9f2f4dbae6340b86770c08c961910,80c9f2f4dbae6340b86770c08c961908,04c9f2f4dbae6340b86770c08c961906,10c9f2f4dbae6340b86770c08c961915,18c9f2f4dbae6340b86770c08c96192b,80c9f2f4dbae6340b86770c08c961914,14c9f2f4dbae6340b86770c08c961919,00c972f4dbae6340b86770c08c9619ed,c0c9f2f4dbae6340b86770c08c96190f,d0c9f2f4dbae6340b86770c08c961920,84c9f2f4dbae6340b86770c08c961904,c0c972f4dbae6340b86770c08c9619eb,10c9f2f4dbae6340b86770c08c961928,00c9f2f4dbae6340b86770c08c96190a,90c9f2f4dbae6340b86770c08c961927&lt;/full_sequences&gt;&lt;journal/&gt;&lt;max_activity_count&gt;100&lt;/max_activity_count&gt;&lt;name&gt;GDS IC workflow&lt;/name&gt;&lt;not_cacheable&gt;false&lt;/not_cacheable&gt;&lt;on_cancel&gt;&lt;![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]&gt;&lt;/on_cancel&gt;&lt;order&gt;100&lt;/order&gt;&lt;pin_type&gt;set_by_activity&lt;/pin_type&gt;&lt;published&gt;true&lt;/published&gt;&lt;relative_duration/&gt;&lt;requires_ert&gt;true&lt;/requires_ert&gt;&lt;run_multiple&gt;false&lt;/run_multiple&gt;&lt;schedule/&gt;&lt;stage_field/&gt;&lt;stage_order&gt;computed&lt;/stage_order&gt;&lt;start display_value="Begin"&gt;1cc9f2f4dbae6340b86770c08c961916&lt;/start&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c972f4dbae6340b86770c08c9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-21 22:04:23&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;timezone/&gt;&lt;validated&gt;false&lt;/validated&gt;&lt;workflow display_value="GDS IC workflow"&gt;573922a0db82f60054d8ff621f961994&lt;/workflow&gt;&lt;/wf_workflow_version&gt;&lt;wf_workflow action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;description&gt;This is the workflow for GDS Intramural Submission Certification &lt;/description&gt;&lt;name&gt;GDS IC workflow&lt;/name&gt;&lt;preview/&gt;&lt;sys_class_name&gt;wf_workflow&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-07 17:44:39&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_id&gt;573922a0db82f60054d8ff621f961994&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS IC workflow&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;wf_workflow_573922a0db82f60054d8ff621f961994&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-07 17:44:39&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;template&gt;false&lt;/template&gt;&lt;vars/&gt;&lt;/wf_workflow&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Completed&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc972f4dbae6340b86770c08c9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Completed&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GPA Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c972f4dbae6340b86770c08c9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;gpa_rejected&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for GPA Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for PI Resubmit&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c972f4dbae6340b86770c08c9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;pi_resubmit&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;PI Submitted&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c972f4dbae6340b86770c08c9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;pi_submitted&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;sd_rejected&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for GPA Review - SD Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;sd_rejected_gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for SD Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c972f4dbae6340b86770c08c9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;SD_review&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Wait for PI to Sign&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc972f4dbae6340b86770c08c9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;wait_for_pi_signature&lt;/value&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Begin"&gt;c7a5e32c0a0a0b3a002377c24ed8ea76&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;1&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Begin&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;20&lt;/x&gt;&lt;y&gt;20&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=1cc9f2f4dbae6340b86770c08c961916"/&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Begin"&gt;1cc9f2f4dbae6340b86770c08c961916&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;11&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Complete&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;4cc972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;1192&lt;/x&gt;&lt;y&gt;542&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=90c9f2f4dbae6340b86770c08c961927"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;90c9f2f4dbae6340b86770c08c961927&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;90c9f2f4dbae6340b86770c08c961927&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Complete"&gt;90c9f2f4dbae6340b86770c08c961927&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;10&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to  GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;4cc972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;1187&lt;/x&gt;&lt;y&gt;191&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=84c9f2f4dbae6340b86770c08c961904"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_ic_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498,3cc796f36f7d9200bbc002e6eb3ee4db&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498,3cc796f36f7d9200bbc002e6eb3ee4db&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_ic_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961904&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to  GPA"&gt;84c9f2f4dbae6340b86770c08c961904&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;8&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to GPA for Rejection&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;44c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;956&lt;/x&gt;&lt;y&gt;402&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=d0c9f2f4dbae6340b86770c08c961920"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_gpa_itemId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;ic_gpa_itemId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to GPA for Rejection"&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;18&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to PI for resubmission&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;c0c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;735&lt;/x&gt;&lt;y&gt;235&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=10c9f2f4dbae6340b86770c08c961915"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research GPA.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research GPA.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961915&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961915&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to PI for resubmission"&gt;10c9f2f4dbae6340b86770c08c961915&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;6&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to SD for approval&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;48c972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;950&lt;/x&gt;&lt;y&gt;120&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=04c9f2f4dbae6340b86770c08c961906"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;04c9f2f4dbae6340b86770c08c961906&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc9f2f4dbae6340b86770c08c961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to SD for approval"&gt;04c9f2f4dbae6340b86770c08c961906&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;16&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;4cc972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;1196&lt;/x&gt;&lt;y&gt;371&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=10c9f2f4dbae6340b86770c08c961928"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961929&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961929&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Institutional Certification Review and Signoff';&amp;#13;
 template.print('Your Institutional Certification has been approved by the Center for Cancer Research GPA and Scientific Director.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961928&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961928&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter"&gt;10c9f2f4dbae6340b86770c08c961928&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961929&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;17&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;44c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;951&lt;/x&gt;&lt;y&gt;509&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=c0c972f4dbae6340b86770c08c9619eb"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
 email.subject='Notification for Institutional Certification Required Action';&amp;#13;
 template.print('Your Institutional Certification has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director.  Please address the issues identified, revise your Institutional Certification and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');&amp;#13;
 template.print('IC number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter"&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c972f4dbae6340b86770c08c9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="End"&gt;c7a66f7d0a0a0b3a004544a6d2f14076&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;2&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;End&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c972f4dbae6340b86770c08c9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;220&lt;/x&gt;&lt;y&gt;758&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=00c972f4dbae6340b86770c08c9619ed"/&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;4&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;GPA review&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;c8c972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;738&lt;/x&gt;&lt;y&gt;3&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=10c9f2f4dbae6340b86770c08c961922"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961924&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;10c9f2f4dbae6340b86770c08c961922&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961925&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="GPA review"&gt;10c9f2f4dbae6340b86770c08c961922&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="GPA review"&gt;10c9f2f4dbae6340b86770c08c961922&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;15&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Pi Need to Resubmit&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;c0c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;727&lt;/x&gt;&lt;y&gt;499&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=80c9f2f4dbae6340b86770c08c961914"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961914&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961914&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Pi Need to Resubmit"&gt;80c9f2f4dbae6340b86770c08c961914&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;24&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Pi Sign Action&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Wait for PI to Sign"&gt;ccc972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c972f4dbae6340b86770c08c9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;199&lt;/x&gt;&lt;y&gt;396&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=48c972f4dbae6340b86770c08c9619ed"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
answer=[];&amp;#13;
answer.push(current.request.requested_for);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c972f4dbae6340b86770c08c9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c972f4dbae6340b86770c08c9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;48c972f4dbae6340b86770c08c9619ed&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c972f4dbae6340b86770c08c9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
answer=[];&amp;#13;
answer.push(current.request.requested_for);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Pi Sign Action"&gt;48c972f4dbae6340b86770c08c9619ed&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Pi Sign Action"&gt;48c972f4dbae6340b86770c08c9619ed&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Run Script"&gt;db8c65aec0a8016501d00259bc7203a4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;21&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;PI Sign Script&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;c8c972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96192b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;459&lt;/x&gt;&lt;y&gt;559&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=18c9f2f4dbae6340b86770c08c96192b"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;18c9f2f4dbae6340b86770c08c96192b&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c96192b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
//var consent_group = current.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
	if(item.data_specified != null &amp;amp;&amp;amp; item.data_specified.trim().length &amp;gt; 0){&amp;#13;
	   item.use_limit = item.use_limit + " [ " + item.data_specified +" ]";&amp;#13;
	}&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'pi';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &amp;#13;
&amp;#13;
&amp;#13;
&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;18c9f2f4dbae6340b86770c08c96192b&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c96192b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
//var consent_group = current.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
	if(item.data_specified != null &amp;amp;&amp;amp; item.data_specified.trim().length &amp;gt; 0){&amp;#13;
	   item.use_limit = item.use_limit + " [ " + item.data_specified +" ]";&amp;#13;
	}&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'pi';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &amp;#13;
&amp;#13;
&amp;#13;
&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="PI Sign Script"&gt;18c9f2f4dbae6340b86770c08c96192b&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96192b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="If"&gt;98f621ca0a0a0b5900f7c291f5e45a0e&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;23&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Same PI&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="PI Submitted"&gt;c4c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;190&lt;/x&gt;&lt;y&gt;86&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=9cc9f2f4dbae6340b86770c08c961929"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&amp;#13;
//&amp;#13;
// For example,&amp;#13;
//&amp;#13;
   answer = ifScript();&amp;#13;
&amp;#13;
   function ifScript() {&amp;#13;
	   &amp;#13;
      if (current.u_director == 'signed' || current.request.opened_by == current.request.requested_for) {&amp;#13;
         return 'yes';&amp;#13;
      }&amp;#13;
      return 'no';&amp;#13;
   }&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e50810a0a0ba96248a709b450fc32&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;493d2c1d0a6a803f3217a75738ea3289&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;493cba6a0a6a803f07df24b118473551&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;493cba6a0a6a803f07df24b118473551&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;493d2c1d0a6a803f3217a75738ea3289&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&amp;#13;
//&amp;#13;
// For example,&amp;#13;
//&amp;#13;
   answer = ifScript();&amp;#13;
&amp;#13;
   function ifScript() {&amp;#13;
	   &amp;#13;
      if (current.u_director == 'signed' || current.request.opened_by == current.request.requested_for) {&amp;#13;
         return 'yes';&amp;#13;
      }&amp;#13;
      return 'no';&amp;#13;
   }&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e50810a0a0ba96248a709b450fc32&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Same PI"&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/activity&gt;&lt;condition&gt;activity.result == 'no'&lt;/condition&gt;&lt;condition_default display_value="No"&gt;c1eff6430a0a0b59000f955abe842c94&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;No&lt;/name&gt;&lt;order&gt;200&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c96192b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Same PI"&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/activity&gt;&lt;condition&gt;activity.result == 'yes'&lt;/condition&gt;&lt;condition_default display_value="Yes"&gt;c1ef63200a0a0b59005ef89bae78feb7&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Yes&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96192a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;7&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;SD Approval&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;48c972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;950&lt;/x&gt;&lt;y&gt;260&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=14c9f2f4dbae6340b86770c08c961919"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c96191b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;10c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c96191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c96191a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961919&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;14c9f2f4dbae6340b86770c08c961919&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="SD Approval"&gt;14c9f2f4dbae6340b86770c08c961919&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="SD Approval"&gt;14c9f2f4dbae6340b86770c08c961919&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c96191d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Run Script"&gt;db8c65aec0a8016501d00259bc7203a4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;20&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;SD Create PDF &lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;4cc972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;1300&lt;/x&gt;&lt;y&gt;37&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=c0c9f2f4dbae6340b86770c08c96190f"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c9f2f4dbae6340b86770c08c96190f&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'sd';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;c0c9f2f4dbae6340b86770c08c96190f&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;var param = '';&amp;#13;
&amp;#13;
var sys_id = current.sys_id.toString();&amp;#13;
var variables = current.variables;&amp;#13;
&amp;#13;
&amp;#13;
var investigator = current.u_investigator.toString();&amp;#13;
var pi_title = current.u_project_name.toString();&amp;#13;
&amp;#13;
var comments = current.comments.getJournalEntry(-1);&amp;#13;
var comment = comments.split("ENDCOMMENTS");&amp;#13;
&amp;#13;
var SDrole = comment[0].substring(comment[0].indexOf('(role)') + 6, comment[0].indexOf('(ENDROLE)')); &amp;#13;
var SDapprover = comment[0].substring(comment[0].indexOf('(ENDROLE)')+9,comment[0].length);&amp;#13;
&amp;#13;
var GPArole = comment[1].substring(comment[1].indexOf('(role)') + 6, comment[1].indexOf('(ENDROLE)'));&amp;#13;
var GPAapprover = comment[1].substring(comment[1].indexOf('(ENDROLE)')+9,comment[1].length);&amp;#13;
&amp;#13;
var number = current.number;&amp;#13;
number = 'CCR_IC' + number.substring(8);&amp;#13;
&amp;#13;
&amp;#13;
var sampleTime = variables.sampleTime;&amp;#13;
var sampleConsent = variables.sampleConsent;&amp;#13;
&amp;#13;
//determine type&amp;#13;
var type = '';&amp;#13;
if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 1&amp;#13;
        type = "form1";	&amp;#13;
}else if(sampleTime == 'yes' &amp;amp;&amp;amp; sampleConsent == 'no'){&amp;#13;
        //show form 2&amp;#13;
        type = "form2";&amp;#13;
}else if(sampleTime == 'no' &amp;amp;&amp;amp; sampleConsent == 'yes'){&amp;#13;
	//show form 3&amp;#13;
        type = "form3";&amp;#13;
}&amp;#13;
&amp;#13;
var consent_group = variables.consent_group.toString();&amp;#13;
var groups = consent_group.split('#');&amp;#13;
&amp;#13;
var consentGroup = [];&amp;#13;
for(var i = 0; i &amp;lt; groups.length; i++){&amp;#13;
   var item = {};&amp;#13;
   var consent_item = new GlideRecord('u_ccr_gds_consent_group');&amp;#13;
   consent_item.addQuery('sys_id', groups[i]);&amp;#13;
   consent_item.query();&amp;#13;
   consent_item.next();&amp;#13;
   item.site_name = consent_item.getDisplayValue('u_site_name');&amp;#13;
   item.use_limit = consent_item.getDisplayValue('u_data_limitation');&amp;#13;
   item.data_modifier = consent_item.getDisplayValue('u_data_limitation_modifier');&amp;#13;
   item.data_specified = consent_item.getDisplayValue('u_data_specified');&amp;#13;
   consentGroup.push(item);&amp;#13;
}&amp;#13;
&amp;#13;
var consentStr = JSON.stringify(consentGroup);&amp;#13;
 consentStr = consentStr.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var json = {};&amp;#13;
json.key = sys_id;&amp;#13;
json.sd_name = SDapprover;&amp;#13;
json.gpa_name = GPAapprover;&amp;#13;
json.pi_name = investigator;&amp;#13;
json.pi_title = pi_title;&amp;#13;
json.certification_date = variables.certification_date.toString();&amp;#13;
json.institution_name = variables.institution_name.toString();&amp;#13;
json.certification_to = variables.certification_to.toString();&amp;#13;
json.certification_from = variables.certification_from.toString();&amp;#13;
json.gpa_organization = variables.gpa_organization.toString();&amp;#13;
json.sd_organization = variables.sd_organization.toString();&amp;#13;
json.study_name = variables.study_name.toString();&amp;#13;
json.project_title = variables.project_title.toString();&amp;#13;
json.data_access = variables.data_access.toString();&amp;#13;
json.display = variables.display.toString();&amp;#13;
json.frequency = variables.frequency.toString();&amp;#13;
json.form_type = type;&amp;#13;
json.file_name = number;&amp;#13;
json.signedby = 'sd';&amp;#13;
&amp;#13;
param = JSON.stringify(json);&amp;#13;
param = param.replace(/\"/g, '\'');&amp;#13;
&amp;#13;
var script = 'var yetest = new CCR_GDS_Sign(' + param + ', '+ consentStr + '); yetest.attach();';&amp;#13;
var jsp = new JavascriptProbe('CBIITBiz MidServer'); &amp;#13;
jsp.setJavascript(script); &amp;#13;
jsp.setName("CCR_GDS");&amp;#13;
jsp.create(); &lt;/value&gt;&lt;variable display_value=""&gt;c35ddef20a0a0ba96248a7090eccd518&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="SD Create PDF "&gt;c0c9f2f4dbae6340b86770c08c96190f&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;25&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send an email to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;c0c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;198&lt;/x&gt;&lt;y&gt;554&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=80c9f2f4dbae6340b86770c08c961908"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Principal Investigator.  Please address the issues identified, revise your Institutional Certification and resubmit t.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'Notification for Institutional Certification Required Action';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Your Institutional Certification has been reviewed and NOT APPROVED by the Principal Investigator.  Please address the issues identified, revise your Institutional Certification and resubmit t.\n\n\n");&amp;#13;
template.print('Action: OPRIONS - New Institutional Certification/Resubmission of Institutional Certification. \n');&amp;#13;
template.print('IC Number: ' +  ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;80c9f2f4dbae6340b86770c08c961908&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c9f2f4dbae6340b86770c08c961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send an email to Submitter"&gt;80c9f2f4dbae6340b86770c08c961908&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;14&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;c8c972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;463&lt;/x&gt;&lt;y&gt;256&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=40c972f4dbae6340b86770c08c9619e9"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c972f4dbae6340b86770c08c9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Review&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c972f4dbae6340b86770c08c9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ic_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;40c972f4dbae6340b86770c08c9619e9&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to GPA"&gt;40c972f4dbae6340b86770c08c9619e9&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c972f4dbae6340b86770c08c9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;22&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send notification to PI for signature&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Wait for PI to Sign"&gt;ccc972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:26&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;194&lt;/x&gt;&lt;y&gt;242&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=d4c9f2f4dbae6340b86770c08c961917"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:26&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
      if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'IC ' + ticketNum + ' has been submitted by ' + current.opened_by.first_name.toString() + " " + current.opened_by.last_name.toString() ;	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gds_pi_Id=' +current.sys_id;		&amp;#13;
template.print("Click on the link to sign and submit the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_requested_for;&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Institutional Certification Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:26&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
      if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'IC ' + ticketNum + ' has been submitted by ' + current.opened_by.first_name.toString() + " " + current.opened_by.last_name.toString() ;	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gds_pi_Id=' +current.sys_id;		&amp;#13;
template.print("Click on the link to sign and submit the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961917&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_requested_for;&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send notification to PI for signature"&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c961918&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;3&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;c8c972f4dbae6340b86770c08c9619e7&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;461&lt;/x&gt;&lt;y&gt;116&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=94c9f2f4dbae6340b86770c08c96191e"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'IC ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;18c9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;14c9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_IC' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'IC ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c96191e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by;&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to Submitter"&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;1cc9f2f4dbae6340b86770c08c96191f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Timer"&gt;3961a1da0a0a0b5c00ecd84822f70d85&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;26&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Timer&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;461&lt;/x&gt;&lt;y&gt;404&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=84c9f2f4dbae6340b86770c08c961910"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc836da0a0a0b520083ebc07da2f47c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc740fe0a0a0b520025dcf8e2ff78e7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;4cc4a4030a0a0b52007334f001376dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;220cd53d0a0a0b214103bdc2ec5c7ab4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;script&lt;/value&gt;&lt;variable display_value=""&gt;21f80cd00a0a0b2101fcd5b5defc0810&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292b2f0e0a0a0b215aa2dd2cbc578dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35dc0df0a0a0ba96248a7098d737925&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;220dc5a40a0a0b2109fbd28b8c4b6213&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292bd15e0a0a0b215a040c701033e3c5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;3000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 15;&lt;/value&gt;&lt;variable display_value=""&gt;293493710a0a0b2115e3e5b4fce1d12a&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c9f2f4dbae6340b86770c08c961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cba34da0a0a0b5200798c86eafe1203&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292c91070a0a0b212543d91ffde5014c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cbfe48a0a0a0b5200cf8b82cc6685f1&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc6788c0a0a0b5200e6743c94001b16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;21fd462c0a0a0b211c997276d7806c03&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;script&lt;/value&gt;&lt;variable display_value=""&gt;21f80cd00a0a0b2101fcd5b5defc0810&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c9f2f4dbae6340b86770c08c961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cba34da0a0a0b5200798c86eafe1203&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cbfe48a0a0a0b5200cf8b82cc6685f1&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;220dc5a40a0a0b2109fbd28b8c4b6213&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;21fd462c0a0a0b211c997276d7806c03&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35dc0df0a0a0ba96248a7098d737925&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;220cd53d0a0a0b214103bdc2ec5c7ab4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;4cc4a4030a0a0b52007334f001376dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1320&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc6788c0a0a0b5200e6743c94001b16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc740fe0a0a0b520025dcf8e2ff78e7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1350&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4cc836da0a0a0b520083ebc07da2f47c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292b2f0e0a0a0b215aa2dd2cbc578dc5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292bd15e0a0a0b215a040c701033e3c5&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;292c91070a0a0b212543d91ffde5014c&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;84c9f2f4dbae6340b86770c08c961910&lt;/document_key&gt;&lt;order&gt;3000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 15;&lt;/value&gt;&lt;variable display_value=""&gt;293493710a0a0b2115e3e5b4fce1d12a&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Timer"&gt;84c9f2f4dbae6340b86770c08c961910&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;9&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Waiting for GPA reivew&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review - SD Rejected"&gt;40c972f4dbae6340b86770c08c9619e8&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;x&gt;960&lt;/x&gt;&lt;y&gt;606&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=00c9f2f4dbae6340b86770c08c96190a"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;40c9f2f4dbae6340b86770c08c96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c4c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4cc9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c0c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;00c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;80c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;84c9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0cc9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ccc9f2f4dbae6340b86770c08c96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;04c9f2f4dbae6340b86770c08c96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;88c9f2f4dbae6340b86770c08c96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;08c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;44c9f2f4dbae6340b86770c08c96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8cc9f2f4dbae6340b86770c08c96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Waiting for GPA reivew"&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default display_value="Approved"&gt;586e1fa60a0a0b5c008121ab894f2b06&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;48c9f2f4dbae6340b86770c08c96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Waiting for GPA reivew"&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default display_value="Rejected"&gt;586e4ef60a0a0b5c00440b56c014c8a5&lt;/condition_default&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c9f2f4dbae6340b86770c08c96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;4cc9f2f4dbae6340b86770c08c961905&lt;/condition&gt;&lt;from display_value="Email to  GPA"&gt;84c9f2f4dbae6340b86770c08c961904&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;50c9f2f4dbae6340b86770c08c96192d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter"&gt;10c9f2f4dbae6340b86770c08c961928&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;1cc9f2f4dbae6340b86770c08c96191f&lt;/condition&gt;&lt;from display_value="Send Notification to Submitter"&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96192d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to GPA"&gt;40c972f4dbae6340b86770c08c9619e9&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;ccc9f2f4dbae6340b86770c08c961903&lt;/condition&gt;&lt;from display_value="Pi Sign Action"&gt;48c972f4dbae6340b86770c08c9619ed&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c96192f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Same PI"&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;c8c9f2f4dbae6340b86770c08c96190e&lt;/condition&gt;&lt;from display_value="Waiting for GPA reivew"&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9f2f4dbae6340b86770c08c961932&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to PI for resubmission"&gt;10c9f2f4dbae6340b86770c08c961915&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;dcc9f2f4dbae6340b86770c08c96191d&lt;/condition&gt;&lt;from display_value="SD Approval"&gt;14c9f2f4dbae6340b86770c08c961919&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c96192d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="SD Create PDF "&gt;c0c9f2f4dbae6340b86770c08c96190f&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;d8c9f2f4dbae6340b86770c08c961926&lt;/condition&gt;&lt;from display_value="GPA review"&gt;10c9f2f4dbae6340b86770c08c961922&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c96192e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to SD for approval"&gt;04c9f2f4dbae6340b86770c08c961906&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Yes"&gt;dcc9f2f4dbae6340b86770c08c96192a&lt;/condition&gt;&lt;from display_value="Same PI"&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;58c9f2f4dbae6340b86770c08c961932&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submitter"&gt;94c9f2f4dbae6340b86770c08c96191e&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;88c972f4dbae6340b86770c08c9619ea&lt;/condition&gt;&lt;from display_value="Send Notification to GPA"&gt;40c972f4dbae6340b86770c08c9619e9&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;5cc9f2f4dbae6340b86770c08c96192e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="GPA review"&gt;10c9f2f4dbae6340b86770c08c961922&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;58c9f2f4dbae6340b86770c08c961927&lt;/condition&gt;&lt;from display_value="Complete"&gt;90c9f2f4dbae6340b86770c08c961927&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;90c9f2f4dbae6340b86770c08c961930&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;00c972f4dbae6340b86770c08c9619ed&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;c8c9f2f4dbae6340b86770c08c961913&lt;/condition&gt;&lt;from display_value="Timer"&gt;84c9f2f4dbae6340b86770c08c961910&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;94c9f2f4dbae6340b86770c08c961930&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="PI Sign Script"&gt;18c9f2f4dbae6340b86770c08c96192b&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;48c9f2f4dbae6340b86770c08c961909&lt;/condition&gt;&lt;from display_value="Send an email to Submitter"&gt;80c9f2f4dbae6340b86770c08c961908&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c96192f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Pi Need to Resubmit"&gt;80c9f2f4dbae6340b86770c08c961914&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;5cc9f2f4dbae6340b86770c08c961918&lt;/condition&gt;&lt;from display_value="Send notification to PI for signature"&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;98c9f2f4dbae6340b86770c08c961930&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Pi Sign Action"&gt;48c972f4dbae6340b86770c08c9619ed&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;8cc9f2f4dbae6340b86770c08c96190f&lt;/condition&gt;&lt;from display_value="SD Create PDF "&gt;c0c9f2f4dbae6340b86770c08c96190f&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c96192f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to  GPA"&gt;84c9f2f4dbae6340b86770c08c961904&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;10c9f2f4dbae6340b86770c08c961917&lt;/condition&gt;&lt;from display_value="Begin"&gt;1cc9f2f4dbae6340b86770c08c961916&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;9cc9f2f4dbae6340b86770c08c961930&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Same PI"&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;58c9f2f4dbae6340b86770c08c961914&lt;/condition&gt;&lt;from display_value="Pi Need to Resubmit"&gt;80c9f2f4dbae6340b86770c08c961914&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c96192e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;00c972f4dbae6340b86770c08c9619ed&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;4cc9f2f4dbae6340b86770c08c961903&lt;/condition&gt;&lt;from display_value="Pi Sign Action"&gt;48c972f4dbae6340b86770c08c9619ed&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c96192f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Send an email to Submitter"&gt;80c9f2f4dbae6340b86770c08c961908&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;94c9f2f4dbae6340b86770c08c961916&lt;/condition&gt;&lt;from display_value="Email to PI for resubmission"&gt;10c9f2f4dbae6340b86770c08c961915&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c961931&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Pi Need to Resubmit"&gt;80c9f2f4dbae6340b86770c08c961914&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;48c9f2f4dbae6340b86770c08c96190e&lt;/condition&gt;&lt;from display_value="Waiting for GPA reivew"&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d0c9f2f4dbae6340b86770c08c961932&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to SD for approval"&gt;04c9f2f4dbae6340b86770c08c961906&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;58c9f2f4dbae6340b86770c08c961926&lt;/condition&gt;&lt;from display_value="GPA review"&gt;10c9f2f4dbae6340b86770c08c961922&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c96192e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to PI for resubmission"&gt;10c9f2f4dbae6340b86770c08c961915&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;58c9f2f4dbae6340b86770c08c961921&lt;/condition&gt;&lt;from display_value="Email to GPA for Rejection"&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d4c9f2f4dbae6340b86770c08c961931&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter"&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;5cc9f2f4dbae6340b86770c08c96191d&lt;/condition&gt;&lt;from display_value="SD Approval"&gt;14c9f2f4dbae6340b86770c08c961919&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c96192d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Email to GPA for Rejection"&gt;d0c9f2f4dbae6340b86770c08c961920&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;94c9f2f4dbae6340b86770c08c961929&lt;/condition&gt;&lt;from display_value="Email to Submitter"&gt;10c9f2f4dbae6340b86770c08c961928&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961931&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Complete"&gt;90c9f2f4dbae6340b86770c08c961927&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="No"&gt;50c9f2f4dbae6340b86770c08c96192b&lt;/condition&gt;&lt;from display_value="Same PI"&gt;9cc9f2f4dbae6340b86770c08c961929&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;d8c9f2f4dbae6340b86770c08c961932&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Send notification to PI for signature"&gt;d4c9f2f4dbae6340b86770c08c961917&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;c8c9f2f4dbae6340b86770c08c961907&lt;/condition&gt;&lt;from display_value="Email to SD for approval"&gt;04c9f2f4dbae6340b86770c08c961906&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96192d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="SD Approval"&gt;14c9f2f4dbae6340b86770c08c961919&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;88c972f4dbae6340b86770c08c9619ea&lt;/condition&gt;&lt;from display_value="Send Notification to GPA"&gt;40c972f4dbae6340b86770c08c9619e9&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c96192e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Timer"&gt;84c9f2f4dbae6340b86770c08c961910&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;88c972f4dbae6340b86770c08c9619ec&lt;/condition&gt;&lt;from display_value="Email to Submitter"&gt;c0c972f4dbae6340b86770c08c9619eb&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;dcc9f2f4dbae6340b86770c08c961931&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;to display_value="Waiting for GPA reivew"&gt;00c9f2f4dbae6340b86770c08c96190a&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_estimated_runtime_config action="INSERT_OR_UPDATE"&gt;&lt;estimated_run_time/&gt;&lt;no_of_data_points&gt;1&lt;/no_of_data_points&gt;&lt;percentage_threshold_ert&gt;20&lt;/percentage_threshold_ert&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-20 22:40:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c8c972f4dbae6340b86770c08c9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:40:08&lt;/sys_updated_on&gt;&lt;workflow_version display_value="GDS IC workflow"&gt;48c972f4dbae6340b86770c08c9619e6&lt;/workflow_version&gt;&lt;/wf_estimated_runtime_config&gt;&lt;wf_workflow_version action="update_multiple" query="workflow=573922a0db82f60054d8ff621f961994^sys_id!=48c972f4dbae6340b86770c08c9619e6"&gt;&lt;published&gt;false&lt;/published&gt;&lt;/wf_workflow_version&gt;&lt;/record_update&gt;</payload>
<payload_hash>-406767194</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2a8bbbdfdbcb2f00b86770c08c961915</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167d2cc51990000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>sc_ic_aprvl_defn_staging</table>
<target_name>GDS IC workflow</target_name>
<type>Workflow</type>
<update_domain>global</update_domain>
<update_guid>a22bbbc91e2ea3401acc5cbb081a208f</update_guid>
<update_guid_history>a22bbbc91e2ea3401acc5cbb081a208f:-406767194,4f97f274b5ae63405c687120a4c7231d:1601750235,cce576f053ae63405fb200e5f886781f:-226598094,7a457ab083ae6340f5899d6a5f473623:-1603581343,31f3fa3055ae6340c4d32b094c174662:-1849998778,2a8f2a3cf76e634033d590a37e89887a:1348431874,f63122b0316e634056e68619284416cd:-850863114,e14a1ffbf8d6ef0019a7056fe84ba4ef:-789072553,107800f9a1f7d34044000eed3cbac20c:2143342081,4bd599ec83431b00b0b09a33c032948a:1759469808,db43d60dd01113404080f61c8a1378d2:-1310175307,4bd599ec83431b00b0b09a33c032948a:1759469808,4bd599ec83431b00b0b09a33c032948a:1759469808,4b72398b67225f00fbbcec5d93a8efe0:-1754303410,52d2998774ee1f00e989b598579f4361:-1248691539,db43d60dd01113404080f61c8a1378d2:-1310175307,dd0152491011134074eeb2560c874b21:-1998971687,a320d6c5b011134036534192a5fa6e43:-290561075,1002529266b413006dd1fc920677f1eb:2124918627,b7f0965254b41300b9a3bc88a1b0f220:-353486175,a9cf0a126db413008e95abe03486855c:1472760378,2bcc069ea7741300b3a6e572d7a0b5d4:1072112225,9ae8cada1d741300a7aaee2a50121e39:-1250750507,e327469ace74130052ba37c87fe64941:70119078,0f96ce5a35741300634779eb7c08f721:-603545673,d2f1425286b41300e52a3bf6b15789d3:-808080500,e7ef5e8ad1b41b009ad0ae6254030a18:-467720869,70e6da06adb41b00341d116a8ad21201:1165488271,851516c27cb41b00c5347b5ad869123a:695249805,cdc3968213b41b00dabb9cce2901bd59:-105919118,10725642b8b41b007338b98ea412fc6f:394676036,ce809ece8e741b00072a3c2f72a82e2e:1691137362,570016ce26741b0028128fd5083bbae1:1984139351,40cf02ce6b741b00d6ca29245ef2cd99:289206669,3f8e028e76741b002634f9596aa092c2:-908528473,10bd064ea8741b004efb887f2237b83f:1205071822,1d2c820e95741b005036807e515e9c65:-264998731,9ce84a4a9f741b0023cabf630adfef68:382999847,bb17c6c683741b005eef86c6c558ae70:331209727,15520606e8741b0076cdbdbcd723c7fb:1304686807,f23146c21f741b0020ab06baa734c141:109069317,ef1d3d020e741b00d8a821f035283c79:-1459213295,4ebcb502e9741b00a9aeb7229a0705f1:-667067956,b5db3dce35341b009fdf54bc30fd1e34:245853345,b02bb1ce63341b0094adea80563ed6ea:628333150,829a398ec5341b00ac163d906bd9c8e0:-262779414,58e9fdca28341b00d84ddd3d7978490d:1917734092,3a39718aef341b00cfeafd6761857950:1743897647,d28cad425b341b00e4f3e84c82ca2322:1360892622,7061b07506fc170015356be9a31ad7a5:-504701818,32e12d7482789300e82737d1d88abbe6:381017963,a5a1e134a478930099b3f0dceebec680:1759361951,fd11a9f033789300ada44d137e1b451f:-137157617,4acbc9fc63f4930003e89ca40b4b1066:1144895786,448c783477f493005897dea7e5d597f1:-815428661,9dfab4f0cdf49300ed4509902b81e0e3:594969402,21322034ddb49300495fb404dfd0174b:1281093919,cf91e4f006b49300d39dfa82adc137f7:1938070997,b18f10b01cb493008d2f1e641a682470:-404752480,d2bd1c302cb4930073d0f25167114f66:872024326,17ec10302ab49300b7f078cadd239a85:751989697,ead7d0f8fb749300c4774347f6974aaf:115172691,b925f0e46cb417001ff4abc4fd5c0962:1875124234,79a43ca4afb41700c5f82227be28a59a:429033953,d4f3f0a4acb4170097cca244eeca0b78:-2064418105,3213b46422b417002f239df8fd0c3bbf:-482436774,d79de82c28741700deb5c7a5999e0134:1410686618,46ab60a8d374170061dfd1149700beb7:-718159304,326ae0684d7417007b549a0aeb0ebd61:400570362,a1079c2cd6341700e6a8453fe359f674:-1101371621,9f75d8e82a341700f90808430a1c346a:1282964414,8d73d428c6341700b106b910f8fb83ed:992830246,ca9fa5069d6247007c6b69977e664562:359832462,47a3698a2322470073a1536f53900924:233865092,984c44f946a207004b3acae7e433f66b:-434388654,9e69b32c34a28300f1bfe3a465bd9afa:-1925934989,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716,00281b9ff4de83001c44bc1daf66475a:-1402261716</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_ccr_gds_z_list_table_u_ned_id_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_ned_id" label="NED ID" language="en" table="u_ccr_gds_z_list_table"><sys_documentation action="INSERT_OR_UPDATE"><element>u_ned_id</element><help/><hint/><label>NED ID</label><language>en</language><name>u_ccr_gds_z_list_table</name><plural>NED IDs</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:23:15</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>cb89a28adbdd270054d8ff621f9619cd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>NED ID</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_ccr_gds_z_list_table_u_ned_id_en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:23:15</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1771345841</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>2e8bbbdfdbcb2f00b86770c08c961907</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185d82a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table.NED ID</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>4f89a2ce94dd2700f5747ff2dd63debe</update_guid>
<update_guid_history>4f89a2ce94dd2700f5747ff2dd63debe:1771345841</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_headers_fde7fe66dbe9234054d8ff621f961991</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn_headers"><sys_rest_message_fn_headers action="INSERT_OR_UPDATE"><name>Accept</name><rest_message_function display_value="getBranch">ff27f666dbe9234054d8ff621f961924</rest_message_function><sys_class_name>sys_rest_message_fn_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 15:59:46</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>fde7fe66dbe9234054d8ff621f961991</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Accept</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_headers_fde7fe66dbe9234054d8ff621f961991</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-06 15:59:46</sys_updated_on><value>application/json</value></sys_rest_message_fn_headers></record_update>]]></payload>
<payload_hash>2038395701</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2e8bbbdfdbcb2f00b86770c08c96190a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166e9c04ffe0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Accept</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>ee28be6627e923403cd42293a6a68dbc</update_guid>
<update_guid_history>ee28be6627e923403cd42293a6a68dbc:2038395701</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_baff749edb9e2f0054d8ff621f96198f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="DELETE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocals</description><name>u_gds_tissue_protocals</name><operation display_value="delete">delete</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>baff749edb9e2f0054d8ff621f96198f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_baff749edb9e2f0054d8ff621f96198f</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>260897654</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2e8bbbdfdbcb2f00b86770c08c96190d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e017440000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>u_gds_tissue_protocals</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>0f10499eb19e2f00927efbc7cbe8ab51</update_guid>
<update_guid_history>0f10499eb19e2f00927efbc7cbe8ab51:260897654,c3ff749e659e2f0090be3fad5c2b3994:1509890</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_application_af59ae8edbdd270054d8ff621f9619d4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_application"><sys_ui_application action="INSERT_OR_UPDATE"><active>true</active><hint/><name>CCR GDS Z List Table</name><order/><roles>u_ccr_gds_z_list_table_user</roles><sys_class_name>sys_ui_application</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>af59ae8edbdd270054d8ff621f9619d4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCR GDS Z List Table</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_application_af59ae8edbdd270054d8ff621f9619d4</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on></sys_ui_application></record_update>]]></payload>
<payload_hash>1639537761</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2e8bbbdfdbcb2f00b86770c08c961910</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185214e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>CCR GDS Z List Table</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>2759ae8e24dd2700ce4df6aa53d3abd6</update_guid>
<update_guid_history>2759ae8e24dd2700ce4df6aa53d3abd6:1639537761</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>ua_table_licensing_config_83ff749edb9e2f0054d8ff621f9619cd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="ua_table_licensing_config"><ua_table_licensing_config action="DELETE"><is_fulfillment>false</is_fulfillment><license_condition/><license_model>none</license_model><license_roles/><name>u_gds_tissue_protocals</name><op_delete>true</op_delete><op_insert>true</op_insert><op_update>true</op_update><owner_condition/><sys_class_name>ua_table_licensing_config</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:18</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>83ff749edb9e2f0054d8ff621f9619cd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>ua_table_licensing_config_83ff749edb9e2f0054d8ff621f9619cd</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:18</sys_updated_on></ua_table_licensing_config></record_update>]]></payload>
<payload_hash>2948010</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>2e8bbbdfdbcb2f00b86770c08c961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e04c630000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>u_gds_tissue_protocals</target_name>
<type>Table Subscription Configuration</type>
<update_domain>global</update_domain>
<update_guid>a6200d9e659e2f00b88e1e6e025cda2e</update_guid>
<update_guid_history>a6200d9e659e2f00b88e1e6e025cda2e:2948010,43ff749e829e2f00971aa41f875ad1ce:-1299151946</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_js_include_67d8d104db339f0054d8ff621f961901</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_js_include"><sp_js_include action="INSERT_OR_UPDATE"><display_name>BootStrap JS</display_name><source>local</source><sys_class_name>sp_js_include</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-08-03 14:49:14</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>67d8d104db339f0054d8ff621f961901</sys_id><sys_mod_count>0</sys_mod_count><sys_name>BootStrap JS</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_ui_script display_value="bootstrapCDN">db667d3f6febf500250e6bbeae3ee46c</sys_ui_script><sys_update_name>sp_js_include_67d8d104db339f0054d8ff621f961901</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-08-03 14:49:14</sys_updated_on><url/></sp_js_include></record_update>]]></payload>
<payload_hash>1305572774</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>528b77dfdbcb2f00b86770c08c961970</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165004399bb0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>BootStrap JS</target_name>
<type>JS Include</type>
<update_domain>global</update_domain>
<update_guid>1ff851c44a339f005fdb62bf60415588</update_guid>
<update_guid_history>1ff851c44a339f005fdb62bf60415588:1305572774</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_fac5b724dbe2ba00f59974131f9619bd</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil, $window) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	}; 
	c.state = $window.state;
	c.columns = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Project Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Project Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};
	//start client JS 
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });	
	
	window.setSelectedSDRow = function(id) {
		var matches = c.data.approvalTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.approvalTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	window.setSelectedSDReviewedRow = function(id) {
		var matches = c.data.reviewedTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.reviewedTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
			
	var names=['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna']; 
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var sd = c.data.info.sd;

	c.view = function(doc_id, sys_id, state, stage, ticket_id){
		$('#refresh').val('0');
		$('#rejectError').hide();
		$('#commentId1').css("background-color", "");
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	c.report = function(sys_id, gdsp_id){
	$('#refresh').val('0');
		window.open('$sp.do?id=gdsp_report_page&amp;itemId='+sys_id+'&amp;ticket='+gdsp_id, '_BLANK');
	}
	
function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
				var result = response.data.result;
			  var variables = result.variables;
			  var comments = "";
			  comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayRequestId').html(ticket_id);
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewId1').empty();
				$('#commentReviewId1').append(comment_str);

				$('#commentId1').show();
				$('#commentId1Lable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_div').hide();
				 }else{
							 $('#pre_comments_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('SD');
				$('#comments_div').show();
				if(state == 'approved' || state.indexOf('not_required') &gt;=0){
					 $('#comments_div').hide();
					 $('#submitButton').hide();
					 $('#closeButton').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gpa){
							$('#comments_div').show();
							$('#sd_div').show();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_div').show();
							$('#sd_div').hide();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_div').show();
							$('#sd_div').hide();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_div').hide();
								$('#sd_div').hide();
								$('#submitButton').hide();
								$('#closeButton').show();
					 }else{
								$('#comments_div').hide();
								$('#sd_div').hide();
								$('#submitButton').hide();
								$('#closeButton').show();
					 }
				}else{
					 $('#comments_div').show();
					 $('#submitButton').show();
					 $('#closeButton').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
				$('#displayRequestId').html(ticketN);		
			  $('#displayRequests').modal('show').on('shown.bs.modal', function(){$('#displayRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
    function clearDiv(){
		$('#comments_div').hide();
		$('#sd_div').hide();
		$('#submitButton').hide();
		$('#closeButton').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
	  for(key in data){
			var value = getValue(key, data[key]);
			$('#'+key+"1").html(value);
		}
	}
	
  function getValue(name, value){
     if(textFields.indexOf(name) != -1 ){ 
        if(name == 'date'){
           return getConvertedValue(value, '1');
        }else{
           return value;
        }
     }else{
        if(value == "true"){
           return '&lt;input type="checkbox" id="'+ name +'1" checked="true" disabled="true"/&gt;';
        }else{
           return '&lt;input type="checkbox" id="' + name+ '1" disabled="true"/&gt;';
        }
        return value; 
     }
  }	
	
	function getConvertedValue(value, flag){
		 if(flag == '0'){
				var values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				var values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}	

 function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
      if(textFields.indexOf(names[i]) != -1 ){ 
            $('#'+names[i] + "1").html('');
      }else{
				   $('#'+names[i] +"1").html('&lt;input type="checkbox" id="'+ names[i] +"1" + '" disabled="true"/&gt;');
           $('#'+names[i] + "1").prop('checked', false); 
		       $('#'+names[i] + "1").removeAttr("disabled");
      }
    }
  }	

spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.highlight {&amp;#13;
  background-color: yellow !important;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&amp;#13;
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-sd-approval-table&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS SD Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalTasks = [];
	data.reviewedTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		sd: sd
	};
	if(sd){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR Genomic Data Sharing Plan");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);

			 gr_approval_items.addQuery('approver', my_sys_id); 
			 gr_approval_items.addQuery('source_table','sc_req_item');
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_GDSP" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name.toString();		
					//if(stage_v == 'Waiting for PI Resubmit'|| stage_v == 'Completed'|| (stage_v == 'Waiting for SD Review' &amp;&amp; gpa) || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; sd )){
						//	if (!((stage_v == 'SD Rejected - Waiting for PI Resubmit' || stage_v == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gr_approval_items.state == 'approved')) {
							//	 if ((gr_approval_items.document_id.sys_created_by == gr_approval_items.sys_created_by)||(gr.isMemberOf('CCR_SD'))) {
									
							if( gr_approval_items.wf_activity.stage.name == 'Waiting for SD Review' &amp;&amp; (gr_approval_items.state == 'approved' || gr_approval_items.state == 'rejected') ){	
									if(stage_v == 'Completed' || stage_v == 'SD Rejected - Waiting for GPA Review'){	 //When record completed, there is no stage name for that, it will has two or three records in approval table, get GPA Review record
											var item = {};
											item.gdsp_id = ticket_number;
											item.principal_investigator = gr_approval_items.document_id.u_investigator.toString();
											item.project_name = gr_approval_items.document_id.u_project_name.toString();
											item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
											item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
											item.status = gr_approval_items.document_id.context.stage.name.toString(); 
											item.last_update_date = gr_approval_items.sys_updated_on.toString();
											item.stage = stage_v.toString();
											item.sys_id = gr_approval_items.sys_id.toString();
											item.doc_id = gr_approval_items.document_id.toString();
											item.state = gr_approval_items.state.toString();
											data.reviewedTasks.push(item);
									}
							}
							if (stage_v == 'Waiting for SD Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for SD Review' ) {
									var items = {};
									items.gdsp_id = ticket_number;
									items.principal_investigator = gr_approval_items.document_id.u_investigator.toString();
									items.project_name = gr_approval_items.document_id.u_project_name.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalTasks.push(items);
							}

					//}
			 }
	}
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-02 19:50:51&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;fac5b724dbe2ba00f59974131f9619bd&lt;/sys_id&gt;&lt;sys_mod_count&gt;92&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS SD Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_fac5b724dbe2ba00f59974131f9619bd&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-31 19:03:26&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div class="panel panel-success panel-area" ng-show="c.data.approvalTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_sdApprovalItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsesdApprovalItems" aria-expanded="true" data-target="#collapsesdApprovalItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Genomic Data Sharing Plans Waiting for SD Approval &lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div aria-labelledby="heading_sdApprovalItems" class="panel-collapse collapse in" id="collapsesdApprovalItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_savedGDSP_SD" class="label-hidden"&gt;Search:&lt;/label&gt;
          		&lt;input id="search_savedGDSP_SD" type="text" class="form-control1" ng-model="searchSavedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalTasks | filter:searchSavedGDSP"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"
            				 ng-class="{highlight: row.doc_id == c.state.id }"
          					 id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.view(row.doc_id, row.sys_id, row.state, row.stage, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.report(row.doc_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
        &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize4"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize4" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
    	&lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
      &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="panel panel-success panel-area" ng-show="c.data.reviewedTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_sdReviewedItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsesdReviewedItems" aria-expanded="true" data-target="#collapsesdReviewedItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Genomic Data Sharing Plans reviewed by SD &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_sdReviewedItems" class="panel-collapse collapse" id="collapsesdReviewedItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_submittedGDSP_SD" class="label-hidden"&gt;Search:&lt;/label&gt;
          		&lt;input id="search_submittedGDSP_SD" type="text" class="form-control1" ng-model="searchSubmittedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedTasks | filter:searchSubmittedGDSP"
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"
            				 ng-class="{highlight: row.doc_id == c.state.id }"
            				 id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.view(row.doc_id, row.sys_id, row.state, row.stage,row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.report(row.doc_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
      &lt;form class="form-inline"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize5"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize5" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
            ng-model="c.pagination1.currentSize"
            ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  
        &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
       &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.reviewedTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange1() track by $index"
          ng-click="c.setPage1($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1084846446</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>528b77dfdbcb2f00b86770c08c961973</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16805a638930000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS SD Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>01a1bedc0976eb40738fbbbbe2103de5</update_guid>
<update_guid_history>01a1bedc0976eb40738fbbbbe2103de5:1084846446,8ce0b6dc5b76eb40bc883bee31239716:-1390139309,507d173fc0d6ef0054b90f3242b4abfe:-302530130,196ddb7fc2d6ef0053def3ee54deeb2b:213411118,2198037391d6ef0037dabb15bb7983e5:-1894203777,0fce69f799d2ef00b66dbcff710d8145:1636895223,994ee8e3a0b9670016effa91cf44442f:-758426301,f00ee8e384b96700a092cbaf6c039e22:1741871675,505da4e388b967003c63984b0ad67010:-438367572,e87758e70e6b5f001a02b186f6745a99:1142827177,1836d827b36b5f00b7bed49e90df66e8:-802338287,1a269ca3726b5f00f3851cdbe5b6220d:-1653422447,7b93bfcd226797007293c271175ef921:1271363601,2100738d82679700bb19ab53a2ad0956:1134386076,b1d6af0911679700784b8e45a59da309:205113782,85255fb8dbe75700ad095b5d263efcfb:-562428931,40ac437090e7570031bf410c2569fe05:-141043103,b19c0f7038e75700831158a80fcbfb7b:-588853251,a28c43b04ce75700fa1d6fad44f6ec3a:-1966785709,508ccb702fe75700960b9fed3692f9bd:-58737081,2902aa308167570096f24c21795afe95:-1781207734,61e1e63c35275700dac7baf18df07b84:450837612,6e91aefc95275700e7f947bc745cc41d:1752259064,9a071da38d1f530020d573d4e25430be:831320521,5c071da33d1f5300edf4b5911c0f0871:2115424725,47f5e5533c5353006f81da3f9b7745cb:1597661667,f1f52193485353002fc90bbabdcb6f81:-1387825835,23e5a55327535300e3d08e059ba6f45b:1946250282,9975e553be535300c6096224a6896493:-714301020,f2f4a913275353006d74b14a65f804a9:-947751474,7ae6d843885b5300ab13ada2aa236c15:-1352028325,1e6b7a3f1de013001865a51bb06212f9:981209424,1e6b7a3f1de013001865a51bb06212f9:981209424,1e6b7a3f1de013001865a51bb06212f9:981209424,b2393e33252413007f2bb91f6c173b8d:-1739642950,5875fabf7ee0130008d547bbd901c083:1736938170,3255367f33e01300ab158e4ce48b5b90:-860417441,da92327fa0e01300bd3655cb33ea9133:-178021330,3e62723f1be0130012491d47d0399544:-855291758,71d1723f74e013003379f5ea1fec2066:-559180938,3721bebb51e013004f2ad144c71c81b4:-220042325,6a01f67bc1e0130084335905fdc268a3:-1197872598,20d0fabbd1e0130042c7f3c34f3fdcd2:-68298359,0cd0fabb21e0130015b2e70d7521eeb6:1356681577,101fea7bb9e013000c3f6afc2e7f7a0e:543590487,b9fea63b31e013000bf9098cc307b0bc:247479667,572ea63b85e01300075cef10d119b7e1:543590487,1ee6aab3a8e013004ffea6a42d61bdb5:-1380388045,aac622373fe01300194b867b456a2073:1728388037,426a49f5c9a7cf008b94b7762ddcce0c:543590487,557941b5dea7cf00e07aa5862893ab91:-806771157,d26941b52ca7cf00780440dbc018cd9a:-666380375,ed1caad62e2a8700f15ff36b8cb29535:1162854955,-850685108:-850685108,2059660583:2059660583,1891533140:1891533140,858868641:858868641,-1027158283:-1027158283</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>m2m_sp_ng_pro_sp_widget_774249acdbae2340b86770c08c9619f9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_ng_pro_sp_widget"><m2m_sp_ng_pro_sp_widget action="INSERT_OR_UPDATE"><sp_angular_provider display_value="diplayInformation">7132c520dbee2340b86770c08c961900</sp_angular_provider><sp_widget display_value="GDS Project Table">5dd52f37dbfd3600f59974131f9619e7</sp_widget><sys_class_name>m2m_sp_ng_pro_sp_widget</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-19 19:19:48</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>774249acdbae2340b86770c08c9619f9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>diplayInformation.GDS Project Table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>m2m_sp_ng_pro_sp_widget_774249acdbae2340b86770c08c9619f9</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-19 19:19:48</sys_updated_on></m2m_sp_ng_pro_sp_widget></record_update>]]></payload>
<payload_hash>948550837</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>568b77dfdbcb2f00b86770c08c96196f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167c7e8e60e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>diplayInformation.GDS Project Table</target_name>
<type>Angular Providers</type>
<update_domain>global</update_domain>
<update_guid>3f42092084ee23403a4027879a0ecb4b</update_guid>
<update_guid_history>3f42092084ee23403a4027879a0ecb4b:948550837</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_91dc809cdb284340f59974131f961938</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};
	//start client JS
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	
	window.setSelectedGDSICRow = function(id) {
		var matches = c.data.approvalTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.approvalTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	window.setSelectedGDSReviewedICRow = function(id) {
		var matches = c.data.reviewedTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.reviewedTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'sampleTime', 'sampleConsent', 'consent_group'];
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var gpa_asst = c.data.info.gpa_asst;
	var sd = c.data.info.sd;

	c.viewICData = function(doc_id, sys_id, state, stage, ticket_id){
		$('#refresh').val('0');
		$('#rejectICError').hide();
		$('#commentICId1').css("background-color", "");
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	
	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;
	
	c.report = function(sys_id, ic_id, flag){
		  var req_id = sys_id;
		  var fileName = '';
		 $('#refresh').val('0');
		 $('#loading').show();
		  if(flag == 'pi'){
				fileName = ic_id+"_pi.pdf";
			}else	if(flag == 'sd'){
			fileName = ic_id+"_sd.pdf";
		  }
			initialTime = new Date();
			documentInterval = setInterval(function() {
				 getDocument(req_id, fileName);
			}, 5000);		
	}
	
	function getDocument(req_id, fileName){
		  var req = {
					method: 'GET',
					url: '/api/naci/gds/getAttachmentFileID',
					beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				  params: {request_id: req_id, file_name: fileName}
			};
		  $http(req).then(handleResponse, handleError);
		  function handleResponse(response) {
					if (new Date() - initialTime &gt; documentTimeout) {
						 window.clearInterval(documentInterval);
						 $('#loading').hide();
						 $('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
             $('#infoModal').modal('show');
             $('#btnOkConfirm').off('click').click(function() {
                 $('#infoModal').modal('hide');
             });
						 return;
					}				
					var result = response.data.result;
					//hightlight right record
				  var id = result.file_id;
		      if(id != null &amp;&amp; id.trim().length &gt; 0){
						window.clearInterval(documentInterval);
				    window.location.href = '/sys_attachment.do?sys_id=' + id;
						setTimeout(function(){}, 3000);
						$('#loading').hide();
					}
			}
		
			function handleError(response) {
				window.clearInterval(documentInterval);
					console.error(response);
					alert('ERROR');
			}	
	}
	
  function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			  var variables = result.variables;
			  var comments = "";
			  comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayICId').html(ticket_id);
			  //reset SD selection and comments
			  $('#selectICSD').val('NONE');
			  $('#commentICId1').val('');
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewICId1').empty();
				$('#commentReviewICId1').append(comment_str);

				$('#commentICId1').show();
				$('#commentId1ICLable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_ic_div').hide();
				 }else{
							 $('#pre_comments_ic_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('GPA');
				$('#comments_ic_div').show();
				if(state == 'approved' || state.indexOf('not_required') &gt;=0 || gpa_asst){
					 $('#comments_ic_div').hide();
					 $('#submitButton1').hide();
					 $('#closeButton1').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'Waiting for GPA Review - SD Rejected') &amp;&amp; gpa){
							$('#comments_ic_div').show();
							$('#sd_ic_div').show();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }else{
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }
				}else{
					 $('#comments_ic_div').show();
					 $('#submitButton1').show();
					 $('#closeButton1').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
			     $('#gpaICErrorMessage').hide();
				$('#displayICId').html(ticketN);		
			  $('#ic_modal_content').attr('style', 'height:950px; overflow-y:auto; overflow-x: hidden;');
			  loadConsentGroupData();
				if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
					$('#insDiv').show();
				}else{
					$('#insDiv').hide();
				}			 
			  $('#displayICRequests').modal('show').on('shown.bs.modal', function(){$('#displayRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			alert("failed");
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
	
	function loadConsentGroupData(){
		var consentStr = $('#consent_group1').val();
	  if(consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0){
			$('#consentGrpDiv').hide();
		}else{
      getConsentGroups(consentStr);
		}
	}
	
	function getConsentGroups(consentStr){
		var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentGrp: consentStr}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
		  for(var i = 0; i &lt; result.length; i++){
			    var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " ["+ result[i].data_field +"] ";
				}
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;"+result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier +"&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";
			  
			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	
    function clearDiv(){
		$('#comments_ic_div').hide();
		$('#sd_ic_div').hide();
		$('#submitButton1').hide();
		$('#closeButton1').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
	  for(key in data){
			//var value = getValue(key, data[key]);
			if(key == 'data_access'){
				if(data[key] == 'unrestricted'){
					 $("input[name=dataAccessBox1][value='unrestricted']").prop("checked",true);
				}else{
					 $("input[name=dataAccessBox1][value='controlled-access']").prop("checked",true);
				}
			}else if(key == 'display'){
				if(data[key] == 'yes'){
					 $('#displayBox1').prop('checked', true);
					 $('#controllaccessDiv1').show();
				}else{
					 $('#displayBox1').prop('checked', false);
					 $('#controllaccessDiv1').hide();
				}
			}else if(key == 'consent_group'){
				$('#'+key+"1").val(data[key]);
			}else{
				$('#'+key+"1").html(data[key]);
			}
		}
	}
	
  function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
        $('#'+names[i] + "1").html('');
    }
  }	
	
spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.overlay {&amp;#13;
  position: fixed; &amp;#13;
  width: 100%; &amp;#13;
  height: 100vh; &amp;#13;
  background-color: white; &amp;#13;
  opacity: 0.9; &amp;#13;
  z-index: 9999; &amp;#13;
  top: 0; &amp;#13;
  left: 0;&amp;#13;
  &amp;#13;
  display: flex;&amp;#13;
  align-items: center;&amp;#13;
  justify-content: center;&amp;#13;
  flex-direction: column;&amp;#13;
}&amp;#13;
&amp;#13;
.spinner {&amp;#13;
  animation: spin 2s infinite linear;&amp;#13;
}&amp;#13;
&amp;#13;
/** spin animation */&amp;#13;
@keyframes spin {&amp;#13;
  from {&amp;#13;
    transform: rotate(0deg);&amp;#13;
  }&amp;#13;
&amp;#13;
  to {&amp;#13;
    transform: rotate(359deg);&amp;#13;
  }&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;ggiat&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS GPA IC Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalTasks = [];
	data.reviewedTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var gpa_asst = gr.isMemberOf('CCR_GPA_ASST');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		gpa_asst: gpa_asst,
		sd: sd
	};
	if(gpa || gpa_asst){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = new GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
		   if(!gpa_asst){
					gr_approval_items.addQuery('approver', my_sys_id); 
			 }
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(!((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'Waiting for GPA Review - SD Rejected' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review - SD Rejected')) &amp;&amp; (gr_approval_items.state == 'approved' || (gr_approval_items.state = 'rejected' &amp;&amp; stage_v == 'Waiting for PI Resubmit' &amp;&amp;  gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review'))){	
					//if(!(stage_v == 'Waiting for GPA Review' || stage_v == 'Waiting for GPA Review - SD Rejected') &amp;&amp; gr_approval_items.state == 'approved'){	
						 if(stage_v != 'Completed' || (stage_v == 'Completed' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review')){			
										var item = {};
										item.ic_id = ticket_number;
										item.study_name = gr_approval_items.document_id.variables.study_name.toString();
							      item.number = 'CCR_IC' + gr_approval_items.document_id.number.toString().substring(8);
										item.project_title = gr_approval_items.document_id.variables.project_title.toString();
										item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
										item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
										item.status = gr_approval_items.document_id.context.stage.name.toString();
										item.last_update_date = gr_approval_items.sys_updated_on.toString();
										item.stage = stage_v.toString();
										item.sys_id = gr_approval_items.sys_id.toString();
										item.doc_id = gr_approval_items.document_id.toString();
										item.state = gr_approval_items.state.toString();
							 
									 //this is ugly code, refactor later
											var matches = data.reviewedTasks.filter(function(el, idx) {
												return el.ic_id === ticket_number;
											});
											if (matches.length) {
												var match = matches[0];
												if (new Date(item.last_update_date) &gt; new Date(match.last_update_date)) {
													var index = data.reviewedTasks.indexOf(match);
													data.reviewedTasks[index] = item;
												}
											} else { 
												data.reviewedTasks.push(item);
											}
							}
						}
							if((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'Waiting for GPA Review - SD Rejected' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review - SD Rejected')){
								  var items = {};
									items.ic_id = ticket_number;
								  items.number = 'CCR_IC' + gr_approval_items.document_id.number.toString().substring(8);
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalTasks.push(items);
							}
			}
	}	
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 18:20:19&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;91dc809cdb284340f59974131f961938&lt;/sys_id&gt;&lt;sys_mod_count&gt;161&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS GPA IC Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_91dc809cdb284340f59974131f961938&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-03 16:38:07&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  
  &lt;div class="panel panel-success panel-area" ng-show="c.data.approvalTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_gpaApprovalICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaApprovalICItems" aria-expanded="true" data-target="#collapsegpaApprovalICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications Waiting for GPA Approval &lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div aria-labelledby="heading_gpaApprovalICItems" class="panel-collapse collapse in" id="collapsegpaApprovalICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_savedIC" class="label-hidden"&gt;Search:&lt;/label&gt;	
          		&lt;input id="search_savedIC" type="text" class="form-control1" ng-model="searchSavedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalTasks | filter:searchSavedIC"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id='{{row.doc_id}}'&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.viewICData(row.doc_id, row.sys_id, row.state, row.stage, row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.report(row.doc_id, row.number, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize8"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize8" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[0]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
        &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
        &lt;div class="paging-content"&gt;
          &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalTasks.length"&gt;
            &lt;li
              ng-repeat="index in c.getRange() track by $index"
              ng-click="c.setPage($index)"
              &gt;
              &lt;a href=""&gt;
                {{ $index + 1 }}
              &lt;/a&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="panel panel-success panel-area" ng-show="c.data.reviewedTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_gpaReviewedICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaReviewedICItems" aria-expanded="true" data-target="#collapsegpaReviewedICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications reviewed by GPA &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_gpaReviewedICItems" class="panel-collapse collapse" id="collapsegpaReviewedICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
         &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_submittedIC" class="label-hidden"&gt;Search:&lt;/label&gt;	
          		&lt;input id="search_submittedIC" type="text" class="form-control1" ng-model="searchSubmittedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedTasks | filter:searchSubmittedIC"
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td &gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.viewICData(row.doc_id, row.sys_id, row.state, row.stage,row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-show="row.status == 'Completed' " ng-click="c.report(row.doc_id, row.number, 'sd')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-show="row.status != 'Completed' " ng-click="c.report(row.doc_id, row.number, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;            
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
      &lt;form class="form-inline"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize9"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize9" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
            ng-model="c.pagination1.currentSize"
            ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  
        &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
      &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.reviewedTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange1() track by $index"
          ng-click="c.setPage1($index)"
          &gt;
          &lt;a href=""&gt;{{ $index + 1 }}&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;
&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;
&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1504802522</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>568b77dfdbcb2f00b86770c08c961972</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>168149442aa0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS GPA IC Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>e92dedd54472af407ab876c244f1ad7e</update_guid>
<update_guid_history>e92dedd54472af407ab876c244f1ad7e:1504802522,59bd6ed8a376eb40bae61b84ba0baf22:-787449333,abeb9f3ffdd6ef004912e11de85d0b50:820719158,f5eb1f3ff7d6ef005685ffd34d118da9:-333942346,d655048fc7deaf00c2ac9044ec9092e7:-101721391,3961c48b91deaf004e94a855b8df7d92:-1308900688,ed3e5d2bf73d6700e9447f53556dd58d:-462396629,4d7d1de7db3d67006cfabf8340c43048:-61198434,70ecd9e7ad3d6700cc38f92ca1e68824:1750566385,ba1cd5e7f93d670028452305fbad2b22:-1377025010,38fb9da7e93d670009be04cfa1dc0e7c:-1393669942,71bbd5e7753d67002b38972db6e97c1b:504575426,9f9b9d67e53d67006bc182c8df12c0c5:-1934907651,a09b95e7053d6700299d56ca1b8989c4:-1635666836,c97b9da7da3d6700957b87e6d2db5456:1623481015,932b15a78a3d67006eaba04cfa3752a0:-580517874,070645e70ef96700b80745f4f3d10806:-1203073710,84ba64af9a796700937cace5e0a76123:2117416128,e3c9a86f67796700aec9986f4705b141:28382208,0147a86ff6796700c43f2a108818823c:2117416128,7a2f5ed3ad29a3409ee95fb3fd58bf04:913343165,010f1ed33f29a3401cbcdc59c7e2b7fd:923652996,212dda93fa29a340c51fa00676ae1926:-5338471,54fc1a935f29a3403d8ae30a498623b9:-2084810900,c2679ce72b6b5f004a6f6aa98f837b52:2125768325,0e16d427506b5f00b943528deae5ffa7:1120595671,e0f27b81fda79700f9e42b71fad5abf6:-375386627,713e6b4dad679700db9ad4dfd5835bdb:-2087089884,51b6eb09fc67970084fc70599d0d899b:891859928,752c7ac92fa39700a117639217979073:1079511226,412453b893e7570005675f0978ada8c4:-551602352,075c03b07fe7570039f025abb54a7c46:-419672486,424ccb70dde75700dbc2d71e830710a1:-1799539426,f3412230d9675700d770164ce52b2437:-1155226655,e211a6fc132757004c85857569f2be11:-1767268618,fe4711e3651f5300f544389f54042578:324650890,1737dda3831f530097e108307f03f25c:1645318470,d8d6dc4f441b5300d25de0f8c294752b:-1678998510,e4781083432e1f007225e5e2cf84c440:-1899071811,89d65bfabd859b0080a30cf03648c9ef:1727303449,e4781083432e1f007225e5e2cf84c440:-1899071811,e4781083432e1f007225e5e2cf84c440:-1899071811,393818431b2e1f001f1094bb145d3c99:-477489045,89d65bfabd859b0080a30cf03648c9ef:1727303449,6f4c514388741300fbe641d6f6f79404:881112756,50a0194fe4341300c2595b81734c5a29:-471161641,d84059cbd2341300189e9ec1d3efd660:-645755475,ec7f414b05341300250c8d8ebe3b83f1:-1312363377,9f3fc98b0e341300284c1fbab57a6036:1129243127,e80fc98b463413001d2e903ddd1f442f:1401949065,766ecd8b303413002e83bf58b8abf8eb:952307289,095e41cb263413005e3e5d531970e31a:39420012,5c3ecd8b2d341300e420fc02f5e919e4:993838879,371e094b2e341300da37cd2709a4d4ed:1275833981,221ecd8b2c341300f53c7a4aa9bf6428:-1904125987,8abd494bc934130031b0c92b97a49044:790470306,40bdc14ba73413003ad51b23e1553e03:1922160649,6bcc818bc4341300bfb94236531dd789:-1032080459,c9cf1ec0803c1300e8e8608794967dde:952307289,5caf5ec0f43c1300f77143eb8484e348:1096955891,6e9f16c06c3c13001330f7a63c01b490:159392996,819f1ec0873c13001ae1d96011c4999c:1386985284,c08fdac0cd3c130011c9b055a88c40ee:-2037939872,597fdac0f93c1300356ea6d49f9f4466:88614662,a9921a48fcf81300fd979f72b933f6f0:-260642230,68c19a0887f81300a420496c4d8736d4:1890581807,e6a1d608eaf8130024f9feaae63c9f94:323487812,99515ec488f813004c384b643158a54b:393089780,558c558422374700cf862adef0b28eda:1153128457,ed6c1d809337470046de47c2e314508a:-1511159079,20ba8df54ca7cf006134c4de6698c0f8:-630195112,2df6358a82624700933dfba1d2db5cf0:371154616,5683b5c6a3624700b2e634d54b9003b4:608034770,e743f1c632624700d6ef27511a03e4c1:-755655854,69a2f986d3624700b5f6b78453f8f1d5:-1874981445,089271c62c6247001161fc6c234eef24:-360569307,47f13d06d26247001bb5492a20afbfd6:-1874981445,dc1138f1cc2607008b786ff938e54b4f:-1462268999,cab07cb1e526070000136baceeb25dec:-1877438562,b0d67b6877a283003f4238a0de8f952a:-1462268999,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788,d218979febde8300fb8d89e14dee490d:949971788</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_5dd52f37dbfd3600f59974131f9619e7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($rootScope, $scope, $http, spUtil, $timeout, displayInformation) {
  /* widget controller */
  var c = this;
	console.log(c.data.tasks);
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};
	c.columns = [
		{
			key: 'project_id',
			label: 'Project ID',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Project Name',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'gdsp_status',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'ic_status',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'exception_request_status',
			label: 'Exception Request ID',
			sort: 'asc'
		},
		{
			key: 'submitter',
			label: 'Submitter',
			sort: 'asc'
		},
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.floor(c.data.tasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.tasks = c.data.tasks.sort(compareRows);
		}
	};
 //alert(c.data.debug.info);
	//Above is Brian's code, need to read it
	$('.collapse').on('shown.bs.collapse', function() {
    console.log(this);
    $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
		$(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });
	c.removeItem = function(id) {
		$('#refresh').val('0');
		var $confirm = $('#confirmDiv');
		$confirm.modal('show');
		$('#message').html("Are you sure you want to remove this record?");
		$('#btnYesConfirmYesNo').off('click').click(function() {
			$('#loading').show();
			var data = {
				'id': id,
				'method': 'anything'
			};
			
			var request = {
				method: 'POST',
				url: '/api/naci/gds/deleteGDSRecord',
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};			
			
			$http(request).then(handleResponse, handleError);
			
			function handleResponse(response) {
				var result = response.data.result;
				console.log(result);
			}
			
			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}
			
			$confirm.modal('hide');
			$('#loading').hide();
		});
		
		$('#btnNoConfirmYesNo').off('click').click(function(){			
			$confirm.modal('hide');
		});
	};
	
	$scope.displayGDSP = function(id, gdsp_id){
		displayInformation.displayGDSP(id, gdsp_id);
	}
	$scope.displayIC = function(id, ic_id){
		displayInformation.displayIC(id, ic_id);
	}
		
	c.editItem = function(id, access) {
		 $('#refresh').val('0');
			location.replace("$sp.do?id=gds_web_main&amp;itemId=" + id +"&amp;access=" + encodeDecodeData(access, 'encode'));
	};
	
	spUtil.recordWatch($scope, "u_software_solution_gds_project_information", "", function(name, data) {  
		spUtil.update($scope);
	});
	
	function encodeDecodeData(data, flag){
		var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
								encode:function(e){
									var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);
									while(f&lt;e.length){
										n=e.charCodeAt(f++);
										r=e.charCodeAt(f++);
										i=e.charCodeAt(f++);
										s=n&gt;&gt;2;
										o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;
										u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;
										a=i&amp;63;
										if(isNaN(r)){
											u=a=64
										}else if(isNaN(i)){
											a=64
										}
										t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);
									}
									return t
								},
								decode:function(e){
									var t="";
									var n,r,i;
									var s,o,u,a;
									var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");
									while(f&lt;e.length){
										s=this._keyStr.indexOf(e.charAt(f++));
										o=this._keyStr.indexOf(e.charAt(f++));
										u=this._keyStr.indexOf(e.charAt(f++));
										a=this._keyStr.indexOf(e.charAt(f++));
										n=s&lt;&lt;2|o&gt;&gt;4;
										r=(o&amp;15)&lt;&lt;4|u&gt;&gt;2;
										i=(u&amp;3)&lt;&lt;6|a;
										t=t+String.fromCharCode(n);
										if(u!=64){
											t=t+String.fromCharCode(r);
										}
										if(a!=64){
											t=t+String.fromCharCode(i);
										}
									}
									t=Base64._utf8_decode(t);
									return t;
								},
								_utf8_encode:function(e){
									e=e.replace(/rn/g,"n");
									var t="";
									for(var n=0;n&lt;e.length;n++){
										var r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
										}else if(r&gt;127&amp;&amp;r&lt;2048){
											t+=String.fromCharCode(r&gt;&gt;6|192);
											t+=String.fromCharCode(r&amp;63|128)
										}else{
											t+=String.fromCharCode(r&gt;&gt;12|224);
											t+=String.fromCharCode(r&gt;&gt;6&amp;63|128);
											t+=String.fromCharCode(r&amp;63|128);
										}
									}
									return t;
								},
								_utf8_decode:function(e){
									var t="";
									var n=0;
									var r=0,c1=0,c2=0;
									while(n&lt;e.length){
										r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
											n++;
										}else if(r&gt;191&amp;&amp;r&lt;224){
											c2=e.charCodeAt(n+1);
											t+=String.fromCharCode((r&amp;31)&lt;&lt;6|c2&amp;63);
											n+=2;
										}else{
											c2=e.charCodeAt(n+1);
											c3=e.charCodeAt(n+2);
											t+=String.fromCharCode((r&amp;15)&lt;&lt;12|(c2&amp;63)&lt;&lt;6|c3&amp;63);
											n+=3;
										}
									}
									return t;
								}
							 };

		var result = '';
		if(flag == 'encode'){
			result = Base64.encode(data);
		}else if(flag == 'decode'){
			result = Base64.decode(data);
		}else{
			result = 'ERROR Method';
		}
		
		return result;
	}
	
}
]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css/&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-project-table&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS Project Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;true&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
		data.tasks = [];
		var my_sys_id = gs.getUserID();
		data.info = {
			userId: my_sys_id
		};
	data.debug = {
		 info: ''
	};
	  //search for project that this person has read or write access.
	  var gds_ids = [];
		var gl = new GlideRecord('u_gds_user_accress_t');
				gl.addQuery('u_user_id', my_sys_id);
				gl.query();
		while (gl.next()){
			var id = gl.getDisplayValue('u_gds_id');
			if(id != null || id.trim().length &gt; 0){
				gds_ids.push(gl.getDisplayValue('u_gds_id'));
			}
		}
		var gr = new GlideRecord('u_software_solution_gds_project_information');
		var tt = gr.addQuery('u_user_id', my_sys_id);
		gr.orderByDesc('u_number');
		if(gds_ids != null){
			for(var i = 0;  i &lt; gds_ids.length; i++){
				tt.addOrCondition('sys_id', gds_ids[i]);
			}
		}
		gr.query();
		while (gr.next()){
			var item = {};
			item.project_id = gr.getDisplayValue('u_number');
			item.project_name = gr.getDisplayValue('u_project_title');
			item.principal_investigator = gr.getDisplayValue('u_pi_last_name') + ", " + gr.getDisplayValue('u_pi_first_name'); 
			item.gdsp_status = getGDSPStatus(gr.getDisplayValue('u_gdsp_status'));
			item.ic_status = getICStatus(gr.getDisplayValue('u_ic_status'));
			item.exception_request_status = gr.getDisplayValue('u_er_status');
			item.submitter = gr.getDisplayValue('u_submitter');
			item.id = gr.getValue('sys_id');
			//add access
			var gt = new GlideRecord('u_gds_user_accress_t');
			gt.addQuery('u_user_id', my_sys_id);
			gt.addQuery('u_gds_id', item.id);
			gt.query();
			gt.next();
			var access = gt.getDisplayValue('u_access');
			if(access == null || access.trim().length == 0){
				item.access='Read_and_Write';
			}else{
				item.access = access;
			}
			data.tasks.push(item);
		}
	
	function getGDSPStatus(numbers){
		var itemArr = numbers.split(","); 
		if(itemArr.length &gt; 0){
			var res = [];
			for(var i = 0; i &lt; itemArr.length; i++){
				var sysId = '';
				var numberOnly = itemArr[i].trim().substring(8);
				if(numberOnly.indexOf("-") &gt; 0){
					  var temp = numberOnly.split("-");
					 sysId = getSysId('NCI-RITM'+temp[0], temp[1]);				
				}else{
					var req = new GlideRecord('sc_req_item');
							req.addQuery('number', 'NCI-RITM'+itemArr[i].trim().substring(8));
							req.query();
							req.next();
					sysId = req.getDisplayValue('sys_id').toString();
				}
				res.push({
					label: itemArr[i].toString(),
					id: sysId
				});
			}
			return res;
		}else{
			return numbers;
		}
	}
	
	function getICStatus(numbers){
		var itemArr = numbers.split(","); 
		if(itemArr.length &gt; 0){
			var res = [];
			for(var i = 0; i &lt; itemArr.length; i++){
				var sysId = '';
				var numberOnly = itemArr[i].trim().substring(6);
				if(numberOnly.indexOf("-") &gt; 0){
					  var temp = numberOnly.split("-");
					  sysId = getSysId('NCI-RITM'+temp[0], temp[1]);				
				}else{	
						var req = new GlideRecord('sc_req_item');
													req.addQuery('number', 'NCI-RITM'+itemArr[i].trim().substring(6));
													req.query();
													req.next();
					   sysId = req.getDisplayValue('sys_id').toString();
				}
				res.push({
					label: itemArr[i].toString(),
					id: sysId
				});
			}
			return res;
		}else{
			return numbers;
		}
	}
	
	function getSysId(number, v){
			if(number != null) number = number.trim();
			if(v != null) v = v.trim();
			var item = new GlideRecord('u_ccr_tracking_t');
					item.addQuery('u_ticket_number', number);
					item.query();
					item.next();
          var id = item.u_orgid.toString();
			var item1 = new GlideRecord('sc_req_item');
					item1.addQuery('contact_type', id+"="+v);
					item1.query();
					item1.next();
			return item1.sys_id.toString();
	}
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-05 14:14:34&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;5dd52f37dbfd3600f59974131f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;379&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS Project Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_5dd52f37dbfd3600f59974131f9619e7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-21 20:18:52&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="panel panel-success panel-area" ng-show="c.data.tasks.length &gt; 0"&gt;
  &lt;div class="panel-heading panel-header" id="heading_savedItems" role="tab"&gt;
    &lt;h4 class="panel-title"&gt;
      &lt;a aria-controls="collapsesavedItems" aria-expanded="true" data-target="#collapsesavedItems" data-toggle="collapse" role="button"&gt;
        &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
        Genomic Data Sharing Projects &lt;span class="badge" id="ritm_count"&gt;{{ c.data.tasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
  &lt;/div&gt;
  
  &lt;div aria-labelledby="heading_savedItems" class="panel-collapse collapse in" id="collapsesavedItems" role="tabpanel"&gt;
    &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
	  &lt;thead&gt;
      &lt;tr&gt;
        &lt;th 
            ng-repeat="column in c.columns track by $index" 
            ng-click="c.toggleSort($index)" 
            style="cursor: pointer"&gt;
        		{{ column.label }}
          	&lt;span 
            	class="glyphicon small" 
              ng-class="{
                        	'glyphicon-chevron-up': column.sort === 'asc',
                        	'glyphicon-chevron-down': column.sort === 'desc'
                        }"&gt;
          	&lt;/span&gt;
        &lt;/th&gt;
      &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tr ng-repeat="row in c.data.tasks track by $index"
          ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                   $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id='{{ row.project_id }}'&gt;
        &lt;td class="ritm_number"&gt;{{ row.project_id }}&lt;/td&gt;
        &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
        &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
        &lt;td class="ritm_number"&gt;
          &lt;span ng-repeat="item in row.gdsp_status track by $index"&gt;
						&lt;a href="" id="{{item.id}}-id" ng-click="displayGDSP(item.id, item.label)"&gt;
          		{{ item.label }}&lt;/a&gt;&lt;span ng-if="$index &lt; row.gdsp_status.length - 1"&gt;,&lt;/span&gt;
          &lt;/span&gt;
        &lt;/td&gt;
        &lt;td class="ritm_number"&gt;
          &lt;span ng-repeat="item in row.ic_status track by $index"&gt;
						&lt;a href="" id="{{item.id}}-id" ng-click="displayIC(item.id, item.label)"&gt;
          		{{ item.label }}&lt;/a&gt;&lt;span ng-if="$index &lt; row.ic_status.length - 1"&gt;,&lt;/span&gt;
          &lt;/span&gt;
        &lt;/td&gt;
        &lt;td class="ritm_number"&gt;{{ row.exception_request_status }}&lt;/td&gt;
        &lt;td class="ritm_number"&gt;{{ row.submitter }}&lt;/td&gt;
        &lt;td ng-show="row.access == 'Read_and_Write'"&gt;
        	&lt;button class="btn btn-sm btn-primary active" ng-click="c.editItem(row.id, row.access)" style="width: 70px; text-align: center;"&gt;
          	View/Edit
         	&lt;/button&gt;
          &lt;button class="btn btn-sm btn-primary active" ng-click="c.removeItem(row.id)"style="width: 70px; text-align: center;"&gt;
            Remove
         	&lt;/button&gt;
       	&lt;/td&gt;
        &lt;td ng-show="row.access == 'Read_Only'"&gt;
        	&lt;button class="btn btn-sm btn-primary active" ng-click="c.editItem(row.id, row.access)" style="width: 70px; text-align: center;"&gt;
          	View
         	&lt;/button&gt; 
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;!-- select the page size --&gt;
    &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize0"&gt;
                Items per page
              &lt;/label&gt;
              &lt;select 
                id="pageSize0" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
          &lt;/div&gt;
    &lt;!-- select the page index (offset) --&gt;
     &lt;div class="paging-content"&gt;
    &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.tasks.length"&gt;
      &lt;li
        ng-repeat="index in c.getRange() track by $index"
        ng-click="c.setPage($index)"
        &gt;
        &lt;a href=""&gt;
          {{ $index + 1 }}
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div id="confirmDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirmYesNo" 
                type="button" class="btn btn-primary"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirmYesNo" 
                type="button" class="btn btn-default"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-424471743</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>5a8b77dfdbcb2f00b86770c08c961971</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167d26bb1820000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS Project Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>ac036b49beeaa340c421186aa7b39e65</update_guid>
<update_guid_history>ac036b49beeaa340c421186aa7b39e65:-424471743,47e26b498aeaa340cdfe320fc6cbaf5e:797842145,bde26b4976eaa340f34bf2e6aadb962b:958954675,9aa2ebc50beaa34047fd7653d49689bf:1979116152,c3922745caeaa3409c81c80497db2ef0:-1519635752,10926749a5eaa3404f87e475ea36a987:-1629840038,7f102f85d9eaa34094f804d6c3ad8b41:1556461000,26102bc568eaa3409bab01ccf0fcb127:-621132632,c100ef85abeaa34079e25eb313e2a543:2062202870,8000e7c517eaa34089f1d4dacc89b87f:1803190659,45ff534532eaa3409d4e1d027f69cc92:-1184345628,54ef9f4552eaa340031c6bd56869c242:-1589211519,48afdb85c1eaa3409a4737bc781408c8:1969376452,353f174577eaa340ad5b33a47d3227fa:-1517476636,b61f530592eaa3409cfef40ee4472204:-2003195337,620f9b05f0eaa3409d7acaad880b44d3:1319641094,393e9705b6eaa34032fd1d97f99febd8:-1866034689,741e534557eaa340225cf633842d245d:-173163408,7e0e9f055beaa340f2772cd5082247c6:-1836125071,2afd9f0597eaa340c43161ae5ca79819:-325324402,f7eddb05c4eaa3409ca7807c2ae2543d:1582330199,bfdd5305b3eaa340a331aabb6093881a:580143569,89bd170534eaa34033e3c8f50442bf6e:-220168096,a4bd1705aeeaa3408f6e411f9cb23448:-498091591,8dadd7c185eaa340a50366aba62158eb:-741927079,559d530585eaa340dd34f8d5f2713613:481394703,8e3d9bc138eaa340e78e0a5762c5c4c4:1724985093,343d53cd79aaa34010d6e1bbc8fb3d71:-790932493,cbb71fcd7caaa340698c6bf9871a9813:437596146,b7875fcde7aaa3403eeff2a7f981fdcc:-1319706049,04675bcd6faaa3403c05dab8315d1f82:308166600,943757cd08aaa340680dcae1fe72f524:-266900458,2d0753cdb5aaa34083fc4280c67a9044:-609091468,11f613cd76aaa340658dc22f374e01ad:-429954459,ed969b8d03aaa34026d2bcaa2cd587cd:-898455901,6986d78d8eaaa3401296b72d080aa0e4:-1316763446,9266d34d5caaa34013f74dc653becf0f:1988081837,6a655b4de4aaa3401137abd6d055bec8:473007524,b54413c968aaa340d358b983d35e6c06:986128005,2aa31749d3aaa34019e9fb9dca1bb00d:-2080368471,3c73d30d60aaa340fa862ec394d20888:-1337840492,dda2970d7a6aa34067cc654d909be959:-2109308872,e6764a7c58ea6340a07ef6b3c0bfaeec:-153064937,4bca69784baa634070b3eb1a7ba0fc6f:209449559,0a15d9b8426a63401dca79483885f135:1781732867,51d415b8246a6340b2de40a403d723a1:880950833,f6c4dd782a6a6340c86fb0283dad7344:182557064,ed734560deee2340049d986074c50dc0:-523493942,a45381609dee2340cbf96b84c933442d:1170861383,4e004dac57ae234056f2e772c4c1d6a1:571062345,2aef38e8edae2340082e909b95b46839:198092355,51df38ac23ae2340ac4ffb5cd3f13961:1407268720,dfbdf82c9fae23402dc847b158310a68:466741665,63ad7c2cc9ae2340ff09e1a4dec69cfb:45577121,369dbc2c0aae23408a6c88a4473b8df7:755173345,837df82c2bae23406cb32e452604f260:-280490008,ae9cf068d0ae2340fbd64d021ed1b919:-171160440,766cf4e8f4ae23407f572cbe8c6617b7:-776811883,a84c38e841ae23407d52c6c110cc3ff7:-796931403,612c34a871ae234089f1eab6251f3d03:161175539,b60c78281cae23402b5cca204ed9dd3c:-1418627405,ebcbf0a8c0ae2340f7339b4d0f6f3efb:1072879848,4779bc2830ae23404f550e565da4a525:110629039,3569bce4e7ae23409576b1f6d5f68caf:1047302007,82597828a1ae23408321a81068078894:315454159,af09f068aeae234002dc4ac9f446ce11:1737095736,13e870680dae2340f0de91825d40fc08:1048435623,f3d8b0e444ae2340ea143fb90def1543:461308378,45d8fc2879ae2340e9a9fbf0f43259a0:-560172549,5ac8bc281cae2340fff6ddc9c677728c:1521056520,82b8b028a2ae23400a6e14379e7d736b:-1002683107,5688782835ae2340449130a3a33b7b27:-418396561,f24874e4f7ae2340ebe4d21a6dd857a5:-789843652,3d18fca4ceae234094acd2640283267b:752331451,bef7bce42eae2340d04051478bb039a7:127787469,84f770a44eae23406f90c62fb848aea0:283519246,18e7b0a0adae2340fd24113a7f99587a:-95959279,84f670e4a5ae234066ec6b2b8d6fbf9b:-1027198143,8fb6b864ebae2340bb8a2da5d08a13ca:1322714458,b196fca427ae23404c5a20fa97c33a74:-251901122,ff6570a4b3ae23407635d24a1c0e5d5c:728488058,406530a416ae23404cd7f7c19b560bbd:-1351277304,6f05b86436ae23401b21424e1241b5c2:-1293495706,ef247c24e6ae2340a6e997233f54844c:-161335416,21f3b82497ae23405113ad97dc1ee9ed:1097043373,f0133ce097ae2340dce139b099094814:177372857,4ad23ce0b6ae2340844f74b7c7a2d10c:673750403,30b2bc20b6ae23402fee50da1425e216:-1961281931,2b2270e084ae2340380b25963ff2c9ab:-551591003,76e13ca021ae2340b5f276fc16ef635b:-1809951667,8fc13060e6ae234086c12364e9df9b43:-1039704984,1b2130609dae2340a306ee4595504b7c:-1039518811,a201bc604bae2340233cd29e16c8bdea:-398936236,e801bc6005ae2340417c17b47c3ff3a9:-1884982402,37b0f860f7ae23406afbd62ecebb4ee6:-1484197805,77a9a05c07e223402a08f030f844be8a:-1355820585,8fa9241c0de22340eb9e35100224759d:-1587786102,2f89205c1fe22340082641ee585de1fe:-623485468,3e89a81c32e22340b2eade1d7e05b77f:278687683,97059ca3906b5f000efe73e102a3b569:775779195,7e537b81fda797007440248c0ad67277:-1928475141,b395e7c5af679700e4fd5cf62617a0bf:-1509504287,a4d41bb8c4e757004035181209224ca6:-378722436,5a3bcffcc0a75700da5282aae91e1ccf:-1428010290,ba2bcb3050e75700cfe9e4e4da6b2d44:1167876277,b42bc77c02a75700d3aa4efbb4989660:1878723061,351b037035e75700a8d98bd170380d5a:2139327250,980bcb30d8e75700a733f2ed6182fbdc:1478890665,84ea8b3c9aa75700be74a2aee05b63d0:-1118232411,11da0b3063e75700c9e23f18d6391db8:1811542906,9a3ffaf4c8a757009847eb2f99ea03ee:1348135904,619655a3c11f5300d13d9a36a68788b2:-97827558,6d0e99471674130035a0fbeafa4345bc:-2112577570,6d0e99471674130035a0fbeafa4345bc:-2112577570,6d0e99471674130035a0fbeafa4345bc:-2112577570,f1fd1d47a574130081e69c9feaf6d852:1359676794,105724c04cb347006ed1411da6b9e2a4:537609717,4b3720002eb3470060ac9ecf12ba9695:-1842292365,9f072080ffb347007d21456468b2d623:1543173087,874cfcb261238300205a7e925377910d:577478997,554cf8f2d32383001f1c78681c4d66d9:1561082095,7549b072382383001d082e27fe166af1:-464358833,b239bc3233238300fc364b6b5d88aa3e:-2109770187,e42970724a2383002a6fedffde587e4b:-1125158089,7616f4fa94ef430047b32f3bf4ceab25:625899013,eca889b183a7cf001587ab0132193542:577478997,a0cc8e64783acb002ae02c68e98de5e3:129394605,c7ac0ee4723acb007471b85b8a9d2af1:-401888109,859c0628463acb008c6c03cd8c6ae26b:54521105,1ca5aa56632a87005593f9d537b3c61d:7524037,44d26ad2572a87003c8469599ae80d80:343581787,3381aa12402a87002def54ef33d251c1:-499965516,8ba02e12632a8700747fd0c07781e957:-1944885967,5218979f0ede8300c04cb770eedb6f05:-1554087865,5218979f0ede8300c04cb770eedb6f05:-1554087865,5218979f0ede8300c04cb770eedb6f05:-1554087865</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_application_b2408d9edb9e2f0054d8ff621f961943</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_application"><sys_app_application action="INSERT_OR_UPDATE"><active>true</active><category display_value="Custom Applications">e0355b31ef303000a61d5a3615c0fb78</category><description/><device_type>browser</device_type><hint/><name>GDS Tissue Protocols</name><order>100</order><roles>u_gds_tissue_protocols_user</roles><sys_class_name>sys_app_application</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>b2408d9edb9e2f0054d8ff621f961943</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocols</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_application_b2408d9edb9e2f0054d8ff621f961943</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><title>GDS Tissue Protocols</title><view_name/></sys_app_application></record_update>]]></payload>
<payload_hash>-763497035</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>5a8bbbdfdbcb2f00b86770c08c961904</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d2ab0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS Tissue Protocols</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>b6408d9eaa9e2f0022aafa3c63f2b444</update_guid>
<update_guid_history>b6408d9eaa9e2f0022aafa3c63f2b444:-763497035</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_2a1d6b2edb2f360054d8ff621f961976</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
  /* widget controller */
	var c = this;
	console.log($scope.data);
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var catItemId = '';
	var itemIdArray = {};
	//start consent group 
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [
		{
			key: 'site_name',
			label: 'Collaborating Site Name',
			sort: 'asc'
		},
		{
			key: 'use_limit',
			label: 'Data Use Limitations',
			sort: 'asc'
		},
		{
			key: 'data_modifier',
			label: 'Data Use Limitations Modifier',
			sort: null
		},
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.consentTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.tasks = c.data.consentTasks.sort(compareRows);
		}
	};
// end of the pagination of Consent Group	
	
	$('#icForm').on('show.bs.modal', function (e) {
		 // loadConsentData();
		c.data.consentTasks = [];
		var grpIds = $('#consentGroupIds').val();
		if(grpIds != null &amp;&amp; grpIds.trim().length &gt; 0){
			populateConsentGroupDataById(grpIds);
		}
	});
	
	$('#dataModifier').select2();
	//loadBranchOptionString();
  $('#branch').val('NCI');
	//ajax call to fetch catItemId
	var req = {
				method: 'GET',
				url: '	/api/naci/gdspapi/getCatItem',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {name: 'CCR GDSP Intramural Certification'}	
	};
	$http(req).then(function(response){
		 console.log(response);
		 catItemId = response.data.result[0].cat_item_id;
	});
	
	var req2 = {
				method: 'GET',
				url: '/api/naci/gdspapi/getICVariableIdArray',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				params: {email: 'zhoujim@nih.gov'}	
	};
	$http(req2).then(function(response){
		 console.log(response);
		 itemIdArray = response.data.result[0].itemId;
	});	

	$("#datepicker").datetimepicker({format:'MM/DD/YYYY'}).on('dp.show', function() {
		$('.bootstrap-datetimepicker-widget li.accordion-toggle').hide();
	});
	
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title','data_access', 'display', 'frequency', 'sampleTime', 'sampleConsent', 'consent_group'];

  $scope.closeICForm = function (){
	  $('#icForm').modal('hide');
  };
	
	$scope.submitIcForm = function(){
		$('#refresh').val('0')
		clearICFieldBackground();
		var ic_id = $('#ic_id').val();
		var sample_time = $('#sample_time').val();
		var sample_consent = $('#sample_consent').val();
		var error = icDataValidation(sample_time, sample_consent);
		if(error == true){
				$('#icError').show();		
		}else{
			$('#icError').hide();
		  //submit data to service.
			var $confirm = $('#icConfirmSubmitDiv');
			$confirm.modal('show');
			if($('#piUserId').val() == userId){
			$('#messageIC').html("Are you sure you want to submit this request and sign this document?&lt;br/&gt;Note: If choosing submit, you will automatically sign the Institution Certificcate form. ");						
			}else{
						$('#messageIC').html("Are you sure you want to submit this request and sign this document?");			
			}

			$('#icYesConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				submitICRequest();	
				$confirm.modal('hide');
			});
			$('#icNoConfirm').off('click').click(function() {
				$confirm.modal('hide');
			});
		}
	};
	
	function submitICRequest(){
		 $('#icForm').modal('hide');
		 $('#loading').show();
		 var type = $('#type').val();
		 var variables = getICData();
		 variables.requested_for = $('#piUserId').val();
	   variables.opened_by = userId;
     variables.contact_type = 'Web';
		 variables.short_description = $('#hideGDSId').val();
		 variables.investigator = $('#piName').val();
		 variables.projectName = $('#piTitle').val();
		 variables.cat_item = catItemId;
		 variables.variables = itemIdArray;
		 var icData = JSON.stringify(variables);
		 var req = {
						method: 'POST',
						url: '/api/naci/gds/submitICRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: icData
			};
			$http(req).then(function(response){
				 console.log(response);
				  //update GDS record
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 ic_id: data.id,
					 ic_number: data.ticketNum,
					 type: 'ic',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 console.log(response);
					 var icID = $('#ic_id').val();
					 if(icID != null || icID.trim() != ""){
								removeICAfterSubmit(icID);
					 }
					 $('#recId').val($('#hideGDSId').val());
				});				
			});
	} 
	
	$scope.saveIcForm = function(){
		$('#refresh').val('0');
		var variables = getIcFormData();
		variables.gds_id = $('#hideGDSId').val();
		var icData = JSON.stringify(variables);
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: icData
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			$('#recId').val($('#hideGDSId').val());
			$('#icForm').modal('hide');
			$('#infoModal').modal('show');
			$('#messageInfo').html('The Intramural Submission Certification Data has been saved successfully.');
			$('#btnOkConfirm').off('click').click(function() {
          $('#infoModal').modal('hide');
			});
		}
		function handleError(){
			console.error(response);
			alert('ERROR');
		}
	};
	
	function getIcFormData(){
		var variables = {};
		variables.requested_for = userId;
		variables.opened_by = userId;
		variables.application = 'GDS_IC';
		variables.value = '';
		variables.project_name = '';
		variables.saved_id = $('#ic_id').val();
		var index = 0;
		for(index = 0; index &lt; names.length; index++){
			if(index != 0) variables.value += ',';
			if(names[index] == 'data_access'){
				var access = $('input[name=dataAccessBox]:checked').val();
				variables.value += names[index] + "=" + access;
			}else if(names[index] == 'display'){
				var display = 'no';
				if($('#displayBox').is(':checked')){
					display = 'yes';
				}
				variables.value += names[index] + "=" + display;
			}else if(names[index] == 'sampleTime'){
				var sampleTime = $('input[name=sampleTime]:checked').val();
				variables.value += 'sampleTime=' + sampleTime;
			}else if(names[index] == 'sampleConsent'){
				var sampleConsent = $('input[name=sampleConsent]:checked').val();
				variables.value += 'sampleConsent=' + sampleConsent;
			}else{
				var val = $('#'+names[index]).val();
				variables.value += names[index] + '=' + val;
			}
		}
		
		return variables;
	}
	
	function getICData(){
		var variables = {};
		for(i = 0; i &lt; names.length; i++){
			if(names[i] == 'data_access'){
				var access = $('input[name=dataAccessBox]:checked').val();
				variables[names[i]] = access;
			}else if(names[i] == 'display'){
				var display = 'no';
				if($('#displayBox').is(':checked')){
					display = 'yes';
				}
				variables[names[i]] = display;
			}else if(names[i] == 'sampleTime'){
				variables[names[i]] = $('#sample_time').val();
			}else if(names[i] == 'sampleConsent'){
				variables[names[i]] = $('#sample_consent').val();
			}else{
				variables[names[i]] = $('#'+names[i]).val();
			}
		}
		return variables;
	}
	
	function icDataValidation(sample_time, sample_consent){
		var error = false;
		var i = 0; 
		if($('#piUserId').val() == null || $('#piUserId').val().trim().length == 0){
				error = true;
			$('#icErr').html("&lt;font color='red'&gt;&lt;li&gt;PI Name in Project Information is the required field&lt;/li&gt;&lt;/font&gt;");
		}
		if($('#piTitle').val().trim().length == 0){
			error = true;
			$('#icErr').html("&lt;font color='red'&gt;&lt;li&gt;PI Title in Project Information is the required field&lt;/li&gt;&lt;/font&gt;");
		}else{
				for(i = 0; i &lt; names.length; i++){
					if(names[i] == 'sampleTime' || names[i] == 'sampleConsent'){
						continue;
					}
					/*if(sample_time == 'yes' &amp;&amp; sample_consent == 'yes'){
						if(names[i] == 'institution_name'){
							continue;
						}
					}else if(sample_time == 'no' &amp;&amp; sample_consent == 'yes'){
								if(names[i] == 'institution_name'){
										continue;
								}
					}*/
					if(names[i] == 'data_access'){  // || names[i] == 'display' || names[i] == 'frequency'){
						continue;
					}
					if(names[i] == 'gpa_organization'){
						if($('#' + names[i]).val() == 'none'){
							error = true;
							$('#' + names[i]).css('background-color','yellow');
						} 
					}else	if(names[i] == 'sd_organization'){
						if($('#' + names[i]).val() == 'none'){
							error = true;
							$('#' + names[i]).css('background-color','yellow');
						} 
					}else if(names[i] == 'display'){
						 if($('#displayBox').is(':checked') == true &amp;&amp; $('#frequency').val().trim().length == 0){
							 error = true;
							 $('#frequency').css('background-color','yellow');
						 }
					}else{
						if(names[i] == 'frequency'){
							continue;
						}
						if($('#' + names[i]).val().trim().length == 0){
							error = true;
							$('#' + names[i]).css('background-color','yellow');
						}
					}
				}
		}
		return error;
	}
	
	function clearICFieldBackground(){
		var i = 0; 
		for(i = 0; i &lt; names.length; i++){
				$('#' + names[i]).css('background-color','');
		}
	}
	
	function cleanICData(){
	 var i = 0; 
	 for(i = 0; i &lt; names.length; i++){
		 if(names[i] == 'gpa_organization' || names[i] == 'sd_organization'){
			 $('#' + names[i]).val("none");
		 }else{
				$('#' + names[i]).val('');
		 }
	 }
 }	
	
	 function removeICAfterSubmit(id){
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);
			function handleResponse(response) {
				var result = response.data.result;
				$('#icForm').modal('hide');
				console.log(result);
				$('#loading').hide();
			}
			
			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}		
 }	

	function convertDate(year, flag){
		var result = '';
		var symbol = '';
		if(flag == '0'){
			result = year.split('/');
			symbol = '-';
		}
		if(flag == '1'){
			result = year.split('-');
			symbol = '/';
		}
		
		return result[0] + symbol + result[1] + symbol + result[2];
	}
	
	$scope.loadICResubmitConfirm = function(){
		$('#refresh').val('0');
		$('#messageIC').html('Are you sure you want to resubmit this request?');
		$('#icConfirmSubmitDiv').modal('show');
		$('#icYesConfirm').off('click').click(function() {
				//submit request
				$('#errorMessage').hide();
				//validation		
				var sample_time = $('#sample_time').val();
				var sample_consent = $('#sample_consent').val();
				var error = icDataValidation(sample_time, sample_consent);
				if(error == true){
						$('#icError').show();
				}else{
						resubmitICRequest();	
				}
				$('#icConfirmSubmitDiv').modal('hide');
			});
			$('#icNoConfirm').off('click').click(function() {
				$('#icConfirmSubmitDiv').modal('hide');
			});
	};
	
	$scope.controllAccess = function(){
	  var selected = $('#displayBox').is(":checked");
		if(selected == true){
			$('#controllaccessDiv').show();
		}else if(selected == false){
			$('#controllaccessDiv').hide();
		}
		
	}
	
	function resubmitICRequest(){    
		var variables = {};
		//ccr_id is IC request ID
    var currentId = $('#ccr_id').val();
		variables.org_id = $('#'+currentId +'_orginId_ic').val();
    variables.ticket_number = $('#'+currentId +'_ticket_num_ic').val();
		$('#loading').show();
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/gsdspUtil',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: variables
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			var version = result.version;
			resubmitIC($('#'+currentId +'_orginId_ic').val(), version, currentId);
		}
		function handleError(){
			console.error(response);
			alert('ERROR');
		}		
	}

	function resubmitIC(org_id, version, currentId){
     var variables= getICData();
		 variables.orginId = org_id;
		 variables.version = version;
		 variables.requested_for = $('#piUserId').val();
     variables.opened_by = userId;
		 variables.investigator = $('#piName').val();
		 variables.projectName = $('#piTitle').val();
     variables.contact_type = org_id +"="+version;
	   variables.cat_item = catItemId;
     variables.short_description = $('#hideGDSId').val();
		 var fixedComments = formatHistoricComment($('#resubmitCommentsId').val());
		 variables.comments = fixedComments;
	   variables.resubmit = 'true';
		 variables.variables= itemIdArray;
		 var icData = JSON.stringify(variables);
		 var req = {
						method: 'POST',
						url: '/api/naci/gds/submitICRequest',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: icData
			}
			$http(req).then(function(response){
				 console.log(response);
				 var data = response.data.result[0];
				 var param ={
					 gds_id: $('#hideGDSId').val(),
					 ic_id: data.id,
					 ic_number: data.ticketNum,
					 type: 'ic',
					 method: 'add'
				 };
				var request ={
						method: 'POST',
						url: '/api/naci/gds/updateGDS',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
						headers: {
							'Content-Type': 'application/json'
						},
						data: param				
				};
				$http(request).then(function(response){
					 console.log(response);
					 $('#icForm').modal('hide');
					$('#loading').hide();
				});				
			});
	}	
	function formatHistoricComment(comment){
		if(comment.length&gt;= 50){
				 var index = comment.indexOf('Added comment to Approval record:');
				 return comment.substring(index);
		}else{
				 return  ' ';
		}
	}	
	
	window.toggleTextField = function(){
		if($('#dataLimitation').val() == 'Disease-specific'){
			$('#useTextLabel').html('Disease');
			$('#useTextLabel').show();
			$('#useTextField').show();
		}else if($('#dataLimitation').val() == 'other'){
			$('#useTextLabel').html('Other');
			$('#useTextLabel').show();
			$('#useTextField').show();
		}else{
			$('#useTextField').hide();
			$('#useTextLabel').hide();
		}
	};
	
	$scope.addConsent = function(){
		$('#refresh').val('1');
		$('#branch').val('');
		$('#consentErr').hide();
		$('#icConsentGroupDiv').modal('show');
		$('#consentSubmitConfirm').off('click').click(function() {
			var valid = validateConsentGrp();		
			if(valid.hasError == true){
				$('#consentErr').html(valid.message);
				$('#consentErr').show();
			}else{
				$('#consentErr').html('');
				$('#consentErr').hide();
				saveConsentGrp();
				$('#icConsentGroupDiv').modal('hide');
			}
		});
		$('#consentCancelConfirm').off('click').click(function() {
				$('#icConsentGroupDiv').modal('hide');
		});
	}
	
	function saveConsentGrp(){
		var groupData = getConsentGrpData();
		groupData.method = 'add';
		groupData.id = $('#hideGDSId').val();
		var data1 = JSON.stringify(groupData);
		var request = {
				method: 'POST',
				url: '/api/naci/gds/saveICConsent',
			  beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data1
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			$('#recId').val($('#hideGDSId').val());
	    addConsentId(result.id);
			addOrUpdateICInfo();
			resetConsentGrp();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}	
	}
	
	function addOrUpdateICInfo(){
		var icId =  $('#ic_id').val();
		if(icId == null || icId.trim().length == 0){
			processICData(0);
		}else{
			processICData(1);
		}
	}

	function processICData(indicator){
		
	  var variables = {};
		if(indicator == 0){
			variables = getIcFormData();
		}else {
			variables = getIcFormData2();
		}
		var icData = JSON.stringify(variables);
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: icData
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			if(indicator == 0){
				$('#ic_id').val(result[0].sys_id);
			}
			var ic_id = $('#ic_id').val();
			loadConsentData(ic_id);
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}	
	}
	
	function getIcFormData2(){
		var variables = {};
		variables.requested_for = userId;
		variables.opened_by = userId;
		variables.application = 'GDS_IC';
		variables.value = '';
		variables.project_name = '';
		variables.saved_id = $('#ic_id').val();
		var index = 0;
		for(index = 0; index &lt; names.length; index++){
			if(index != 0) variables.value += ',';
			var val = $('#'+names[index]).val();
			variables.value += names[index] + '=' + val;
		}
		var sampleTime = $('#sample_time').val();
		var sampleConsent = $('#sample_consent').val();
		variables.value += ',sampleTime=' + sampleTime +",";
		variables.value += 'sampleConsent=' + sampleConsent;
		return variables;
	}
	
	function addConsentId(id){
		 var consentGrp = $('#consent_group').val();
		if(consentGrp.trim().length == 0){
        $('#consent_group').val(id);			
		}else{
			 var temp = consentGrp.split(",");
			 temp[temp.length] = id;
			 var str = getIdInString(temp);
			 $('#consent_group').val(str);
		}
	}
	
	function getIdInString(temp){
	   var ids = '';
		 if(temp.length == 1){
			 ids = ''+temp[0];
		 }else{
			 for(var ind = 0; ind &lt; temp.length; ind++){
				 if(ind == 0){
					 ids = ids + temp[ind];
				 }else{
					 ids = ids + "#" + temp[ind];
				 }
			 }
		 }	
		return ids;
	}
	
	$scope.removeConsent = function(id){
		    $('#refresh').val('1');
			var $confirm = $('#icConfirmSubmitDiv');
			$confirm.modal('show');
			$('#messageIC').html("Are you sure you want to remove this Consent Group?");		
			$('#icYesConfirm').off('click').click(function() {
				//submit request
			 removeConsentGroup(id);
				$confirm.modal('hide');
			});
			$('#icNoConfirm').off('click').click(function() {
				$confirm.modal('hide');
			}); 
		
	}
	
	function removeConsentGroup(id){
		$('#consent_group').val(removeConsentGroupId(id));
		 //remove consent group from database.
		var request = {
				method: 'POST',
				url: '/api/naci/gds/saveICConsent',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {id: id, method: 'remove'}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
       addOrUpdateICInfo();
			 var ic_id = $('#ic_id').val();
			 loadConsentData(ic_id);
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}	
	}
	
	function removeConsentGroupId(id){
		var idStr = $('#consent_group').val();
		var temp = idStr.split("#");
		if(temp.length == 1){
			return "";
		}else{
			var newIds = [];
			var index = 0;
			for(var i = 0; i &lt; temp.length; i++){
				if(temp[i] == id){
					continue;
				}else{
					newIds[index] = temp[i];
					index++;
				}
			}
			var newStr = getIdInString(newIds);
			return newStr;
		}
	}
	
	function getConsentGrpData(){
		var groupData = {};
		groupData.siteName = $('#branch').val();
		groupData.data_limit = $('#dataLimitation').val();
		groupData.data_field = $('#dataUseLimitation').val();
		groupData.dataModifier = $('#dataModifier').val();
		return groupData;
	}
	function validateConsentGrp(){
		var jData = {};
		var hasError = false;
		var error = '&lt;font color="red"&gt;';
		var groupData = getConsentGrpData();
		var siteName = groupData.siteName;
		var data_limit = groupData.data_limit;
		var data_field = groupData.data_field;
		var dataModifier = groupData.dataModifier;
		
		if(siteName == null || siteName.trim().length == 0 || siteName.toUpperCase() == 'NONE'){
			error = error + "&lt;li&gt;Please enter a Site Name&lt;/li&gt;";
			hasError = true;
		}
		if(data_limit == 'None'){
			error = error + "&lt;li&gt;Please select a Use Limitation&lt;/li&gt;";
			hasError = true;
		}
		if(data_limit == 'ds' &amp;&amp; (data_field == null || data_field.trim().length == 0)){
			error = error + "&lt;li&gt;Please enter Disease Name&lt;/li&gt;";
			hasError = true;
		}
		if(data_limit == 'other' &amp;&amp; (data_field == null || data_field.trim().length == 0)){
			error = error + "&lt;li&gt;Please enter Other Use Limitation&lt;/li&gt;";
			hasError = true;
		}
		if(dataModifier == null ){
			error = error + "&lt;li&gt;Please select Data Use Limitation Modifier&lt;/li&gt;";
			hasError = true;
		}
		error = error + "&lt;/font&gt;";
		jData.hasError = hasError;
		jData.message = error;
		
		return jData;
	}
	
	function resetConsentGrp(){
		$('#branch').val('None');
		$('#dataLimitation').val('None');
		$('#dataUseLimitation').val('');
		$('#useTextField').css('display', 'none');
		$('#useTextLabel').css('display', 'none');
		$('#dataModifier').select2("val", "");
		$('#consentErr').html("");
	  $('#consentErr').css('display', 'none');
	}	
	
	//this is the call back function from GDS Main Client Script.
	$('#ic_id').on('custom_action', function(value) {
		   var id = $('#ic_id').val();
		   if(id != null &amp;&amp; id.trim().length &gt; 0){
			   loadConsentData(id);
		   }
	});

	function loadConsentData(ic_id){
		if(ic_id == null || ic_id.trim().length == 0){
				c.data.consentTasks = [];
		}else{
				populateConsentGroupData(ic_id);
		}
	}
	
	function populateConsentGroupData(ic_id){
			var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsnetGroupData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {icID: ic_id}
			};
			$http(request).then(handleResp, handleErr);
			function handleResp(response){
				var result = response.data.result;
				c.data.consentTasks = result;
			}
			function handleErr(response){
				console.error(response);
				alert('ERROR');
			}			
	}
	
	function populateConsentGroupDataById(consentId){
			var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupById',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentID: consentId}
			};
			$http(request).then(handleResp, handleErr);
			function handleResp(response){
				var result = response.data.result;
				c.data.consentTasks = result;
			}
			function handleErr(response){
				console.error(response);
				alert('ERROR');
			}			
	}	

}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.modal-dialog1 {
    width: 1100px;
    margin: 30px auto;
    position: relative;
}

.modal-dialog2 {
    width: 1000px;
    margin: 30px auto;
    margin-top: 250px;
    position: relative;
}

.modal-dialog2 div {
  background-color: #f2f2f2;
}

.popover{
    width:400px !important;
    height:350px; 
  	overflow: auto;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gfw&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS IC Form Widget&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.consentTasks = [];
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id
	};
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-06-27 17:23:24&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;2a1d6b2edb2f360054d8ff621f961976&lt;/sys_id&gt;&lt;sys_mod_count&gt;829&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS IC Form Widget&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_2a1d6b2edb2f360054d8ff621f961976&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-31 20:37:09&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id='icForm' class='modal fade' data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;
	&lt;div class="modal-dialog1"&gt;
  	&lt;div class="modal-content" style="height:900px;overflow-y:auto; overflow-x: hidden;"&gt;
       &lt;div class="modal-header"&gt;
               &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                   &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
               &lt;/button&gt;
               &lt;h4 class="modal-title"&gt;Institutional Certification Submission&lt;/h4&gt; &lt;br&gt;
               &lt;span id="icMessage"&gt;&lt;/span&gt;
       &lt;/div&gt;      
       &lt;div class="modal-body"&gt;   
          &lt;div class="row" id='icError' style="display:none"&gt;
            &lt;div class="col-md-5" id='icErr'&gt;
      	      &lt;font color='#B22222'&gt;&lt;li&gt;Please fill in all required fields&lt;/li&gt;&lt;/font&gt;  
            &lt;/div&gt;
         &lt;/div&gt;
          &lt;div class="row"&gt;
            &lt;div class="col-md-3"&gt;
              &lt;label&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Certification Date&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
               &lt;div class='input-group date' id='datepicker'&gt;
                  &lt;input type="text" class="form-control" id="certification_date" size="20" name="certification_date" readonly='true' aria-labelledby="datepicker"&gt;
                  &lt;span class="input-group-addon"&gt;
                          &lt;span class="glyphicon glyphicon-calendar"&gt;&lt;/span&gt;
                  &lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div id='institutionDiv' class="col-md-3"&gt;
              &lt;label for="institution_name"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Name of Institution&lt;/label&gt;
            &lt;/div&gt;
            &lt;div id='institutionNameDiv' class="col-md-3"&gt;
              &lt;input type="text" class="form-control" id="institution_name" size="20"/&gt;
            &lt;/div&gt;
         &lt;/div&gt; 
         &lt;div class="row"&gt;&amp;nbsp;&lt;/div&gt;
      	 &lt;div class="row"&gt;
            &lt;!--div class="col-md-3"&gt;
              	&lt;label for="certification_to"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;GPA&lt;br/&gt;&amp;nbsp;(Genomic Program Administrator)&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
              &lt;input type="text" class="form-control" id="certification_to" size="20"/&gt;
            &lt;/div --&gt;
            &lt;div class="col-md-3"&gt;
              &lt;label for="gpa_organization"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Organization of GPA&lt;/label&gt;
						&lt;/div&gt;
            &lt;div class="col-md-3"&gt;
        				&lt;select id="gpa_organization" class="form-control" style="width:150px;"&gt;
                   &lt;option value="none"&gt;Select IC&lt;/option&gt;
                   &lt;option value="NCI"&gt;NCI&lt;/option&gt;
                   &lt;option value="NEI"&gt;NEI&lt;/option&gt;
                   &lt;option value="NHGRI"&gt;NHGRI&lt;/option&gt;
                   &lt;option value="NHLBI"&gt;NHLBI&lt;/option&gt;
                   &lt;option value="NIA"&gt;NIA&lt;/option&gt;
                   &lt;option value="NIAAA"&gt;NIAAA&lt;/option&gt;
                   &lt;option value="NIAID"&gt;NIAID&lt;/option&gt;
                   &lt;option value="NIAMS"&gt;NIAMS&lt;/option&gt;
                   &lt;option value="NIBIB"&gt;NIBIB&lt;/option&gt;
                   &lt;option value="NICHD"&gt;NICHD&lt;/option&gt;
                   &lt;option value="NIDA"&gt;NIDA&lt;/option&gt;
                   &lt;option value="NIDCD"&gt;NIDCD&lt;/option&gt;
                   &lt;option value="NIDCR"&gt;NIDCR&lt;/option&gt;
                   &lt;option value="NIDDK"&gt;NIDDK&lt;/option&gt;
                   &lt;option value="NIEHS"&gt;NIEHS&lt;/option&gt;
                   &lt;option value="NIGMS"&gt;NIGMS&lt;/option&gt;
                   &lt;option value="NIMH"&gt;NIMH&lt;/option&gt;
                   &lt;option value="NIMHD"&gt;NIMHD&lt;/option&gt;
                   &lt;option value="NINDS"&gt;NINDS&lt;/option&gt;
                   &lt;option value="NINR"&gt;NINR&lt;/option&gt;
                   &lt;option value="NLM"&gt;NLM&lt;/option&gt;
                   &lt;option value="CIT"&gt;CIT&lt;/option&gt;
                   &lt;option value="CSR"&gt;CSR&lt;/option&gt;
                   &lt;option value="FIC"&gt;FIC&lt;/option&gt;
                   &lt;option value="NCCIH"&gt;NCCIH&lt;/option&gt;
                   &lt;option value="NCATS"&gt;NCATS&lt;/option&gt;
                   &lt;option value="CC"&gt;CC&lt;/option&gt;
                   &lt;option value="OD"&gt;OD&lt;/option&gt;
                &lt;/select&gt;             
            &lt;/div&gt;
            &lt;!--div class="col-md-3"&gt;
              	&lt;label for="certification_from"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Signing Authority&lt;br/&gt;&amp;nbsp;(Scientific Director)&lt;/label&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
              &lt;input type="text" class="form-control" id="certification_from" size="20"/&gt;
            &lt;/div --&gt;
            &lt;div class="col-md-3"&gt;
              &lt;label for="sd_organization"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Organization of SD&lt;/label&gt;
            &lt;/div&gt;  
            &lt;div class="col-md-3"&gt;
						&lt;select id="sd_organization" class="form-control" style="width:150px;"&gt;
							&lt;option value="none"&gt;Select IC&lt;/option&gt;
							&lt;option value="NCI"&gt;NCI&lt;/option&gt;
							&lt;option value="NEI"&gt;NEI&lt;/option&gt;
							&lt;option value="NHGRI"&gt;NHGRI&lt;/option&gt;
							&lt;option value="NHLBI"&gt;NHLBI&lt;/option&gt;
							&lt;option value="NIA"&gt;NIA&lt;/option&gt;
							&lt;option value="NIAAA"&gt;NIAAA&lt;/option&gt;
							&lt;option value="NIAID"&gt;NIAID&lt;/option&gt;
							&lt;option value="NIAMS"&gt;NIAMS&lt;/option&gt;
							&lt;option value="NIBIB"&gt;NIBIB&lt;/option&gt;
							&lt;option value="NICHD"&gt;NICHD&lt;/option&gt;
							&lt;option value="NIDA"&gt;NIDA&lt;/option&gt;
							&lt;option value="NIDCD"&gt;NIDCD&lt;/option&gt;
							&lt;option value="NIDCR"&gt;NIDCR&lt;/option&gt;
							&lt;option value="NIDDK"&gt;NIDDK&lt;/option&gt;
							&lt;option value="NIEHS"&gt;NIEHS&lt;/option&gt;
							&lt;option value="NIGMS"&gt;NIGMS&lt;/option&gt;
							&lt;option value="NIMH"&gt;NIMH&lt;/option&gt;
							&lt;option value="NIMHD"&gt;NIMHD&lt;/option&gt;
							&lt;option value="NINDS"&gt;NINDS&lt;/option&gt;
							&lt;option value="NINR"&gt;NINR&lt;/option&gt;
							&lt;option value="NLM"&gt;NLM&lt;/option&gt;
							&lt;option value="CIT"&gt;CIT&lt;/option&gt;
							&lt;option value="CSR"&gt;CSR&lt;/option&gt;
							&lt;option value="FIC"&gt;FIC&lt;/option&gt;
							&lt;option value="NCCIH"&gt;NCCIH&lt;/option&gt;
							&lt;option value="NCATS"&gt;NCATS&lt;/option&gt;
							&lt;option value="CC"&gt;CC&lt;/option&gt;
							&lt;option value="OD"&gt;OD&lt;/option&gt;
						&lt;/select&gt;              
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &amp;nbsp;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label for="study_name"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Original Study Name&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-9"&gt;
             &lt;input type="text" class="form-control" id="study_name" style="width:90%"/&gt;
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &amp;nbsp;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label for="project_title"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Project Title for Data to be submitted&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-9"&gt;
             &lt;input type="text" class="form-control" id="project_title" style="width:90%" readonly/&gt;
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-3"&gt;
             &lt;label id="dataAccessBox1"&gt;Data are made available through&lt;/label&gt;
           &lt;/div&gt;
           &lt;div class="col-md-3"&gt;
             &lt;input type="radio" id="dataAccessBox" name="dataAccessBox" value="unrestricted" aria-labelledby="dataAccessBox1"&gt;&amp;nbsp;Unrestricted
           &lt;/div&gt;
           &lt;div class="col-md-2"&gt;
             &lt;input type="radio" id="dataAccessBox" name="dataAccessBox" value="controlled-access" aria-labelledby="dataAccessBox1"&gt;&amp;nbsp;Controlled-access
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;div class="row"&gt;
           &lt;div class="col-md-9"&gt;
             &lt;label id="dataUpload" style="display:flex;"&gt;
               The genomic summary results (GSR) from this study are only to be made available through &amp;nbsp;&amp;nbsp;
               &lt;input type="checkbox" id="displayBox" aria-labelledby="dataUpload" ng-click="controllAccess()"&gt;&amp;nbsp;&amp;nbsp;controlled-access
             &lt;/label&gt;
           &lt;/div&gt;
           &lt;!--div class="col-md-3"&gt;
             &lt;input type="checkbox" id="displayBox" aria-labelledby="dataUpload"&gt;&amp;nbsp;The display of variant alleles
           &lt;/div&gt;
           &lt;div class="col-md-6"&gt;
             &lt;input type="checkbox" id="frequenceBox" aria-labelledby="dataUpload"&gt;&amp;nbsp;Frequencies from this study in public variation archives (dbSNP and dbVar)
           &lt;/div --&gt;
         &lt;/div&gt; 
         &lt;div class="row" style="display:none;" id="controllaccessDiv"&gt;
           &lt;div class="col-md-12"&gt;
             &lt;label&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;b&gt;Explanation if controlled-access was selected for GSR&lt;/b&gt;&lt;/label&gt;&lt;br/&gt;
	           &lt;textarea class="form-control" id="frequency" rows="4" cols="100"&gt;&lt;/textarea&gt;  
           &lt;/div&gt;
         &lt;/div&gt;
         &lt;br/&gt;
         &lt;div class="panel panel-default"&gt;
               &lt;div class="panel-heading" id="consentGrpDiv"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;The consent group(s) for each collaborating study site &lt;/div&gt;&lt;br&gt;
             &lt;div class="panel panel-success"&gt;
                      &lt;div class="panel-heading" id="heading_consent" style="padding-top: 5px; padding-bottom: 5px;" role="tab"&gt;
                          &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                              &lt;a aria-controls="collapseConsent" aria-expanded="true" data-target="#collapseConsent" data-toggle="collapse" role="button"&gt;
                            &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                            &lt;span id="consent_group"&gt;Consent Groups &lt;/span&gt;
                            &lt;span class="badge" id="ritm_count"&gt;{{ c.data.consentTasks.length }}&lt;/span&gt;&lt;/a&gt;
                        	  &lt;button type="button" class="btn btn-primary pull-right" style="width: 70px; text-align: center;" ng-click='addConsent()'&gt;Add&lt;/button&gt;
                        	&lt;/h4&gt;
                      &lt;/div&gt;
                      &lt;div aria-labelledby="heading_consent" class="panel-collapse collapse in" id="collapseConsent" role="tabpanel"&gt;
                            &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
                              &lt;thead&gt;
                              &lt;tr&gt;
                                &lt;th 
                                    ng-repeat="column in c.columns track by $index" 
                                    ng-click="c.toggleSort($index)" 
                                    style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span 
                                      class="glyphicon small" 
                                      ng-class="{
                                                  'glyphicon-chevron-up': column.sort === 'asc',
                                                  'glyphicon-chevron-down': column.sort === 'desc'
                                                }"&gt;
                                    &lt;/span&gt;
                                &lt;/th&gt;
                              &lt;/tr&gt;
                              &lt;/thead&gt;
                              &lt;tr ng-repeat="row in c.data.consentTasks track by $index"
                                  ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                                           $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"&gt;
                                &lt;td class="ritm_number"&gt;{{ row.site_name }}&lt;/td&gt;
                                &lt;td class="ritm_number"&gt;{{ row.use_limit }}&lt;/td&gt;
                                &lt;td class="ritm_number"&gt;{{ row.data_modifier }}&lt;/td&gt;
                                &lt;td&gt;
                                  &lt;button class="btn btn-sm btn-primary" ng-click="removeConsent(row.id)" style="width: 70px; text-align: center;"&gt;
                                    Remove
                                  &lt;/button&gt;
                                &lt;/td&gt;
                              &lt;/tr&gt;
                            &lt;/table&gt;
                    	&lt;/div&gt;
                                &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                      &lt;div class="pagination form-group"&gt;
                        &lt;label for="pageSize22"&gt;
                          Items per page
                        &lt;/label&gt;

                        &lt;select 
                          id="pageSize22" 
                          class="form-control"
                          style="display: inline"
                          ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                          ng-model="c.pagination.currentSize"
                          ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
                        &lt;/select&gt;
                      &lt;/div&gt;
                    &lt;/form&gt;  

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.consentTasks.length"&gt;
                      &lt;li
                        ng-repeat="index in c.getRange() track by $index"
                        ng-click="c.setPage($index)"
                        &gt;
                        &lt;a href=""&gt;
                          {{ $index + 1 }}
                        &lt;/a&gt;
                      &lt;/li&gt;
                    &lt;/ul&gt;   
               &lt;br&gt;&lt;br&gt;&lt;br&gt;
           	 &lt;/div&gt;
           &lt;/div&gt;
         &lt;/div&gt;  
         &lt;br&gt;
         &lt;div id="pre_comments_ic_div1" class="col-md-12" style="display:none;"&gt;
             &lt;fieldset class="scheduler-border"&gt;
                 &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                 &lt;div id="commentReviewICId2"&gt;&lt;/div&gt;
             &lt;/fieldset&gt;
         &lt;/div&gt;    
         &lt;div id="regularICSubmit" class="modal-footer"&gt;
            &lt;button type="button" class="btn btn-primary" 
            style="width: 70px; text-align: center;" ng-click='submitIcForm()'&gt;Submit&lt;/button&gt;
             &lt;button type="button" class="btn btn-primary" 
            style="width: 70px; text-align: center;" ng-click='saveIcForm()'&gt;Save&lt;/button&gt;
           &lt;button type="button" class="btn btn-primary" 
            style="width: 70px; text-align: center;" ng-click='closeICForm()'&gt;Cancel&lt;/button&gt;
         &lt;/div&gt;
	       &lt;div id="resubmitIC" style="display:none;" class="modal-footer"&gt;
           &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="submitBt" value="SUBMIT" ng-click="loadICResubmitConfirm()"/&gt; 
           &lt;input type="button" class="btn btn-primary btn-sm btn-form" name="cancelBt" value="CANCEL" ng-click="closeICForm()"/&gt;
    		 &lt;/div&gt;      
         &lt;input type="hidden" id="ic_id"/&gt;
         &lt;input type="hidden" id="sample_time"/&gt;
         &lt;input type="hidden" id="sample_consent"/&gt;
         &lt;input type='hidden' id='type'/&gt;
         &lt;input type='hidden' id='consent_group'/&gt;
         &lt;input type='hidden' id='consentGroupIds'/&gt;
         &lt;!-- temp solution for GPA and SD --&gt;
      	 &lt;input type="hidden" id="certification_to"/&gt;
         &lt;input type="hidden" id="certification_from"/&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt; 
&lt;/div&gt;
  
&lt;div id="icConfirmSubmitDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageIC"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="icYesConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="icNoConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;  

&lt;div id="icConsentGroupDiv" class="modal fade"&gt;
    &lt;div class="modal-dialog2"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;The consent group(s) for each collaborating study site&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
   					&lt;!--add consent information here--&gt;
               &lt;div id="consentErr"&gt; &lt;/div&gt;
               &lt;br&gt;
               &lt;div class="row"&gt;
                 &lt;div class="col-md-3"&gt;
                    &lt;label for="branch"&gt;Collaborating Site Name&lt;/label&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-9"&gt;
                   &lt;!--&lt;select id="branch" class="selectpicker" style="width: 100%;" &gt;
                   &lt;/select&gt;--&gt;
                   &lt;input id="branch" class="form-control" style="width:100%"&gt;
                 &lt;/div&gt;
               &lt;/div&gt;
               &lt;br&gt;
               &lt;div class="row"&gt;
                 &lt;div class="col-md-3"&gt;
                   &lt;label for="dataLimitation"&gt;Data Use Limitations&lt;/label&gt;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-html="true" data-trigger="focus"  title="&lt;b&gt;Data Use Limitation&lt;/b&gt;" data-content="Data Use Limitions will be used in dbGaP to create Consent Groups. &lt;br/&gt; &lt;ul&gt;&lt;li&gt;&lt;b&gt;General Research Use[GRU]:&lt;/b&gt; &lt;br&gt; Use of data us limited only by the terms of the Data Use Certification; these data will be added to the dbGaP Collection.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Health/Medical/Biomedical[HMB]:&lt;/b&gt;&lt;br&gt;Use of the data is limited to health/medical/biomedical purpose, does not include the study of population origins or ancestry.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Disease-specific (list disease) [DS]: &lt;/b&gt; &lt;br&gt;Use of the data must be related to the specified disease.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Other:&lt;/b&gt;&lt;br&gt;Enter customized text, if applicable.&lt;/li&gt;&lt;/ul&gt;"&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-4"&gt;
                   &lt;select id="dataLimitation" class="form-control" style="width:80%;" onchange="toggleTextField()"&gt;
                      &lt;option value="None"&gt;Please select an item&lt;/option&gt;
                      &lt;option value="General Research Use"&gt;General Research Use&lt;/option&gt;
                      &lt;option value="Health/Medical/Biomedical"&gt;Health/Medical/Biomedical&lt;/option&gt;
                      &lt;option value="Disease-specific"&gt;Disease-specific&lt;/option&gt;
                      &lt;option value="other"&gt;Other&lt;/option&gt;
                   &lt;/select&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-1" id="useTextLabel"&gt;
                 &lt;/div&gt;
                 &lt;div class="col-md-4" id="useTextField" style="display:none;"&gt;
                   &lt;input type="text" size="40" class="form-control" id="dataUseLimitation" aria-labelledby="useTextLabel"/&gt;
                 &lt;/div&gt;
               &lt;/div&gt;
               &lt;br&gt;
               &lt;div class="row"&gt;
                  &lt;div class="col-md-3"&gt;
                    &lt;label for="dataModifier"&gt;Data Use Limitation Modifiers&lt;/label&gt;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-html="true" data-trigger="focus"  title="&lt;b&gt;Data Use Limitation Modifier&lt;/b&gt;" data-content="Data Use Limitions Modifiers. &lt;br/&gt; &lt;ul&gt;&lt;li&gt;&lt;b&gt;IRB Approval Required[IRB]:&lt;/b&gt; &lt;br&gt;Requestor must provide document of local IRB approval.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Publication Required[PUB]:&lt;/b&gt;&lt;br&gt;Requestor agrees to make results of studies using the data available to the large scientific community.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Collaboration Required[COL]: &lt;/b&gt; &lt;br&gt;Requestor must provide a letter of collaboration with the primary study investigator(s).&lt;/li&gt;&lt;li&gt;&lt;b&gt;Not-for-profit Use Only[NPU]:&lt;/b&gt;&lt;br&gt;Use of the data is limited to not-for-profit organizations.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Methods[MDS]:&lt;/b&gt;&lt;br&gt;Use of the data includes methods development research (e.g., development of software or algorithms).&lt;/li&gt;&lt;li&gt;&lt;b&gt;Genetic Studies Only[GSO]:&lt;/b&gt;&lt;br&gt;Use of the data is limited to genetic studies only.&lt;/li&gt;&lt;/ul&gt;"&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                 &lt;/div&gt; 
                 &lt;div class="col-md-9"&gt;
                   &lt;select id="dataModifier" class="selectpicker" multiple&gt;
                     &lt;option value="NONE"&gt;NONE&lt;/option&gt;
                     &lt;option value="IRB"&gt;IRB&lt;/option&gt;
                     &lt;option value="PUB"&gt;PUB&lt;/option&gt;
                     &lt;option value="COL"&gt;COL&lt;/option&gt;
                     &lt;option value="NPU"&gt;NPU&lt;/option&gt;
                     &lt;option value="MDS"&gt;MDS&lt;/option&gt;
                     &lt;option value="GSO"&gt;GSO&lt;/option&gt;
                   &lt;/select&gt;
                 &lt;/div&gt;
               &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="consentSubmitConfirm" 
                type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;"&gt;Save&lt;/button&gt;
                &lt;button id="consentCancelConfirm" 
                type="button" class="btn btn-default" 
                style="width: 70px; text-align: center;"&gt;Cancel&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>493495263</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>5e8b77dfdbcb2f00b86770c08c961970</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16805fc060f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS IC Form Widget</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>b1174f9c2bb6eb40bd9c80790dd888b2</update_guid>
<update_guid_history>b1174f9c2bb6eb40bd9c80790dd888b2:493495263,6fc7b709582ea3409692044667d598b7:-805452250,f6e5bf85f02ea340921d2e36b36eff01:-619629282,e8de7678d8ae6340b8389d6fc428a8fd:1528670759,9cf43e7054ae6340220598dc75f2fdf1:2026057314,ccf1fc449d12e7000c3c4ac08129c801:-1922931443,855f68c06d12e70050c4959bc647b53f:1305156402,27bca0c43cdea70048ba92fa08950258:1948872126,566cac08ccdea7004ea77592c88028a0:1610854028,bf075444a1dea7009a442825e681a851:41845330,697610c0fddea7003d7a6fe3c288dc90:1936008043,20c2ee8c5fc2e700a6d0e48a57d07410:-550343043,79a226cc9dc2e700057d155fb9ecbeba:442253845,4782ee8cadc2e700bed405d0cb30c30a:-85860043,cc82228c39c2e700eb80229b14466480:-696542819,9b802ec89dc2e7003ad538fd02453de3:-869924105,54ff128872c2e7007472a053b9a32446:1493848400,b0ef5ac49ac2e700297df5ed39862e7b:941657453,291c786fd0b967006c5696390cfa39e9:-869924105,e7abb86fd5b967006ab7bee5bf64e062:8718580,138bb0afa1b967006a5ab0ad5a2568df:-1075738498,128b70af2cb96700469a40dd4d0c3a65:-1338922914,426b70afeeb96700203d9df5af47595f:1829347796,436ab06f8eb96700dd556cfc3d734050:1126981696,3fbb263eb6b9a30005d4154188befcb5:264101503,bb2b6b676c25674080bc8b0d928bf76d:309377923,ab11236f12e167407fa46303f88dc465:478500466,20ba990bc72d63400b4824892c746385:-151089469,baaa5987862d6340e18a08ceabf8bcd5:-951200279,075ad1c7212d634025f187700c077dc9:426120061,945ad1cf3ee96340fddf28ce60b6f51a:-968301831,692ad10b4e2d6340d7166a719e18899b:-151089469,e6499d87232d634061d6464791cb6e9a:748813475,b9f81987712d634023bc06624a773fad:1530256311,0ac89187bf2d63404429c448342690a8:-1433211990,acc89d87632d6340341e654d0ee70792:2028028957,ea8899874e2d6340997f717e9dac740f:-949627280,a588518fa5e9634060a12be5809c0cc4:587110757,1d68d107dc2d6340f22556ace7da1767:234612212,8a389187f12d63400401a2fcd1a8b478:-1847622476,66185187632d634077d2b35795a43f42:2028028957,8b371583d72d63401b72450b50d1eb97:-2021749711,4e175d07af2d634076084751cc226cb2:1692288952,e66659073d2d6340e9407a0818aade1c:448007177,e5165d8b06e96340ce271cf267e8a564:1515378545,e016d107cd2d634000303586f40a3961:-2129256111,af06d9c3ac2d63400061f8ce65c75d57:-682765069,9806d9c31e2d634010202b5d0976b548:1515378545,c0351183e02d634067d9a930f8265b77:-2129256111,5525998b19e96340459c7bacd0badc79:-923519843,f91599c3762d6340e1d3e584cba6d4e3:-1050909320,1fb4554f82e96340855a26758555c8ff:1768874437,03b3dd83772d634043b9174596c4a7a7:-2066062891,36558d8bd2e963404b52c3f073748b78:-1370288147,04f4894babe9634099c6741b6ddca66e:19429217,5084894b79e9634015fa638b09e68564:426079055,d974054b37e96340f4dec28c1064b0a4:1753511344,d324894b0de9634086f9b0363a40fecb:-196783958,0924894b40e9634062f0cf4a33058f5d:1177409021,10f3490780e96340679dba6ff7a8334e:176980980,1dc3c50bd9e9634030f015fb0951f63e:-668001141,21b3490be5e96340787a6645a38e64f7:272383218,7d93890b4be9634077060bd546259117:399487205,059381c777e9634004a283a73dbd14ee:-1347084914,989381c30be96340dd64fb0f92035c5a:1406654684,3c53c1032ae96340afbda9badfe5f296:-1320087179,db23c50bf0e96340f1a947649f3d8084:2094795683,9203490b3de963406dafbfe3509a34ef:-943686908,e3f2c50bb5e9634007c43401afff1c38:-2005708427,2ba2c9c75ae9634096e0e5e859b4cea0:-44872703,ab32850730e96340a3fb35e53f8d6c97:813059041,bef185c715e963406e1e4a712587f472:996880524,fd1db807d0e96340f6bd198d47dc008a:-1600701403,2eecb407ece963409d284ee0e7a3f3fb:1924828828,a0ec30cf45a96340c184e5789ca88118:772559341,e1dc7083f1e96340df1882768150c104:-302126880,1b863c4f81a963400eb67cd4b0273e3c:1324301080,7c66b0cf5ba963404967b15579969e4b:-624926151,cf0538cf99a963405e4131b6edaf5b6e:1747045130,32543c4f44a96340533645ea6fe5d82c:-1605000341,1134388f20a96340f95f79936c473f6e:-1609777641,ecc3388fffa96340b901489e30819867:-939592749,d4a1c463f82b5f0039649df97a817f56:-1694959336,b37184635e2b5f00881f2f45fce83b14:-1854687320,a8800423bc2b5f00a629da43df199e1d:-1830028361,7e50c423a32b5f00e969bd6ed7a4a7a5:559990021,a6504023022b5f00932a47d23a03028f:-1220009521,c0ff5bb0db2b5700e9eaa9c896cfdf88:-501052301,d18b126b58df53009ba55e30a11577fa:-1261232205,f96b126bc8df53007ec8fd4afb621c1d:-61224752,b40b1e2b7fdf53008860988811709a13:-2061063493,8cca1a2b3cdf53001b26955864768fde:1198526843,ca8ad6e711df53008b2720a2a6332e7f:796002821,7c8a962b31df5300d2f745d12453ac97:1687941218,49d91ee7b6df530027260db0c19dcdf5:1614380227,61ace6d1d61b930054dc14aec68d979c:927478930,eef078350bfc1700193d310dbcff384f:-511521318,61ace6d1d61b930054dc14aec68d979c:927478930,61ace6d1d61b930054dc14aec68d979c:927478930,595be691731b9300dd2dc56cba61385f:-357149216,416956d5b8d793001fb508213725df73:-286727998,4515b0a0d4cfd700b225a4b209661041:-357149216,44f8d883922e1f005793b1b0e16db4bc:-216246762,eef078350bfc1700193d310dbcff384f:-511521318,3611b820a3b41700ac1abdeb27b79ff9:1242506465,9d6f646cd074170072d392b5165747c8:-960079799,7d1fac2cf7741700d2a22dd23043edf9:-1010502225,df801e8470f81300f92499f954b78874:-511521318,9dc2e42e89a743000e4b04b365ffcdc6:-1715254315,242dd06acfa74300a0cb771d47053b45:-1341500329,971d18e674a7430000f0a95f4dd3bb6f:-573685641,e21d906a71a74300edc4e2fd85416dc9:-1223764648,a10d506a1ea743002702c16ee71f88a9:-434626086,74fc106a56a743003ec572376e229a97:-761948285,19fa90e6f3a743000f0bc48192f373ad:1172428513,f478d8263fa74300202f25b742b15eb8:-93708570,f8681066b0a74300142a641c31adfd1f:968193701,75281c2696a74300eabe93f4d695d8c7:-248104231,8308542663a7430028e85f95b3053681:-1084204016,bde7142671a7430025e8d51b338f1bc9:-213484914,54eec0aea467430069c7dbf5bb3e25fc:449072307,629e88ae8c6743001e214fe32c614a95:-951166815,bc8e00ae4f674300c76013044622d80f:-651505509,247e846e48674300f87bafd5532bc48d:157239188,834e006e42674300cc774dcee9755809:-951166815,4d4dc06e51674300086f4dda338aa8b3:-1136156008,26bc44ea6f67430022ccfa8304206c1a:710763376,717b80aa2f674300c1136b8d7d5b7911:519761391,1f7365b979e7cf00cce8766c2a5de541:-504608143,5343e1bd70a7cf00942673e2b6f1b962:1725519728,b043257993e7cf00d6f5e6ae8c6f4059:-708959554,8e2c4db5eea7cf000f6f59921cb850c1:-1459640371,ca9d0c3df0a2070017b75a326a8c1bd8:-1600835327,3c983fe911620700c30e991c2fca37c3:-1550816664,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101,ce18579fbbde830032bdc4fb8d5730e7:258920101</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_ccr_gds_z_list_table_null</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="" table="u_ccr_gds_z_list_table"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label/><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element/><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="Collection">collection</internal_type><mandatory>false</mandatory><max_length>40</max_length><name>u_ccr_gds_z_list_table</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>7b59ee8edbdd270054d8ff621f96192d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_ccr_gds_z_list_table_null</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:29</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>-1266964143</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>628bbbdfdbcb2f00b86770c08c961906</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185255f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>3359ee8e9fdd2700c3c81e931a1ecd65</update_guid>
<update_guid_history>3359ee8e9fdd2700c3c81e931a1ecd65:-1266964143</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_gds_tissue_protocols_u_protocol_number_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_protocol_number" label="Protocol Number" language="en" table="u_gds_tissue_protocols"><sys_documentation action="INSERT_OR_UPDATE"><element>u_protocol_number</element><help/><hint/><label>Protocol Number</label><language>en</language><name>u_gds_tissue_protocols</name><plural>Protocol Numbers</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:25:23</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>6d7081dedb9e2f0054d8ff621f9619e7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Protocol Number</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_gds_tissue_protocols_u_protocol_number_en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:25:23</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1372936983</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>628bbbdfdbcb2f00b86770c08c961909</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e1805c0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols.Protocol Number</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>757081deb29e2f00a7f027c9f31c10ed</update_guid>
<update_guid_history>757081deb29e2f00a7f027c9f31c10ed:-1372936983</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_email_e617571edb118700f59974131f9619e0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_email"&gt;&lt;sys_script_email action="INSERT_OR_UPDATE"&gt;&lt;name&gt;ccr_gds_ready_to_review_wf&lt;/name&gt;&lt;new_lines_to_html&gt;false&lt;/new_lines_to_html&gt;&lt;script&gt;&lt;![CDATA[(function runMailScript(current, template, email, email_action, event) {
var contact_type = '';
var ticketNum = '';
var version = '';
var hasParent = '';
var org_ticket_num = '';
var variables;
		 
  var varown = new GlideRecord('sc_req_item');
  varown.addQuery('sys_id', current.sys_id);
  varown.query();

  if(varown.getRowCount() &gt; 0){
	varown.next();
	contact_type = varown.getValue('contact_type');

    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){
	     org_ticket_num = varown.number;
		 hasParent = 'false';
    }else{
		var orgIds = contact_type.split("=");
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);
        gr_tracking_item.query();
        if(gr_tracking_item.getRowCount() &gt; 0){
             gr_tracking_item.next();
             org_ticket_num = gr_tracking_item.u_ticket_number;
             version = orgIds[1];
             hasParent = 'true';
         }	else {
			 org_ticket_num = varown.number;
			 hasParent = 'false';
		 }
	}

    if(hasParent == 'true'){
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
    }else{
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);
    } 	
   
	email.setFrom("CCR Genomic Data Sharing");
   if(varown.context.stage.name == 'Waiting for GPA Review'|| varown.context.stage.name == 'Requested' || varown.context.stage.name == ''){
	  var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;gdsp_gpa_itemId=' +current.sys_id;
      email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';
      template.print('Your review of a Genomic Data Sharing Plan is required. If approved, Please provide your electronic signature.\n\n');
      template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');
	  template.print('GDSP number: ' + ticketNum + '\n');
	  template.print('Principle Investigator: ' + varown.u_investigator + '\n');
	  template.print('Study Name: ' + varown.u_project_name + '\n\n\n');
	  template.print('Go To : ' + "&lt;a href='" + url + "'&gt;" + ticketNum + "&lt;/a&gt;");
   }else if(varown.context.stage.name == 'Waiting for SD Review' || varown.context.stage.name == 'GPA Approved'){
	  var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;gdsp_sd_itemId=' +current.sys_id;
      email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';
      template.print('Your review of a GPA reviewed Genomic Data Sharing Plan is required. If approved, please provide your electronic signature.\n\n');
      template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');
	  template.print('GDSP number: ' + ticketNum + '\n');
  	template.print('Principle Investigator: ' + varown.u_investigator + '\n');
	  template.print('Study Name: ' + varown.u_project_name + '\n\n\n');
	  template.print('Go To : ' + "&lt;a href='" + url + "'&gt;" + ticketNum + "&lt;/a&gt;");	
   }else{
      email.subject='GDSP ' + ticketNum + ' is ready for review';
    		
      //template.print("The ticket you selected : " + ticketNum);
      //template.print("\n\n object id: " + current.sys_id);
	  gs.logWarning("email error " + varown.context.stage.name + "-"); 
	   if (varown.context.stage.name == '') {
	      log.Warning('empty');
	   }else {
		   log.Warning('Null');
			   }

	  gs.logWarning("email error " + varown.context.stage.name + "-"); 
      template.print("Click on the link to view the details of the request" + varown.context.stage.name);
      template.print("&lt;a href='" + url + "'&gt;" + ticketNum + "&lt;/a&gt;"); 
   }

}

})(current, template, email, email_action, event);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_email&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-09-21 21:00:40&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;e617571edb118700f59974131f9619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;ccr_gds_ready_to_review_wf&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_email_e617571edb118700f59974131f9619e0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-14 22:31:13&lt;/sys_updated_on&gt;&lt;/sys_script_email&gt;&lt;/record_update&gt;</payload>
<payload_hash>1587881164</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>628bbbdfdbcb2f00b86770c08c96190c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167aed858550000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>ccr_gds_ready_to_review_wf</target_name>
<type>Email Script</type>
<update_domain>global</update_domain>
<update_guid>db2e7fb695deaf0092f957d19a6c5df7</update_guid>
<update_guid_history>db2e7fb695deaf0092f957d19a6c5df7:1587881164,cacb333615deaf00d405ce185cfd90fb:1018558690,90b32b72b09eaf005c7b31bd943673ae:999582274,246b97ba4e5eaf007bdaef8d290b2a1b:-467414516,a218979f9fde8300eb940e4a66a62f40:999582274,a218979f9fde8300eb940e4a66a62f40:999582274</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_43408d9edb9e2f0054d8ff621f96199b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>43408d9edb9e2f0054d8ff621f96199b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_gds_tissue_protocols">8b408d9edb9e2f0054d8ff621f961995</sys_security_acl><sys_update_name>sys_security_acl_role_43408d9edb9e2f0054d8ff621f96199b</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocols_user" name="u_gds_tissue_protocols_user">76408d9edb9e2f0054d8ff621f96193d</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-416813258</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>628bbbdfdbcb2f00b86770c08c96190f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d49c0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>8f408d9e079e2f00f5aa0dde1480bd9c</update_guid>
<update_guid_history>8f408d9e079e2f00f5aa0dde1480bd9c:-416813258</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_section_5fb0c1dedb9e2f0054d8ff621f961966</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_ui_section caption="" section_id="5fb0c1dedb9e2f0054d8ff621f961966" sys_domain="global" table="u_gds_tissue_protocols" version="3" view=""><sys_ui_element action="INSERT_OR_UPDATE"><element>u_protocol_number</element><position>0</position><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:26:36</sys_created_on><sys_id>5fb0c1dedb9e2f0054d8ff621f96196c</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_gds_tissue_protocols" sys_domain="global" view="Default view">5fb0c1dedb9e2f0054d8ff621f961966</sys_ui_section><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:26:36</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_protocol_name</element><position>1</position><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:26:36</sys_created_on><sys_id>17b0c5dedb9e2f0054d8ff621f9619a7</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_gds_tissue_protocols" sys_domain="global" view="Default view">5fb0c1dedb9e2f0054d8ff621f961966</sys_ui_section><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:26:36</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_protocol_branch</element><position>2</position><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:26:36</sys_created_on><sys_id>97b0c5dedb9e2f0054d8ff621f9619a7</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_gds_tissue_protocols" sys_domain="global" view="Default view">5fb0c1dedb9e2f0054d8ff621f961966</sys_ui_section><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:26:36</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_section action="INSERT_OR_UPDATE"><caption/><header>false</header><name>u_gds_tissue_protocols</name><roles/><sys_class_name>sys_ui_section</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:26:35</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>5fb0c1dedb9e2f0054d8ff621f961966</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_section_5fb0c1dedb9e2f0054d8ff621f961966</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:26:35</sys_updated_on><sys_user/><title>true</title><view display_value="Default view" name="NULL">Default view</view><view_name/></sys_ui_section></sys_ui_section></record_update>]]></payload>
<payload_hash>-1685242039</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>628bbbdfdbcb2f00b86770c08c961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e29a000000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Form Layout</type>
<update_domain>global</update_domain>
<update_guid>1bb0c5de409e2f001f50c19772e11aa8</update_guid>
<update_guid_history>1bb0c5de409e2f001f50c19772e11aa8:-1685242039,dfb0c1de789e2f0015eccc33d1a48468:-1795832554</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_232c604adb904f00f59974131f9619aa</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;getProjectICInformation&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
      var projectId = request.queryParams.projectId.toString();
	 var my_sys_id = request.queryParams.mySysId.toString();
	var parentId = request.queryParams.parentId.toString();
	  var prefix = 'NCI-RITM';
	  var ics = [];
     
	  var project_id = projectId.split(",");
	  if(project_id == null || project_id.length == 0){
		  return ics;
	  }else{
		  for(var k = 0; k &lt; project_id.length; k++){
			  if(project_id[k] != null &amp;&amp; project_id.length &gt; 0){
				  project_id[k] = project_id[k].trim();
			  }
			  if(project_id[k].indexOf("-") &gt; 0){
				  var temp = project_id[k].split("-");
				  var tracking_item = new GlideRecord("u_ccr_tracking_t");
				  temp[0] = prefix + temp[0].substring(6);
				  tracking_item.addQuery('u_ticket_number', temp[0]);
				  tracking_item.query();
				  tracking_item.next();
				  var orgId = tracking_item.u_orgid.toString();
				  var sc_req_item = new GlideRecord('sc_req_item');
				  sc_req_item.addQuery('contact_type', orgId + "=" + temp[1]);
				  sc_req_item.query();
				  sc_req_item.next();
				  var id = sc_req_item.number.toString();
				  project_id[k] = id;
			  }else{
				  project_id[k] = prefix + project_id[k].substring(6);
			  }	  
		  }
		  
		  var gr_requested_items = new GlideRecord('sc_req_item');
		  var gd_requested_items = '';
          for(var i = 0; i &lt; project_id.length; i++){
			  if(i == 0){
				   gd_requested_items = gr_requested_items.addQuery('number', project_id[i]);
			  }else{
				  gd_requested_items.addOrCondition('number', project_id[i]);
			  }
		  }
		  //gr_requested_items.addQuery('request.opened_by', my_sys_id);
		  gr_requested_items.addActiveQuery();
		  gr_requested_items.orderByDesc('number');
		  gr_requested_items.query();
			while (gr_requested_items.next()){
					var orginId = '';
					var tickerNum = '';
					var org_ticket_num = '';
					var version = '';
					var hasParent = '';
					var selectedOrginId = '';	

					selectedOrginId = gr_requested_items.contact_type;

			  if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
					orginId = gr_requested_items.sys_id;
					org_ticket_num = gr_requested_items.number;
					hasParent = 'false';
			   }else{
					var orgIds = selectedOrginId.split("=");
					var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
										gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						gr_tracking_item.query();

						if(gr_tracking_item.getRowCount() &gt; 0){
							 gr_tracking_item.next();
							 orginId = gr_tracking_item.u_orgid;
							 org_ticket_num = gr_tracking_item.u_ticket_number;
							 version = orgIds[1];
							 hasParent = 'true';
						 }else {
							 orginId = gr_requested_items.sys_id;
							 org_ticket_num = gr_requested_items.number;
							 hasParent = 'false';
											}
			   }		
			   if(hasParent == 'true'){
					ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
			   }else{
					ticketNum = 'CCR_IC' + org_ticket_num.substring(8);
			   }		

			   var items= {};
			   items.sys_id = gr_requested_items.sys_id.toString();
			   items.number =  'CCR_IC' + gr_requested_items.number.toString().substring(8);
			   items.ic_id = ticketNum;
			   items.study_name = gr_requested_items.variables.study_name.toString();
			   items.project_title = gr_requested_items.variables.project_title.toString();
               items.issue_to = gr_requested_items.variables.certification_to.toString();
			   items.issue_from = gr_requested_items.variables.certification_from;
			   items.status =  gr_requested_items.context.stage.name.toString();
			   items.approval =  gr_requested_items.context.stage.name.toString();
			   items.submitted_date = gr_requested_items.sys_created_on.toString();
			   items.orginId = orginId.toString();
			   items.org_ticket_num = org_ticket_num.toString();
			   ics.push(items);	
			}
	  }
	  
	  //load parent IC
	  var pid = [];
	  if(parentId != null){
	  	var gr = new GlideRecord('u_software_solution_gds_project_information');
		gr.addQuery('u_number', 'IN', parentId);
		gr.query();
		while(gr.next()){
			var status = gr.getDisplayValue('u_ic_status');
			 var myItem = status.split(',');
			 for(var j = 0; j &lt; myItem.length; j++){
				pid.push(myItem[j].trim());
			 }    		
		}

		for(var k = 0; k &lt; pid.length; k++){
			if(pid[k] != null &amp;&amp; pid.length &gt; 0){
			  pid[k] = pid[k].trim();
			 }
			if(pid[k].indexOf("-") &gt; 0){
			  var temp = project_id[k].split("-");
			  var tracking_item = new GlideRecord("u_ccr_tracking_t");
			  temp[0] = prefix + temp[0].substring(6);
			  tracking_item.addQuery('u_ticket_number', temp[0]);
			  tracking_item.query();
			  tracking_item.next();
			  var orgId = tracking_item.u_orgid.toString();
			  var sc_req_item = new GlideRecord('sc_req_item');
			  sc_req_item.addQuery('contact_type', orgId + "=" + temp[1]);
			  sc_req_item.query();
			  sc_req_item.next();
			  var id = sc_req_item.number.toString();
			  pid[k] = id;
			}else{
			  pid[k] = prefix + pid[k].substring(6);
			}	  
		}	  
		var gr_requested_items = new GlideRecord('sc_req_item');
		var gd_requested_items = '';
        for(var i = 0; i &lt; pid.length; i++){
		  if(i == 0){
			   gd_requested_items = gr_requested_items.addQuery('number', pid[i]);
		  }else{
			  gd_requested_items.addOrCondition('number', pid[i]);
		  }
		}
		//gr_requested_items.addQuery('request.opened_by', my_sys_id);
		gr_requested_items.addActiveQuery();
		gr_requested_items.orderByDesc('number');
		gr_requested_items.query();
		while (gr_requested_items.next()){
				var orginId = '';
				var tickerNum = '';
				var org_ticket_num = '';
				var version = '';
				var hasParent = '';
				var selectedOrginId = '';	

				selectedOrginId = gr_requested_items.contact_type;

			  if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
					orginId = gr_requested_items.sys_id;
					org_ticket_num = gr_requested_items.number;
					hasParent = 'false';
			   }else{
					var orgIds = selectedOrginId.split("=");
					var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
										gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						gr_tracking_item.query();

						if(gr_tracking_item.getRowCount() &gt; 0){
							 gr_tracking_item.next();
							 orginId = gr_tracking_item.u_orgid;
							 org_ticket_num = gr_tracking_item.u_ticket_number;
							 version = orgIds[1];
							 hasParent = 'true';
						 }else {
							 orginId = gr_requested_items.sys_id;
							 org_ticket_num = gr_requested_items.number;
							 hasParent = 'false';
											}
			   }		
			   if(hasParent == 'true'){
					ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
			   }else{
					ticketNum = 'CCR_IC' + org_ticket_num.substring(8);
			   }		

			   var items= {};
			   items.sys_id = gr_requested_items.sys_id.toString();
			   items.ic_id = ticketNum;
			   items.study_name = gr_requested_items.variables.study_name.toString();
			   items.project_title = gr_requested_items.variables.project_title.toString();
               items.issue_to = gr_requested_items.variables.certification_to.toString();
			   items.issue_from = gr_requested_items.variables.certification_from;
			   items.status =  gr_requested_items.context.stage.name.toString();
			   items.approval =  gr_requested_items.context.stage.name.toString();
			   items.submitted_date = gr_requested_items.sys_created_on.toString();
			   items.orginId = orginId.toString();
			   items.org_ticket_num = org_ticket_num.toString();
			   items.access = 'read_only';
			   ics.push(items);	
			}
	  
	  
	  
	  
	  
	  
	  }
	
	return ics;
    
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/getProjectICInformation&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/getProjectICInformation&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-01 20:50:38&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;232c604adb904f00f59974131f9619aa&lt;/sys_id&gt;&lt;sys_mod_count&gt;24&lt;/sys_mod_count&gt;&lt;sys_name&gt;getProjectICInformation&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_232c604adb904f00f59974131f9619aa&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-11-21 21:56:53&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>918509526</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>628bbbdfdbcb2f00b86770c08c961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1673846a6970000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>getProjectICInformation</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>3bb9d167773d670047431d9ad7a22e01</update_guid>
<update_guid_history>3bb9d167773d670047431d9ad7a22e01:918509526,d5791167943d67004732b8f9ca5c1b38:23282362,be1959a3e03d6700796d8025fae95c72:-1661391157,f68719a3293d6700f5fd0879d8ed891d:796416833,1d47d9e3933d67005b13c18a2d11f3a0:-1661391157,5b48d9ecbb5d1f00a44a25267833577d:796416833,5b48d9ecbb5d1f00a44a25267833577d:796416833,5b48d9ecbb5d1f00a44a25267833577d:796416833,c3f799ecbe5d1f00f2ff49a33e41ddd0:-121115549,efcb149ad17e03009b0bbf6e91356ee0:-305560441,4718979f6ede8300adc98127a9738ed6:1809347872,4718979f6ede8300adc98127a9738ed6:1809347872,4718979f6ede8300adc98127a9738ed6:1809347872</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_module_f2408d9edb9e2f0054d8ff621f961945</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="GDS Tissue Protocols">b2408d9edb9e2f0054d8ff621f961943</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>GDS Tissue Protocols</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>u_gds_tissue_protocols</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles>u_gds_tissue_protocols_user</roles><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>f2408d9edb9e2f0054d8ff621f961945</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocols</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_module_f2408d9edb9e2f0054d8ff621f961945</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><timeline_page/><title>GDS Tissue Protocols</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<payload_hash>-2114800786</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>668bbbdfdbcb2f00b86770c08c961905</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d2c50000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>f6408d9ee79e2f00cde81a79e8a7b946</update_guid>
<update_guid_history>f6408d9ee79e2f00cde81a79e8a7b946:-2114800786</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_ccr_gds_z_list_table__en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="" label="CCR GDS Z List Table" language="en" table="u_ccr_gds_z_list_table"><sys_documentation action="INSERT_OR_UPDATE"><element/><help/><hint/><label>CCR GDS Z List Table</label><language>en</language><name>u_ccr_gds_z_list_table</name><plural>CCR GDS Z List Tables</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>3359ee8edbdd270054d8ff621f96194d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCR GDS Z List Table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_ccr_gds_z_list_table__en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:29</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>141428349</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>668bbbdfdbcb2f00b86770c08c961908</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185256f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>3759ee8ee7dd2700eff5a3466d9e1266</update_guid>
<update_guid_history>3759ee8ee7dd2700eff5a3466d9e1266:141428349</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_headers_5c39e4e2db11a70054d8ff621f961955</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_headers"><sys_rest_message_headers action="INSERT_OR_UPDATE"><name>Accept</name><rest_message display_value="Z List retrieval">4ea86822db11a70054d8ff621f961993</rest_message><sys_class_name>sys_rest_message_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-24 20:23:51</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>5c39e4e2db11a70054d8ff621f961955</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Accept</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_headers_5c39e4e2db11a70054d8ff621f961955</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-24 20:23:51</sys_updated_on><value>application/json</value></sys_rest_message_headers></record_update>]]></payload>
<payload_hash>-884803669</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>668bbbdfdbcb2f00b86770c08c96190b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a7bf69690000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Accept</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>48f770ae2611a70074b601d0b3ea32b0</update_guid>
<update_guid_history>48f770ae2611a70074b601d0b3ea32b0:-884803669</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_fb59ae8edbdd270054d8ff621f9619d9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_ccr_gds_z_list_table</description><name>u_ccr_gds_z_list_table</name><operation display_value="create">create</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>fb59ae8edbdd270054d8ff621f9619d9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_fb59ae8edbdd270054d8ff621f9619d9</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-1662392692</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>668bbbdfdbcb2f00b86770c08c96190e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18522140000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>f759ae8efedd2700a5b141a5c144bfdf</update_guid>
<update_guid_history>f759ae8efedd2700a5b141a5c144bfdf:-1662392692</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_module_3eff749edb9e2f0054d8ff621f96195a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_module"><sys_ui_module action="DELETE"><active>true</active><application display_value="GDS Tissue Protocals">beff749edb9e2f0054d8ff621f961958</application><filter/><name>GDS Tissue Protocals</name><order/><path/><path_relative_to_root>false</path_relative_to_root><roles>u_gds_tissue_protocals_user</roles><sys_class_name>sys_ui_module</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>3eff749edb9e2f0054d8ff621f96195a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_module_3eff749edb9e2f0054d8ff621f96195a</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><table>u_gds_tissue_protocals</table><uncancelable>false</uncancelable><view_name/></sys_ui_module></record_update>]]></payload>
<payload_hash>-1472689433</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>668bbbdfdbcb2f00b86770c08c961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e04d8c0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>GDS Tissue Protocals</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>a6200d9e749e2f00a702ee64ffc8d034</update_guid>
<update_guid_history>a6200d9e749e2f00a702ee64ffc8d034:-1472689433,7eff749e7e9e2f001acf21256392455b:154536539</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>wf_workflow_3d0f6870db66830054d8ff621f961923</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="wf_workflow_version"&gt;&lt;wf_workflow_version action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;activity_stages&gt;{"activities":{"9c9e0505dbb2af4054d8ff621f9619e6":"849e0505dbb2af4054d8ff621f961963","909e4505dbb2af4054d8ff621f96190b":"8c9e0505dbb2af4054d8ff621f961962","0c9e0505dbb2af4054d8ff621f961964":"009e0505dbb2af4054d8ff621f961964","949e0505dbb2af4054d8ff621f9619ee":"009e0505dbb2af4054d8ff621f961963","909e0505dbb2af4054d8ff621f9619fe":"8c9e0505dbb2af4054d8ff621f961962","9c9e0505dbb2af4054d8ff621f9619f5":"809e0505dbb2af4054d8ff621f961964","189e4505dbb2af4054d8ff621f961908":"009e0505dbb2af4054d8ff621f961964","109e0505dbb2af4054d8ff621f9619f4":"0c9e0505dbb2af4054d8ff621f961963","109e4505dbb2af4054d8ff621f96190d":"809e0505dbb2af4054d8ff621f961963","149e0505dbb2af4054d8ff621f9619f0":"809e0505dbb2af4054d8ff621f961964","d49e0505dbb2af4054d8ff621f961967":"009e0505dbb2af4054d8ff621f961963","1c9e0505dbb2af4054d8ff621f9619f7":"0c9e0505dbb2af4054d8ff621f961963","1c9e0505dbb2af4054d8ff621f9619e8":"889e0505dbb2af4054d8ff621f961963","d89e0505dbb2af4054d8ff621f9619e9":"009e0505dbb2af4054d8ff621f961964","909e0505dbb2af4054d8ff621f9619f2":"049e0505dbb2af4054d8ff621f961964","549e4505dbb2af4054d8ff621f961903":"089e0505dbb2af4054d8ff621f961963","d09e0505dbb2af4054d8ff621f9619fd":"809e0505dbb2af4054d8ff621f961963","d89e0505dbb2af4054d8ff621f9619e5":"809e0505dbb2af4054d8ff621f961963","589e0505dbb2af4054d8ff621f9619eb":"009e0505dbb2af4054d8ff621f961963"},"subflows":[],"stages":{"009e0505dbb2af4054d8ff621f961963":{"order":100,"duration":"","stageId":"009e0505dbb2af4054d8ff621f961963","name":"GPA Rejected","value":"GPA Rejected"},"009e0505dbb2af4054d8ff621f961964":{"order":100,"duration":"","stageId":"009e0505dbb2af4054d8ff621f961964","name":"SD Approved","value":"SD Approved"},"0c9e0505dbb2af4054d8ff621f961963":{"order":100,"duration":"","stageId":"0c9e0505dbb2af4054d8ff621f961963","name":"Waiting for SD Review","value":"sd_review"},"809e0505dbb2af4054d8ff621f961963":{"order":100,"duration":"","stageId":"809e0505dbb2af4054d8ff621f961963","name":"Waiting for PI Resubmit","value":"pi_resubmit"},"849e0505dbb2af4054d8ff621f961963":{"order":100,"duration":"","stageId":"849e0505dbb2af4054d8ff621f961963","name":"Requested","value":"Requested"},"889e0505dbb2af4054d8ff621f961963":{"order":100,"duration":"","stageId":"889e0505dbb2af4054d8ff621f961963","name":"Completed","value":"completed"},"089e0505dbb2af4054d8ff621f961963":{"order":100,"duration":"","stageId":"089e0505dbb2af4054d8ff621f961963","name":"SD Rejected - Waiting for GPA Review","value":"gpa_review"},"049e0505dbb2af4054d8ff621f961964":{"order":100,"duration":"","stageId":"049e0505dbb2af4054d8ff621f961964","name":"GPA Approved","value":"GPA Approved"},"8c9e0505dbb2af4054d8ff621f961962":{"order":100,"duration":"","stageId":"8c9e0505dbb2af4054d8ff621f961962","name":"Waiting for GPA Review","value":"gpa_review"},"809e0505dbb2af4054d8ff621f961964":{"order":100,"duration":"","stageId":"809e0505dbb2af4054d8ff621f961964","name":"SD Rejected","value":"SD Rejected"}},"ends":["549e4505dbb2af4054d8ff621f96190a"]}&lt;/activity_stages&gt;&lt;after_business_rules&gt;false&lt;/after_business_rules&gt;&lt;checked_out/&gt;&lt;checked_out_by/&gt;&lt;column_renderer display_value="Workflow-driven"&gt;a56213111b030100adca1e094f0713ac&lt;/column_renderer&gt;&lt;condition/&gt;&lt;condition_type&gt;run_match&lt;/condition_type&gt;&lt;description&gt;This is Genomic Data Sharing Plan Work Flow&lt;/description&gt;&lt;expected_sequences&gt;949e0505dbb2af4054d8ff621f9619ed,9c9e0505dbb2af4054d8ff621f9619e6,909e4505dbb2af4054d8ff621f96190b,909e0505dbb2af4054d8ff621f9619fe,909e0505dbb2af4054d8ff621f9619f2,109e0505dbb2af4054d8ff621f9619f4,1c9e0505dbb2af4054d8ff621f9619f7,0c9e0505dbb2af4054d8ff621f961964,d89e0505dbb2af4054d8ff621f9619e9,189e4505dbb2af4054d8ff621f961908,1c9e0505dbb2af4054d8ff621f9619e8,549e4505dbb2af4054d8ff621f96190a&lt;/expected_sequences&gt;&lt;expected_time/&gt;&lt;expected_time_type/&gt;&lt;full_sequences&gt;949e0505dbb2af4054d8ff621f9619ed,9c9e0505dbb2af4054d8ff621f9619e6,909e4505dbb2af4054d8ff621f96190b,909e0505dbb2af4054d8ff621f9619fe,909e0505dbb2af4054d8ff621f9619f2,589e0505dbb2af4054d8ff621f9619eb,109e0505dbb2af4054d8ff621f9619f4,109e4505dbb2af4054d8ff621f96190d,1c9e0505dbb2af4054d8ff621f9619f7,d09e0505dbb2af4054d8ff621f9619fd,0c9e0505dbb2af4054d8ff621f961964,149e0505dbb2af4054d8ff621f9619f0,549e4505dbb2af4054d8ff621f96190a,d89e0505dbb2af4054d8ff621f9619e9,9c9e0505dbb2af4054d8ff621f9619f5,189e4505dbb2af4054d8ff621f961908,549e4505dbb2af4054d8ff621f961903,1c9e0505dbb2af4054d8ff621f9619e8,d49e0505dbb2af4054d8ff621f961967,949e0505dbb2af4054d8ff621f9619ee,d89e0505dbb2af4054d8ff621f9619e5&lt;/full_sequences&gt;&lt;journal/&gt;&lt;max_activity_count&gt;100&lt;/max_activity_count&gt;&lt;name&gt;GDS GDSP Workflow&lt;/name&gt;&lt;not_cacheable&gt;false&lt;/not_cacheable&gt;&lt;on_cancel&gt;&lt;![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]&gt;&lt;/on_cancel&gt;&lt;order&gt;100&lt;/order&gt;&lt;pin_type&gt;set_by_activity&lt;/pin_type&gt;&lt;published&gt;true&lt;/published&gt;&lt;relative_duration/&gt;&lt;requires_ert&gt;true&lt;/requires_ert&gt;&lt;run_multiple&gt;false&lt;/run_multiple&gt;&lt;schedule/&gt;&lt;stage_field/&gt;&lt;stage_order&gt;computed&lt;/stage_order&gt;&lt;start display_value="Begin"&gt;949e0505dbb2af4054d8ff621f9619ed&lt;/start&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;049e0505dbb2af4054d8ff621f961961&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:21&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;timezone&gt;US/Eastern&lt;/timezone&gt;&lt;validated&gt;false&lt;/validated&gt;&lt;workflow display_value="GDS GDSP Workflow"&gt;3d0f6870db66830054d8ff621f961923&lt;/workflow&gt;&lt;/wf_workflow_version&gt;&lt;wf_workflow action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;description&gt;This is Genomic Data Sharing Plan Work Flow&lt;/description&gt;&lt;name&gt;GDS GDSP Workflow&lt;/name&gt;&lt;preview/&gt;&lt;sys_class_name&gt;wf_workflow&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-11-17 20:11:44&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_id&gt;3d0f6870db66830054d8ff621f961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS GDSP Workflow&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;wf_workflow_3d0f6870db66830054d8ff621f961923&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-11-17 20:11:58&lt;/sys_updated_on&gt;&lt;table&gt;sc_ic_aprvl_defn_staging&lt;/table&gt;&lt;template&gt;false&lt;/template&gt;&lt;vars/&gt;&lt;/wf_workflow&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Completed&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;889e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;completed&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GPA Approved&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;049e0505dbb2af4054d8ff621f961964&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;GPA Approved&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GPA Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;009e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;GPA Rejected&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for GPA Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;8c9e0505dbb2af4054d8ff621f961962&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected - Waiting for GPA Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;089e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;gpa_review&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for PI Resubmit&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;809e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;pi_resubmit&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected - Waiting for PI Resubmit&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;8c9e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;pi_resubmit&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Requested&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;849e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Requested&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Approved&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;009e0505dbb2af4054d8ff621f961964&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;SD Approved&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;SD Rejected&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;809e0505dbb2af4054d8ff621f961964&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;SD Rejected&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for SD Review&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;0c9e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;sd_review&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Submitted&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;049e0505dbb2af4054d8ff621f961963&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Submitted&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_stage action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Waiting for Approval&lt;/name&gt;&lt;ola&gt;1970-01-01 00:00:00&lt;/ola&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;0c9e0505dbb2af4054d8ff621f961962&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;waiting&lt;/value&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_stage&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Begin"&gt;c7a5e32c0a0a0b3a002377c24ed8ea76&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;4&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Begin&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;114&lt;/x&gt;&lt;y&gt;101&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=949e0505dbb2af4054d8ff621f9619ed"/&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Begin"&gt;949e0505dbb2af4054d8ff621f9619ed&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;6&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;CCR GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected - Waiting for GPA Review"&gt;089e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;760&lt;/x&gt;&lt;y&gt;489&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=549e4505dbb2af4054d8ff621f961903"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f961905&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f961906&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e4505dbb2af4054d8ff621f961904&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961903&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;549e4505dbb2af4054d8ff621f961903&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;549e4505dbb2af4054d8ff621f961903&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e4505dbb2af4054d8ff621f961907&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;549e4505dbb2af4054d8ff621f961903&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;8&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;CCR GPA&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;8c9e0505dbb2af4054d8ff621f961962&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;335&lt;/x&gt;&lt;y&gt;237&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=909e0505dbb2af4054d8ff621f9619fe"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961901&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619ff&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user ids and/or group ids or an array of user/group ids to add as approvers.&amp;#13;
//&amp;#13;
// For example:&amp;#13;
//       answer = [];&amp;#13;
//       answer.push('id1');&amp;#13;
//       answer.push('id2');&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR GPA"&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval - User"&gt;35433da80a0a029a0028c639a1e51eb4&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;13&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;CCR Scientific Director&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;0c9e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;779&lt;/x&gt;&lt;y&gt;122&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=1c9e0505dbb2af4054d8ff621f9619f7"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;4485eef70a6a803f6bc4bafa9e999640&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;any&lt;/value&gt;&lt;variable display_value=""&gt;c35e5bdd0a0a0ba96248a709f495c9ae&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;101&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval&lt;/value&gt;&lt;variable display_value=""&gt;e846198f0a0004f91fba434a514ba8b8&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;103&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37b77ac0a0004f973283ad13b341c5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;104&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;e37a96e80a0004f978b47d2d6c5e0b22&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77191a4c0a800662b403f7dff5f1bbd&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;115&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76680b9c0a8006661b107d0f21fae67&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a77903a7c0a8006641af7c9b1d34444e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35e4cc40a0a0ba96248a7098ec9cb06&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;310&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;reject&lt;/value&gt;&lt;variable display_value=""&gt;502163410a6a803f0356332b24dc7945&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approval_history&lt;/value&gt;&lt;variable display_value=""&gt;e863e3b80a0004f911d67787e77e0f16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;08fcd0830a0a0b2600079f56b1adb9ae&lt;/value&gt;&lt;variable display_value=""&gt;a7754e91c0a800664938d0ef6d2664d7&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;900&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a774138dc0a80066000be7af20961c7d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1110&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a769a182c0a8006629db7fa3fc2a863d&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1120&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;3bf802c20a0a0b52008e2859cd8abcf2&lt;/value&gt;&lt;variable display_value=""&gt;a76c6257c0a8006645cff43883470e64&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619fa&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a76b8c6ec0a800664bb14d5d8b9cd7c4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a7781cb6c0a80066147dc7a5244d5d16&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;a775f59ac0a8006665d72362ae687035&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1330&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;02c618170a0a0b26436f5c2c9f7a3901&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1360&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619f9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set 'answer' to the number of seconds this timer should wait&amp;#13;
answer = 0;&lt;/value&gt;&lt;variable display_value=""&gt;a782cde9c0a8006608f39abdd85c8395&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;1370&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to '', 'approved' or 'rejected' to indicate the approval status for this approval.  When called, the following information is available:&amp;#13;
//&amp;#13;
//    counts.total = total number of users that are part of this approval&amp;#13;
//    counts.approved = # of users that approved so far&amp;#13;
//    counts.rejected = # of users that rejected so far&amp;#13;
//    counts.requested = # of users that are pending approval&amp;#13;
//    counts.not_requested = # of users that are not pending approval&amp;#13;
//    counts.not_required = # of users that approval is not required&amp;#13;
//&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;02c86d780a0a0b261e6a356bc893d348&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;2000&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619f8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;02ca01820a0a0b261cf923fb95f5e1d0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/document_key&gt;&lt;order&gt;2050&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619fb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;answer=[];&amp;#13;
answer.push(current.u_director);&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35e582f0a0a0ba96248a70985207e63&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR Scientific Director"&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/activity&gt;&lt;condition&gt;activity.result == 'approved' || activity.result == 'skipped'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Approved&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;short_description&gt;Approval request was approved&lt;/short_description&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="CCR Scientific Director"&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/activity&gt;&lt;condition&gt;activity.result == 'rejected'&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Rejected&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;short_description&gt;Approval request was rejected&lt;/short_description&gt;&lt;skip_during_generate&gt;true&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619fc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;10&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;email to CCR GPA for SD Rejection&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;809e0505dbb2af4054d8ff621f961964&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;769&lt;/x&gt;&lt;y&gt;263&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=149e0505dbb2af4054d8ff621f9619f0"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsp_gpa_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Science Director rejected this request&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Science Director rejected this request&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsp_gpa_itemId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="email to CCR GPA for SD Rejection"&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619f1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;14&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to GPA ASST&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Rejected"&gt;009e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;326&lt;/x&gt;&lt;y&gt;443&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=589e0505dbb2af4054d8ff621f9619eb"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_gdsp_itemId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_gdsp_itemId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619ec&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to GPA ASST"&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;17&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to GPA ASST&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Rejected"&gt;009e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;960&lt;/x&gt;&lt;y&gt;613&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=949e0505dbb2af4054d8ff621f9619ee"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_gdsp_itemId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;PI need to revise data&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_gdsp_itemId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to GPA ASST"&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619ef&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;21&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter for completion&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Approved"&gt;009e0505dbb2af4054d8ff621f961964&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;1301&lt;/x&gt;&lt;y&gt;179&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=d89e0505dbb2af4054d8ff621f9619e9"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619ea&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter for completion"&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;20&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter for GPA approval&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Rejected"&gt;009e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;724&lt;/x&gt;&lt;y&gt;617&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=d49e0505dbb2af4054d8ff621f961967"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d49e0505dbb2af4054d8ff621f961967&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter for GPA approval"&gt;d49e0505dbb2af4054d8ff621f961967&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;19&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email to Submitter for SD Rejection&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Rejected"&gt;809e0505dbb2af4054d8ff621f961964&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;766&lt;/x&gt;&lt;y&gt;378&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=9c9e0505dbb2af4054d8ff621f9619f5"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Required Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Required Action';&amp;#13;
 template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research Scientific Director. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
		   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619f6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email to Submitter for SD Rejection"&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;22&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Email tp PI Submitter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;809e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;306&lt;/x&gt;&lt;y&gt;603&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=109e4505dbb2af4054d8ff621f96190d"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Requires Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Requires Action&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;		&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject='Notification for Genomic Data Sharing Plan Requires Action';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been reviewed and NOT APPROVED by the Center for Cancer Research GPA. Please address the issues identified, revise your Genomic Data Sharing Plan and resubmit to the GPA.\n\n');&amp;#13;
template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e4505dbb2af4054d8ff621f96190d&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f96190d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Email tp PI Submitter"&gt;109e4505dbb2af4054d8ff621f96190d&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;true&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f96190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="End"&gt;c7a66f7d0a0a0b3a004544a6d2f14076&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;15&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;End&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage/&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width&gt;80&lt;/width&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;1274&lt;/x&gt;&lt;y&gt;761&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=549e4505dbb2af4054d8ff621f96190a"/&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;12&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;PI need to Resubmit&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;809e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;297&lt;/x&gt;&lt;y&gt;787&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=d09e0505dbb2af4054d8ff621f9619fd"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d09e0505dbb2af4054d8ff621f9619fd&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d09e0505dbb2af4054d8ff621f9619fd&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="PI need to Resubmit"&gt;d09e0505dbb2af4054d8ff621f9619fd&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;16&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;PI need to Resubmit&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for PI Resubmit"&gt;809e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;786&lt;/x&gt;&lt;y&gt;796&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=d89e0505dbb2af4054d8ff621f9619e5"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;d89e0505dbb2af4054d8ff621f9619e5&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="PI need to Resubmit"&gt;d89e0505dbb2af4054d8ff621f9619e5&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;7&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Retain the copy for a record - PSO&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Approved"&gt;009e0505dbb2af4054d8ff621f961964&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e4505dbb2af4054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;1253&lt;/x&gt;&lt;y&gt;351&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=189e4505dbb2af4054d8ff621f961908"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url = url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gdsp_report_page&amp;amp;itemId='+current.sys_id + '&amp;amp;ticket=' + ticketNum;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;nciprotocolsupport@mail.nih.gov&lt;/value&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;nciprotocolsupport@mail.nih.gov&lt;/value&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url = url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gdsp_report_page&amp;amp;itemId='+current.sys_id + '&amp;amp;ticket=' + ticketNum;		&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;189e4505dbb2af4054d8ff621f961908&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Retain the copy for a record - PSO"&gt;189e4505dbb2af4054d8ff621f961908&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e4505dbb2af4054d8ff621f961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;11&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Retain the copy for a record for CCR All Group&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="SD Approved"&gt;009e0505dbb2af4054d8ff621f961964&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;1074&lt;/x&gt;&lt;y&gt;168&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0c9e0505dbb2af4054d8ff621f961964"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f961965&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;809e0505dbb2af4054d8ff621f961965&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f961965&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_gdsp_itemId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;809e0505dbb2af4054d8ff621f961965&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7,5c2d50396f7b5200bbc002e6eb3ee498&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Review has been done&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web' ){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }else {&amp;#13;
			org_ticket_num = varown.number;&amp;#13;
			hasParent = 'false';&amp;#13;
         }&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
 var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;complete_gdsp_itemId=' +current.sys_id;&amp;#13;
 email.subject='Notification for Genomic Data Sharing Plan Review and Signoff';&amp;#13;
template.print('Your Genomic Data Sharing Plan has been approved by the Center for Cancer Research GPA and Scientific Director. If you are generating genomic data from human samples (either patients or cell-lines), please refer to the &amp;lt;a href="https://ccrod.cancer.gov/confluence/download/attachments/73203825/signed_RPS-24 GDS_institutional_certification v1.0_08.2017.pdf?version=1&amp;amp;modificationDate=1504289652817&amp;amp;api=v2" target="_BLANK"&amp;gt;SOP&amp;lt;/a&amp;gt; on establishing a GDS Institutional Certification.\n\n');&amp;#13;
 template.print('Action: OPTIONS - New Genomic Data Sharing Plan/Resubmission of Genomic Data Sharing Plan.\n\n');&amp;#13;
 template.print('GDSP number: ' + ticketNum + '\n');&amp;#13;
 template.print('Principle Investigator: ' + varown.u_investigator + '\n');&amp;#13;
 template.print('Study Name: ' + varown.u_project_name + '\n\n\n');&amp;#13;
 template.print('Go To : ' + "&amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;");&amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f961965&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f961965&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Retain the copy for a record for CCR All Group"&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f961966&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Approval Action"&gt;50a78fa50a6a803f66d064255f7201a5&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;2&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input/&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Review is completed&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Completed"&gt;889e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;1247&lt;/x&gt;&lt;y&gt;525&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=1c9e0505dbb2af4054d8ff621f9619e8"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619e8&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;1c9e0505dbb2af4054d8ff621f9619e8&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;approved&lt;/value&gt;&lt;variable display_value=""&gt;50ab35f70a6a803f76d36e1ebaf3639e&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Review is completed"&gt;1c9e0505dbb2af4054d8ff621f9619e8&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619e9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;5&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to GPA and GPA ASST&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for GPA Review"&gt;8c9e0505dbb2af4054d8ff621f961962&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;65&lt;/x&gt;&lt;y&gt;362&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=909e4505dbb2af4054d8ff621f96190b"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;923140a06f4916000a09334abb3ee424,d64289f76fc61600bbc002e6eb3ee4a7&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;0&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e4505dbb2af4054d8ff621f96190b&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f96190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to GPA and GPA ASST"&gt;909e4505dbb2af4054d8ff621f96190b&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;9&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to SD&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Waiting for SD Review"&gt;0c9e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;575&lt;/x&gt;&lt;y&gt;112&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=109e0505dbb2af4054d8ff621f9619f4"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;5c2d50396f7b5200bbc002e6eb3ee498&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e0505dbb2af4054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;5c2d50396f7b5200bbc002e6eb3ee498&lt;/value&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Notification for Genomic Data Sharing Plan Review and Signoff&lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;${mail_script:ccr_gds_ready_to_review_wf}&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;189e0505dbb2af4054d8ff621f9619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.u_director&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to SD"&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619f5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;3&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to Submiter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="Requested"&gt;849e0505dbb2af4054d8ff621f961963&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;67&lt;/x&gt;&lt;y&gt;226&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=9c9e0505dbb2af4054d8ff621f9619e6"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
      if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;Request has been submitted for GPA review - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;1c9e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
      if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been submitted for GPA review';	&amp;#13;
var url =  gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdsId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print(": &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;949e0505dbb2af4054d8ff621f9619e7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to Submiter"&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;549e0505dbb2af4054d8ff621f9619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_activity action="INSERT_OR_UPDATE"&gt;&lt;activity_definition display_value="Notification"&gt;0a6c97790a0a0b2756919eb960284334&lt;/activity_definition&gt;&lt;activity_definition_updated&gt;false&lt;/activity_definition_updated&gt;&lt;databus_lookup_id&gt;1&lt;/databus_lookup_id&gt;&lt;height/&gt;&lt;input&gt;{}&lt;/input&gt;&lt;is_parent&gt;false&lt;/is_parent&gt;&lt;name&gt;Send Notification to Submiter&lt;/name&gt;&lt;new_activity_definition/&gt;&lt;notes/&gt;&lt;out_of_date&gt;false&lt;/out_of_date&gt;&lt;parent/&gt;&lt;pinned&gt;false&lt;/pinned&gt;&lt;pinned_version/&gt;&lt;stage display_value="GPA Approved"&gt;049e0505dbb2af4054d8ff621f961964&lt;/stage&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;timeout&gt;1970-01-01 00:00:00&lt;/timeout&gt;&lt;vars/&gt;&lt;width/&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;x&gt;332&lt;/x&gt;&lt;y&gt;45&lt;/y&gt;&lt;/wf_activity&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=909e0505dbb2af4054d8ff621f9619f2"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been Approved by GPA and sent for SD for review';	&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdspId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Request has been approved by GPA - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;c35daa890a0a0ba96248a709c32994d6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;150&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e0505dbb2af4054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;ae2121c70a0a0b3459708c9a60cd7312&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;Request has been approved by GPA - &lt;/value&gt;&lt;variable display_value=""&gt;c35db2180a0a0ba96248a709d1b6df20&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;300&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e0505dbb2af4054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;&amp;lt;mail_script&amp;gt;&amp;#13;
var contact_type = '';&amp;#13;
var ticketNum = '';&amp;#13;
var version = '';&amp;#13;
var hasParent = '';&amp;#13;
var org_ticket_num = '';&amp;#13;
var variables;&amp;#13;
&amp;#13;
var varown = new GlideRecord('sc_req_item');&amp;#13;
varown.addQuery('sys_id', current.sys_id);&amp;#13;
varown.query();&amp;#13;
&amp;#13;
if(varown.getRowCount() &amp;gt; 0){&amp;#13;
	varown.next();&amp;#13;
	contact_type = varown.getValue('contact_type');&amp;#13;
&amp;#13;
    if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){&amp;#13;
	     org_ticket_num = varown.number;&amp;#13;
		 hasParent = 'false';&amp;#13;
    }else{&amp;#13;
		var orgIds = contact_type.split("=");&amp;#13;
        var gr_tracking_item = GlideRecord('u_ccr_tracking_t');&amp;#13;
        gr_tracking_item.addQuery('u_orgid',orgIds[0]);&amp;#13;
        gr_tracking_item.query();&amp;#13;
        if(gr_tracking_item.getRowCount() &amp;gt; 0){&amp;#13;
             gr_tracking_item.next();&amp;#13;
             org_ticket_num = gr_tracking_item.u_ticket_number;&amp;#13;
             version = orgIds[1];&amp;#13;
             hasParent = 'true';&amp;#13;
         }		&amp;#13;
	}&amp;#13;
    if(hasParent == 'true'){&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;&amp;#13;
    }else{&amp;#13;
           ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);&amp;#13;
    } 	&amp;#13;
}&amp;#13;
&amp;#13;
email.setFrom("CCR Genomic Data Sharing");&amp;#13;
email.subject = 'GDSP ' + ticketNum + ' has been Approved by GPA and sent for SD for review';	&amp;#13;
var url = gs.getProperty('ccr_gds_ic_uri') + '/sp.do?id=gds_web_application&amp;amp;gdspId=' +current.sys_id;	&amp;#13;
template.print("Click on the link to view the details of the request");&amp;#13;
template.print("GDSP details: &amp;lt;a href='" + url + "'&amp;gt;" + ticketNum + "&amp;lt;/a&amp;gt;"); &amp;#13;
			   &amp;#13;
&amp;lt;/mail_script&amp;gt;&lt;/value&gt;&lt;variable display_value=""&gt;c35db5a50a0a0ba96248a70938ae8de6&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;6d6816cd0a6a803f0853a8df38007572&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;wf_activity&lt;/document&gt;&lt;document_key&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/document_key&gt;&lt;order&gt;500&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e0505dbb2af4054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;value&gt;// Set the variable 'answer' to a comma-separated list of user or group sys_ids that you want the email sent to.&amp;#13;
answer=current.opened_by&lt;/value&gt;&lt;variable display_value=""&gt;c35dae3d0a0a0ba96248a7098ed9b4aa&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;wf_condition action="INSERT_OR_UPDATE"&gt;&lt;activity display_value="Send Notification to Submiter"&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/activity&gt;&lt;condition&gt;true&lt;/condition&gt;&lt;condition_default/&gt;&lt;condition_type&gt;standard&lt;/condition_type&gt;&lt;else_flag&gt;false&lt;/else_flag&gt;&lt;error&gt;false&lt;/error&gt;&lt;event&gt;false&lt;/event&gt;&lt;event_name/&gt;&lt;is_positive&gt;false&lt;/is_positive&gt;&lt;name&gt;Always&lt;/name&gt;&lt;order&gt;0&lt;/order&gt;&lt;short_description/&gt;&lt;skip_during_generate&gt;false&lt;/skip_during_generate&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e0505dbb2af4054d8ff621f9619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;/wf_condition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;1c9e0505dbb2af4054d8ff621f9619fc&lt;/condition&gt;&lt;from display_value="CCR Scientific Director"&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;109e4505dbb2af4054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="email to CCR GPA for SD Rejection"&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;dc9e4505dbb2af4054d8ff621f961907&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;549e4505dbb2af4054d8ff621f961903&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;149e4505dbb2af4054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submiter"&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;1c9e4505dbb2af4054d8ff621f961902&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submiter"&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;dc9e0505dbb2af4054d8ff621f9619ed&lt;/condition&gt;&lt;from display_value="Begin"&gt;949e0505dbb2af4054d8ff621f9619ed&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;509e4505dbb2af4054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to Submiter"&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;d89e0505dbb2af4054d8ff621f9619f1&lt;/condition&gt;&lt;from display_value="email to CCR GPA for SD Rejection"&gt;149e0505dbb2af4054d8ff621f9619f0&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter for SD Rejection"&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;d49e0505dbb2af4054d8ff621f9619f5&lt;/condition&gt;&lt;from display_value="Send Notification to SD"&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;549e4505dbb2af4054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="CCR Scientific Director"&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;589e0505dbb2af4054d8ff621f9619f3&lt;/condition&gt;&lt;from display_value="Send Notification to Submiter"&gt;909e0505dbb2af4054d8ff621f9619f2&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to SD"&gt;109e0505dbb2af4054d8ff621f9619f4&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;149e0505dbb2af4054d8ff621f9619e5&lt;/condition&gt;&lt;from display_value="Email to Submitter for GPA approval"&gt;d49e0505dbb2af4054d8ff621f961967&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;589e4505dbb2af4054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Email to GPA ASST"&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;549e0505dbb2af4054d8ff621f9619e8&lt;/condition&gt;&lt;from display_value="Send Notification to Submiter"&gt;9c9e0505dbb2af4054d8ff621f9619e6&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961913&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Send Notification to GPA and GPA ASST"&gt;909e4505dbb2af4054d8ff621f96190b&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;149e0505dbb2af4054d8ff621f9619e9&lt;/condition&gt;&lt;from display_value="Review is completed"&gt;1c9e0505dbb2af4054d8ff621f9619e8&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;5c9e4505dbb2af4054d8ff621f961914&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;549e4505dbb2af4054d8ff621f96190a&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;9c9e0505dbb2af4054d8ff621f961966&lt;/condition&gt;&lt;from display_value="Retain the copy for a record for CCR All Group"&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;909e4505dbb2af4054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter for completion"&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;5c9e0505dbb2af4054d8ff621f9619ef&lt;/condition&gt;&lt;from display_value="Email to GPA ASST"&gt;949e0505dbb2af4054d8ff621f9619ee&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="PI need to Resubmit"&gt;d89e0505dbb2af4054d8ff621f9619e5&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;509e4505dbb2af4054d8ff621f961908&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;549e4505dbb2af4054d8ff621f961903&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;949e4505dbb2af4054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Email to Submitter for GPA approval"&gt;d49e0505dbb2af4054d8ff621f961967&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;d49e0505dbb2af4054d8ff621f9619e6&lt;/condition&gt;&lt;from display_value="PI need to Resubmit"&gt;d89e0505dbb2af4054d8ff621f9619e5&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;549e4505dbb2af4054d8ff621f96190a&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;909e0505dbb2af4054d8ff621f9619eb&lt;/condition&gt;&lt;from display_value="Email to Submitter for completion"&gt;d89e0505dbb2af4054d8ff621f9619e9&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Retain the copy for a record - PSO"&gt;189e4505dbb2af4054d8ff621f961908&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;109e0505dbb2af4054d8ff621f9619ed&lt;/condition&gt;&lt;from display_value="Email to GPA ASST"&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;989e4505dbb2af4054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Email tp PI Submitter"&gt;109e4505dbb2af4054d8ff621f96190d&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;d89e0505dbb2af4054d8ff621f9619fd&lt;/condition&gt;&lt;from display_value="PI need to Resubmit"&gt;d09e0505dbb2af4054d8ff621f9619fd&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f96190f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="End"&gt;549e4505dbb2af4054d8ff621f96190a&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Approved"&gt;989e0505dbb2af4054d8ff621f9619fc&lt;/condition&gt;&lt;from display_value="CCR Scientific Director"&gt;1c9e0505dbb2af4054d8ff621f9619f7&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961910&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Retain the copy for a record for CCR All Group"&gt;0c9e0505dbb2af4054d8ff621f961964&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;549e0505dbb2af4054d8ff621f9619f7&lt;/condition&gt;&lt;from display_value="Email to Submitter for SD Rejection"&gt;9c9e0505dbb2af4054d8ff621f9619f5&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;9c9e4505dbb2af4054d8ff621f961911&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="CCR GPA"&gt;549e4505dbb2af4054d8ff621f961903&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;dc9e4505dbb2af4054d8ff621f961909&lt;/condition&gt;&lt;from display_value="Retain the copy for a record - PSO"&gt;189e4505dbb2af4054d8ff621f961908&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d09e4505dbb2af4054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Review is completed"&gt;1c9e0505dbb2af4054d8ff621f9619e8&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;589e4505dbb2af4054d8ff621f96190c&lt;/condition&gt;&lt;from display_value="Send Notification to GPA and GPA ASST"&gt;909e4505dbb2af4054d8ff621f96190b&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d49e4505dbb2af4054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="CCR GPA"&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Always"&gt;d49e4505dbb2af4054d8ff621f96190e&lt;/condition&gt;&lt;from display_value="Email tp PI Submitter"&gt;109e4505dbb2af4054d8ff621f96190d&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;d89e4505dbb2af4054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="PI need to Resubmit"&gt;d09e0505dbb2af4054d8ff621f9619fd&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_transition action="INSERT_OR_UPDATE"&gt;&lt;condition display_value="Rejected"&gt;9c9e4505dbb2af4054d8ff621f961902&lt;/condition&gt;&lt;from display_value="CCR GPA"&gt;909e0505dbb2af4054d8ff621f9619fe&lt;/from&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:46:00&lt;/sys_created_on&gt;&lt;sys_id&gt;dc9e4505dbb2af4054d8ff621f961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:46:00&lt;/sys_updated_on&gt;&lt;to display_value="Email to GPA ASST"&gt;589e0505dbb2af4054d8ff621f9619eb&lt;/to&gt;&lt;/wf_transition&gt;&lt;wf_estimated_runtime_config action="INSERT_OR_UPDATE"&gt;&lt;estimated_run_time/&gt;&lt;no_of_data_points&gt;1&lt;/no_of_data_points&gt;&lt;percentage_threshold_ert&gt;20&lt;/percentage_threshold_ert&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-01-02 19:45:59&lt;/sys_created_on&gt;&lt;sys_id&gt;c49e0505dbb2af4054d8ff621f961961&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:45:59&lt;/sys_updated_on&gt;&lt;workflow_version display_value="GDS GDSP Workflow"&gt;049e0505dbb2af4054d8ff621f961961&lt;/workflow_version&gt;&lt;/wf_estimated_runtime_config&gt;&lt;wf_workflow_version action="update_multiple" query="workflow=3d0f6870db66830054d8ff621f961923^sys_id!=049e0505dbb2af4054d8ff621f961961"&gt;&lt;published&gt;false&lt;/published&gt;&lt;/wf_workflow_version&gt;&lt;/record_update&gt;</payload>
<payload_hash>-837765992</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>668bbbdfdbcb2f00b86770c08c961915</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>168101a3ef20000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>sc_ic_aprvl_defn_staging</table>
<target_name>GDS GDSP Workflow</target_name>
<type>Workflow</type>
<update_domain>global</update_domain>
<update_guid>29ae850598b2af40c63d5f5a8ce614b2</update_guid>
<update_guid_history>29ae850598b2af40c63d5f5a8ce614b2:-837765992,688203d0a9ba2f4092d7487cab52e4df:92959528,726b7fc9572ea340570e4f46f1750da8:129230611,e0b7b709aa2ea340c538215139904efa:-838160219,2a277fc5922ea34073fe9e7bfb8507dd:1622100575,ffd976f4d9ae63404ca65517140ea12d:310603429,d54a42706d2e634068dc5bebf14be180:-943328219,e4a64e7c9eea6340228eb06727c97f65:-586031172,c79ba9f8fcaa6340a57f8ded6b1e7702:-2114407201,d051cbfbd496ef00c9ada6c4c89a8bd3:-949967036,edf38e37a416ef00024adf237c6d7f7e:-1424876353,c8a696d085db53402da7e630a8589d10:1008024463,fdedc2926be68700866e605f1f2d1ecb:1997407286,c8a696d085db53402da7e630a8589d10:1008024463,9aa5d690f6db5340c0e7f27178b09cd8:1534439189,5163d61022db53409b80f90a3f70574b:-792513205,96f1e564049a1bc06a779536b1234a9e:631483787,a18adcb4890a9f80c86bca004571f0fb:-1153333084,28f918b4410a9f80c1e4989bb7d24347:-1672757151,fdedc2926be68700866e605f1f2d1ecb:1997407286,a63b17e52f2207001b0a5541561fdd21:-552677263,251f20b016668300e910aaff21a447a5:366885049</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_gds_tissue_protocols_u_protocol_number</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="u_protocol_number" table="u_gds_tissue_protocols"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label>Protocol Number</column_label><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element>u_protocol_number</element><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="String">string</internal_type><mandatory>false</mandatory><max_length>50</max_length><name>u_gds_tissue_protocols</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:25:23</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>f15041dedb9e2f0054d8ff621f96196d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Protocol Number</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_gds_tissue_protocols_u_protocol_number</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:25:23</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>134096617</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>6a8bbbdfdbcb2f00b86770c08c961907</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e180480000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols.Protocol Number</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>717081ded09e2f005521ea24e1f5f5ec</update_guid>
<update_guid_history>717081ded09e2f005521ea24e1f5f5ec:134096617</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_headers_e0f77a26dbe9234054d8ff621f96190d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn_headers"><sys_rest_message_fn_headers action="INSERT_OR_UPDATE"><name>Content-Type</name><rest_message_function display_value="getBranch">ff27f666dbe9234054d8ff621f961924</rest_message_function><sys_class_name>sys_rest_message_fn_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 15:59:46</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>e0f77a26dbe9234054d8ff621f96190d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Content-Type</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_headers_e0f77a26dbe9234054d8ff621f96190d</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-06 15:59:46</sys_updated_on><value>application/json</value></sys_rest_message_fn_headers></record_update>]]></payload>
<payload_hash>-205649367</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6a8bbbdfdbcb2f00b86770c08c96190a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166e9c050170000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Content-Type</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>2a28be6612e92340bb34b3a86d1387be</update_guid>
<update_guid_history>2a28be6612e92340bb34b3a86d1387be:-205649367</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_baff749edb9e2f0054d8ff621f96196e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="DELETE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocals</description><name>u_gds_tissue_protocals</name><operation display_value="write">write</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>baff749edb9e2f0054d8ff621f96196e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_baff749edb9e2f0054d8ff621f96196e</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>7154724</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6a8bbbdfdbcb2f00b86770c08c96190d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0197e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>u_gds_tissue_protocals</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>5f10499edc9e2f00ec74e55680367973</update_guid>
<update_guid_history>5f10499edc9e2f00ec74e55680367973:7154724,72ff749e749e2f00919458e0506b048c:-989762128</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_feff749edb9e2f0054d8ff621f96198c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="DELETE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>feff749edb9e2f0054d8ff621f96198c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="">baff749edb9e2f0054d8ff621f96196e</sys_security_acl><sys_update_name>sys_security_acl_role_feff749edb9e2f0054d8ff621f96198c</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocals_user" name="u_gds_tissue_protocals_user">7aff349edb9e2f0054d8ff621f961920</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1278130270</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6a8bbbdfdbcb2f00b86770c08c961910</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e018420000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>baff749edb9e2f0054d8ff621f96196e</table>
<target_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>df10499ed09e2f009b4ca419cb3a8e6d</update_guid>
<update_guid_history>df10499ed09e2f009b4ca419cb3a8e6d:-1278130270,3eff749e829e2f00f34083bcaa67ab8e:595475476</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_ebe176aadb12af0054d8ff621f9619fd</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;createProtocol&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
      var body = request.body.data; 
	  var number = body.number;
	  var name = body.name;
	  var branch = body.branch;
	
	  var protocol = new GlideRecord('u_gds_tissue_protocols');
	      protocol.addQuery('u_protocol_number', number);
	      protocol.query();
	  
	  var exist = protocol.next();
	  if(exist){
		  protocol.u_protocol_number = number;
		  protocol.u_protocol_name = name;
		  protocol.u_protocol_branch = branch;
		  protocol.update();
	  }else{
		  protocol.initialize();
		  protocol.u_protocol_number = number;
		  protocol.u_protocol_name = name;
		  protocol.u_protocol_branch = branch;
		  protocol.insert();
	  }
	  var item = new GlideRecord('u_gds_tissue_protocols');
	      item.query();
	      item.orderBy('u_protocol_number');
	  var protocols = [];
	
	  while(item.next()){
		  protocols.push({
			 number: item.getDisplayValue('u_protocol_number'),
			 name: item.getDisplayValue('u_protocol_name'),
			 branch: item.getDisplayValue('u_protocol_branch')
	      });
	  }
	  return protocols;

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/createProtocol&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/createProtocol&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-13 22:20:04&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;ebe176aadb12af0054d8ff621f9619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;createProtocol&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_ebe176aadb12af0054d8ff621f9619fd&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-18 21:46:32&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-776479662</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6a8bbbdfdbcb2f00b86770c08c961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167c348e2840000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>createProtocol</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>674a58909de2234057227a6caead298a</update_guid>
<update_guid_history>674a58909de2234057227a6caead298a:-776479662,65873e2e1c12af001bff8e089e7155e7:-1009467177,f405faeaad12af00dd68257f4b359d8c:725956020,a6e4fa2eab12af005c549ab47c5448ae:308224820,5cc37aea6a12af00e39ceceb93868d92:-1950843859,0e0236aad312af006dd14e23998e2821:1533254375</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_gds_tissue_protocals_null</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="DELETE" element="" table="u_gds_tissue_protocals"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label/><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element/><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="Collection">collection</internal_type><mandatory>false</mandatory><max_length>40</max_length><name>u_gds_tissue_protocals</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:18</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>43ff749edb9e2f0054d8ff621f9619a4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_gds_tissue_protocals_null</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:18</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>1381250073</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>6e8bbbdfdbcb2f00b86770c08c961906</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0548b0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>u_gds_tissue_protocals</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>cf200d9efd9e2f00d0bdb0edcf07064c</update_guid>
<update_guid_history>cf200d9efd9e2f00d0bdb0edcf07064c:1381250073,0bff749ef39e2f005683ca587daea1cf:-1125737883</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_d5f820e2db11a70054d8ff621f961926</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>getZlist</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>Z List retrieval [ getZlist ]</qualified_name><rest_endpoint>https://ccrintra.cancer.gov/ARS/api/projects</rest_endpoint><rest_message display_value="Z List retrieval">4ea86822db11a70054d8ff621f961993</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-24 19:18:23</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>d5f820e2db11a70054d8ff621f961926</sys_id><sys_mod_count>3</sys_mod_count><sys_name>getZlist</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_d5f820e2db11a70054d8ff621f961926</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-24 21:04:44</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server display_value="CBIITBiz MidServer">da712e43db490700f59974131f9619a2</use_mid_server><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<payload_hash>1493818510</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6e8bbbdfdbcb2f00b86770c08c961909</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a7e4d7860000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>getZlist</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_guid>034185665651a700b176c2e3b9e1de19</update_guid>
<update_guid_history>034185665651a700b176c2e3b9e1de19:1493818510,3d40c5e2a051a70078e480ae759dbd02:352882473,f729e4e25811a70065dad167304ddf07:934409320,19f820e2b711a70024a41707842ecd27:-527345821</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_7b59ee8edbdd270054d8ff621f961904</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_ccr_gds_z_list_table</description><name>u_ccr_gds_z_list_table</name><operation display_value="write">write</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>7b59ee8edbdd270054d8ff621f961904</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_7b59ee8edbdd270054d8ff621f961904</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-700762980</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6e8bbbdfdbcb2f00b86770c08c96190c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18523190000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>b359ee8e36dd2700bf5bfebe779e2b09</update_guid>
<update_guid_history>b359ee8e36dd2700bf5bfebe779e2b09:-700762980</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_be408d9edb9e2f0054d8ff621f961950</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>be408d9edb9e2f0054d8ff621f961950</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_gds_tissue_protocols">fa408d9edb9e2f0054d8ff621f96194a</sys_security_acl><sys_update_name>sys_security_acl_role_be408d9edb9e2f0054d8ff621f961950</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocols_user" name="u_gds_tissue_protocols_user">76408d9edb9e2f0054d8ff621f96193d</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1188062696</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6e8bbbdfdbcb2f00b86770c08c96190f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d36a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>3e408d9e289e2f00a36db31192011352</update_guid>
<update_guid_history>3e408d9e289e2f00a36db31192011352:-1188062696</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_c1eecfc6db51670054d8ff621f961998</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;fetchZList&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var term = request.queryParams.term.toString();
	var gr = new GlideRecord('u_ccr_gds_z_list_table');
	    gr.addQuery('u_z_number', 'CONTAINS', term);
	    gr.orderBy('u_z_number');
        gr.query();
	var result = [];
	while(gr.next()){
		var item = {};
		item.label = gr.u_z_number.toString();
		item.value = gr.u_z_number.toString();
		item.title = gr.u_title.toString();
		item.nedId = gr.u_ned_id.toString();
		result.push(item);
	}
   return result;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/fetchZList&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/fetchZList&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-23 18:06:41&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;c1eecfc6db51670054d8ff621f961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;fetchZList&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_c1eecfc6db51670054d8ff621f961998&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-10-23 18:34:53&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-379432329</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>6e8bbbdfdbcb2f00b86770c08c961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a2354a430000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>fetchZList</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>566557cede5167006bdca0435c0bb624</update_guid>
<update_guid_history>566557cede5167006bdca0435c0bb624:-379432329,d241974a03516700fd9c9a4c1faaf377:-1878490345,b611174a73516700c347785d9bddd4e9:-388916841,1690d70ad3516700a439d5073cb07c21:-379432329,305f070a0f5167003789352f5897cc7e:-1740262694,8dfe030a79516700cd2b522dfac0047d:-935673262</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>m2m_sp_dependency_js_include_d5fca55adb526f0054d8ff621f9619c2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_dependency_js_include"><m2m_sp_dependency_js_include action="INSERT_OR_UPDATE"><order>100</order><sp_dependency display_value="dirPagination dependency">61c476cedb12360054d8ff621f961957</sp_dependency><sp_js_include display_value="gds_select2">9aace15adb526f0054d8ff621f9619df</sp_js_include><sys_class_name>m2m_sp_dependency_js_include</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 22:39:47</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>d5fca55adb526f0054d8ff621f9619c2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>dirPagination dependency.gds_select2</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>m2m_sp_dependency_js_include_d5fca55adb526f0054d8ff621f9619c2</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 22:39:47</sys_updated_on></m2m_sp_dependency_js_include></record_update>]]></payload>
<payload_hash>-1655679395</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>928b77dfdbcb2f00b86770c08c96196f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a49379720000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>dirPagination dependency.gds_select2</target_name>
<type>Dependency JS Includes</type>
<update_domain>global</update_domain>
<update_guid>9dfca55a98526f003648a6e3d72389c3</update_guid>
<update_guid_history>9dfca55a98526f003648a6e3d72389c3:-1655679395</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_6f829e9adbf1b20054d8ff621f961937</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($rootScope, $scope, spUtil, $http, $window) {
	var c = this;
	var my_sys_id = c.data.info.userId;
	var sessionId = c.data.info.sessionId;
	var user_name = c.data.info.userName;
	$('#refresh').val('0');
	$('[data-toggle="popover"]').popover(); 
	c.protocols = [];
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [{
		key: 'project_name',
		label: 'Project Name',
		sort: 'asc'
	},
							 {
								 key: 'sys_create_on',
								 label: 'Created Date',
								 sort: 'asc'
							 },
							 {
								 key: 'actions',
								 label: 'Actions',
								 sort: null
							 }
							];

	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.tasks.length / currentSize));
	};

	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};

	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.tasks = c.data.tasks.sort(compareRows);
		}
	};

	c.pagination0 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns0 = [{
		key: 'ic_id',
		label: 'IC ID',
		sort: 'asc'
	},
								{
									key: 'study_name',
									label: 'Study Name',
									sort: 'asc'
								},
								{
									key: 'project_title',
									label: 'Project Title',
									sort: 'asc'
								},
								{
									key: 'submitted_by',
									label: 'Submitted By',
									sort: 'asc'
								},
								{
									key: 'submitted_date',
									label: 'Submitted Date',
									sort: 'asc'
								},
								{
									key: 'status',
									label: 'Status',
									sort: 'asc'
								},
								{
									key: 'last_update_date',
									label: 'Last Update Date',
									sort: 'asc'
								},
								{
									key: 'approval',
									label: 'Approval',
									sort: null
								},

								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}		
							 ];

	c.getRange0 = function() {
		var currentSize = c.pagination0.currentSize;
		var currentPage = c.pagination0.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.icSignTasks.length / currentSize));
	};

	c.setPage0 = function(index) {
		c.pagination0.currentPage = index;
	};

	c.toggleSort0 = function(index) {
		var column = c.columns0[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.icSignTasks = c.data.icSignTasks.sort(compareRows);
		}
	};

	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [{
		key: 'gdsp_id',
		label: 'GDSP ID',
		sort: 'asc'
	},
								{
									key: 'principal_name',
									label: 'Principal Name',
									sort: 'asc'
								},
								{
									key: 'project_name',
									label: 'Project Name',
									sort: 'asc'
								},
								{
									key: 'status',
									label: 'Status',
									sort: 'asc'
								},
								{
									key: 'approval',
									label: 'Approval',
									sort: null
								},
								{
									key: 'submitted_date',
									label: 'Submitted Date',
									sort: 'asc'
								},
								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}
							 ];

	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.submittedTasks.length / currentSize));
	};

	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};

	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.submittedTasks = c.data.submittedTasks.sort(compareRows);
		}
	};

	c.pagination2 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns2 = [{
		key: 'study_name',
		label: 'Study Name',
		sort: 'asc'
	},
								{
									key: 'project_title',
									label: 'Project Title',
									sort: 'asc'
								},
							/*	{
									key: 'certification_to',
									label: 'Certification Issues To',
									sort: 'asc'
								},
								{
									key: 'certification_from',
									label: 'Certification Issues From',
									sort: 'asc'
								},*/
								{
									key: 'gpa_organization',
									label: 'Organization of GPA',
									sort: null
								},
								{
									key: 'sd_organization',
									label: 'Organization of SD',
									sort: 'asc'
								},
								{
									key: 'sys_create_on',
									label: 'Created Date',
									sort: 'asc'
								},
								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}
							 ];

	c.getRange2 = function() {
		var currentSize = c.pagination2.currentSize;
		var currentPage = c.pagination2.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.icTasks.length / currentSize));
	};

	c.setPage2 = function(index) {
		c.pagination2.currentPage = index;
	};

	c.toggleSort2 = function(index) {
		var column = c.columns2[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.icTasks = c.data.icTasks.sort(compareRows);
		}
	};

	c.pagination3 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns3 = [{
		key: 'first_name',
		label: 'First Name',
		sort: 'asc'
	},
								{
									key: 'last_name',
									label: 'Last Name',
									sort: 'asc'
								},
								{
									key: 'access',
									label: 'Access',
									sort: 'asc'
								},
								{
									key: 'action',
									label: 'Action',
									sort: null
								}
							 ];

	c.getRange3 = function() {
		var currentSize = c.pagination3.currentSize;
		var currentPage = c.pagination3.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.userTasks.length / currentSize));
	};

	c.setPage3 = function(index) {
		c.pagination3.currentPage = index;
	};

	c.toggleSort3 = function(index) {
		var column = c.columns3[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.userTasks = c.data.userTasks.sort(compareRows);
		}
	};

	c.pagination4 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns4 = [{
		key: 'ic_id',
		label: 'IC ID',
		sort: 'asc'
	},
								{
									key: 'study_name',
									label: 'Study Name',
									sort: 'asc'
								},
								{
									key: 'project_title',
									label: 'Project Title',
									sort: 'asc'
								},
								/*{
									key: 'issue_to',
									label: 'Certification Issues To',
									sort: 'asc'
								},
								{
									key: 'issue_from',
									label: 'Certification Issues From',
									sort: 'asc'
								},*/
								{
									key: 'status',
									label: 'Approval',
									sort: 'asc'
								},
								{
									key: 'approval',
									label: 'Approval',
									sort: null
								},
								{
									key: 'submitted_date',
									label: 'Submitted Date',
									sort: 'asc'
								},
								{
									key: 'action',
									label: 'Action',
									sort: null
								}
							 ];

	c.getRange4 = function() {
		var currentSize = c.pagination4.currentSize;
		var currentPage = c.pagination4.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.icSubmittedTasks.length / currentSize));
	};

	c.setPage4 = function(index) {
		c.pagination4.currentPage = index;
	};

	c.toggleSort4 = function(index) {
		var column = c.columns4[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.icSubmittedTasks = c.data.icSubmittedTasks.sort(compareRows);
		}
	};

	c.pagination5 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns5 = [{
		key: 'project_name',
		label: 'Project Name',
		sort: 'asc'
	},
								{
									key: 'investigator',
									label: 'Investigator',
									sort: 'asc'
								},
								{
									key: 'sys_create_on',
									label: 'Created Date',
									sort: 'asc'
								},
								{
									key: 'actions',
									label: 'Actions',
									sort: null
								}
							 ];

	c.getRange5 = function() {
		var currentSize = c.pagination5.currentSize;
		var currentPage = c.pagination5.currentPage;

		var offset = currentSize * currentPage;

		return new Array(Math.ceil(c.data.erTasks.length / currentSize));
	};

	c.setPage5 = function(index) {
		c.pagination5.currentPage = index;
	};

	c.toggleSort5 = function(index) {
		var column = c.columns5[index];
		var key = column.key;

		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {

			var sortAscending = column.sort === 'asc';

			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;

			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB) :
					keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};

			c.data.erTasks = c.data.erTasks.sort(compareRows);
		}
	};
	//start client js

	$('.collapse').on('shown.bs.collapse', function() {
		console.log(this);
		$(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
	}).on('hidden.bs.collapse', function() {
		$(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
	});

	var names = ['investigator', 'pTitle', 'pBranch', 'email', 'phone', 'date', 'projectNumber', 'projectName', 'simpleSize', 'prospective', 'restrospective', 'human', 'nonHuman', 'germLine', 'somatic', 'dnaType', 'rnaType', 'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression', 'methylationArray', 'numMethylation', 'arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository', 'phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation', 'limitedOnly', 'limitedPurpose', 'relateToDisease', 'orginId', 'version', 'rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator', 'pTitle', 'pBranch', 'email', 'phone', 'date', 'projectNumber', 'projectName', 'simpleSize', 'specifyOtherType', 'spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument', 'specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version', 'numSNP', 'numExpression', 'numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var icNames = ['certification_date', 'institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'data_access', 'display', 'frequency', 'sampleTime', 'sampleConsent', 'consent_group'];
  $scope.orgType = '';
	$scope.backToMain = function() {
		$('#refresh').val('0');
		location.replace("$sp.do?id=gds_web_application");
	};

	$("#piName").autocomplete({
		delay: 500,
		source: function(request, response) {
			var term = $('#piName').val();
			var temp = '';
			if (term.indexOf(',') &gt;= 0) {
				temp = term.split(',');
				var length = temp.length;
				if (length &gt; 1) {
					term = temp[1].trim() + " " + temp[0].trim();
				} else {
					term = temp[0];
				}
			}
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchUserList',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					'term': term
				}
			};
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;

				response(result);
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}
		},
		autoFocus: true,
		select: function(event, ui) {
			$('#refresh').val('0');
			console.log(event, ui);
			var id = ui.item.id;
			var email = ui.item.email;
			var phone = ui.item.phone;
			var title = ui.item.title;
			var longOrg = ui.item.longOrg;
			
			if(title == null || title.trim().length==0){
				title = 'N/A';
			}
			if(email == null || email.trim().length == 0){
				email = 'N/A';
			}
			if(phone == null || phone.trim().length == 0){
				phone = 'N/A';
			}
			if(longOrg == null || longOrg.trim().length == 0){
				longOrg = 'N/A';
			}
			var name = (ui.item.value || '').split(' ');
			$('#piUserId').val(id);
			if (name != null &amp;&amp; name.length &gt; 1) {
				$('#piFirstName').val(name[0]);
				$('#piLastName').val(name[1]);
				$('#piEmail').val(email);
				$('#piPhone').val(phone);
				if(longOrg  == 'N/A'){
					$('#piBranch').val(longOrg);
				}else{
					getBranch(longOrg);
				}
				$('#piTitle').val(title);
			} else {
				$('#piFirstName').val('');
				$('#piLastName').val('');
				$('#piEmail').val('');
				$('#piPhone').val('');
				$('#piBranch').val('');
				$('#piTitle').val('');
			}
			$('#aoInfo').show();
		}
	});
	
	$("#userName").autocomplete({
		delay: 500,
		source: function(request, response) {
			var term = $('#userName').val();
			var temp = '';
			if (term.indexOf(',') &gt;= 0) {
				temp = term.split(',');
				var length = temp.length;
				if (length &gt; 1) {
					term = temp[1].trim() + " " + temp[0].trim();
				} else {
					term = temp[0];
				}
			}
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchUserList',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					'term': term
				}
			};
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;

				response(result);
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}
		},
		autoFocus: true,
		select: function(event, ui) {
			$('#refresh').val('0');
			console.log(event, ui);
			var id = ui.item.id;
			var name = (ui.item.value || '').split(' ');
			$('#userId').val(id);
			if (name != null &amp;&amp; name.length &gt; 1) {
				$('#userFirstName').val(name[0]);
				$('#userLastName').val(name[1]);
			} else {
				$('#userFirstName').val('');
				$('#userLastName').val('');
			}
		}
	});
	var isLoading = true;
	$('#selectParent').select2();//({tags: true});

	$('#selectParent').on('change', function(e) {
		console.log('change')
		describeProtocols();
	})
	/*$('#selectParent').on("change", function(e){
		if (isLoading) {
			isLoading = false;
		} else {
			var value = $(this).val();
			setTimeout(function() {
				var parentId = JSON.stringify(value);
				var gdspStatus = $('#gdspStatus').val();
				var icStatus = $('#icStatus').val();
			}, 0);				
		}
	});*/
	var userLocation = window.location.href;

	var temp = userLocation.split('&amp;');
	var rec_id = '';
	var access = '';

	if (temp.length &gt; 1) {
		var t1 = temp[1].split('itemId');
		rec_id = t1[1].substring(1);
	}
	if (temp.length &gt; 1) {
		var t2 = temp[2].split('access');
		access = t2[1].substring(1);
	}

	access = unescape(access);
	access = encodeDecodeData(access.trim(), 'decode');
	if(access != 'Read_and_Write'){
		access = 'Read_Only';
	}
	if (rec_id != null &amp; rec_id.length &gt; 0) {
		$('#recId').val(rec_id);
		$('#aoInfo').show();
		c.data.access = access;
		loadSavedData($('#recId').val());
		loadData(rec_id);
		$('#gdspli').show();
		setTimeout(function (){
			if($('#organismType').val() == 'nonhuman'){
				$('#icli').hide();
			}else{
				$('#icli').show();
			}							
		}, 500);
		if($('#organismType').val() == 'nonhuman'){
			$('#icli').hide();
		}else{
			$('#icli').show();
		}
		$('#erli').show();
		$('#acli').show();

	} else {
		clearData("no Id");
		$('#aoInfo').hide();
		loadParentOptionString();
		$('#titleDiv').hide();
	}
	preprocess(access);
	loadTissueContent();
	function describeProtocols() {
		$('#s2id_selectParent li div').each(function() {
			var protocolNumber = this.innerText;
			var protocol = c.protocols.find(function(item) {
				return item.number == protocolNumber
			});
			if (protocol) {
				this.title = protocol.name;
				$(this).tooltip();
			}
		})		
	}
	
	function loadTissueContent(){
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchTissueContent',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				}
			};	
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;
				console.log(result);
				c.protocols = result;
				describeProtocols();
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}			
	}
	
	function getBranch(longOrg){
			var req = {
				method: 'GET',
				url: '/api/naci/gds/fetchUserBranch',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					'longOrg': longOrg				}
			};	
			$http(req).then(handleResponse, handleError);

			function handleResponse(responseData) {
				var result = responseData.data.result;
				console.log(result);
        $('#piBranch').val(result.branch);
			}

			function handleError(response) {
				console.error(response);
				alert('ERROR');
			}		
	}

	function preprocess(access) {
		var names = ['projectTitle', 'piFirstName', 'piLastName', 'piEmail', 'piPhone', 'organismType'];
		$('#refresh').val('0');
		//var radioName = "erId";
		if (access == 'Read_Only') {
			for (var i = 0; i &lt; names.length; i++) {
				if (names[i] == 'organismType') {
					$('#' + names[i]).attr('disabled', 'disabled');
				}
				$('#' + names[i]).attr('readonly', 'readonly');
			}
			$('#erId1').attr('disabled', 'disabled');
			$('#erId2').attr('disabled', 'disabled');
		}
		if (access == 'Read_and_Write') {
			for (var k = 0; k &lt; names.length; k++) {
				if (names[k] == 'organismType') {
					$('#' + names[k]).removeAttr('disabled');
				}
				$('#' + names[k]).removeAttr('readonly');
			}
			$('#erId1').removeAttr('disabled');
			$('#erId2').removeAttr('disabled');
			//pi email, pi phone and pi title always disabled
			$('#piEmail').attr('disabled', 'disabled');
			$('#piPhone').attr('disabled', 'disabled');
			$('#piTitle').attr('disabled', 'disabled');
			$('#piBranch').attr('disabled', 'disabled');
		}
		//loadBranchOptionString();
		//$('#piName').attr('readOnly', 'readOnly');
	}
	
	scope.newGDSParent = function(){
		$('#parentError').hide();
		$('#protocolNumber').val('');
		$('#protocolName').val('');
		$('#addParentGDSDiv').modal('show');
			$('#addNewProtocolBt').off('click').click(function() {
			   if($('#protocolNumber').val().trim().length == 0 || $('#protocolName').val().trim().length == 0 || validateProtocolNumber($('#protocolNumber').val().trim())){
					 $('#parentError').html("&lt;p&gt;&lt;font color='red'&gt;Please fill in required field(s), and protocol number must start with two digits.&lt;/font&gt;&lt;/p&gt;");
					 $('#parentError').show();
				 }else{
					 $('#protocolConfirmDiv').modal('show');
					 $('#messageProtocol').html('Are you sure you want to create this procotol?');
				 }
		});
		$('#btnYesConfirmProcotol').off('click').click(function(){
					createNewProtocol();																				 
		});
	}
	
	function validateProtocolNumber(str){
		 str = str.substring(0,2);
		  //alert(isNaN(str));
     return isNaN(str);
	}

	function createNewProtocol(){
		var req = {
			method: 'POST',
			url: '/api/naci/gds/createProtocol',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: {number: $('#protocolNumber').val(), name: $('#protocolName').val(), branch: ''}
		};
		$http(req).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			//populate user data
			c.protocols = result;
			var val = "";
			for (var i = 0; i &lt; result.length; i++) {
				val = val + "&lt;option value='" + result[i].number + "'&gt;" + result[i].number + "&lt;/option&gt;";
			}
			$('#selectParent').html(val);
			$('#protocolConfirmDiv').modal('hide');
			$('#addParentGDSDiv').modal('hide');
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}		
	}
	
	function loadSavedData(id){
		var data = {
			gdsId: id,
			sysId: my_sys_id
		};
		//load GDSP saved Data
		$('#refresh').val('0');
		var req = {
			method: 'GET',
			url: '/api/naci/gds/loadGDSPSaveData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(req).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			//populate user data
			c.data.tasks = result;
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
		//load IC saved Data
		var req1 = {
			method: 'GET',
			url: '/api/naci/gds/loadICSavedData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(req1).then(handleResponse1, handleError1);
		function handleResponse1(response) {
			var result = response.data.result;
			//populate user data
			c.data.icTasks = result;
			console.log(result);
		}

		function handleError1(response) {
			console.error(response);
			alert('ERROR');
		}		 

	}

	//when page ready, the user access should populate
	function loadUserData() {
		var data = {
			gds_id: rec_id,
			user_id: my_sys_id
		};
		var req = {
			method: 'GET',
			url: '/api/naci/gds/getUser',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(req).then(handleResponse, handleError);
		$('#refresh').val('0');
		function handleResponse(response) {
			var result = response.data.result;
			//populate user data
			c.data.userTasks = result;
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	//end of loading user data
	loadUserData();
	$scope.lookUser = function() {
		$('#refresh').val('0');
		$('#first_name').val('');
		$('#last_name').val('');
		$('#userPageType').val('gdsInfo');
		$('#userSelection').modal('show');
	}
	$scope.saveProjectInformation = function(type) {
		$('#refresh').val('0');
		if (validateGDSInfo()) {
			$('#gdsErrorDiv').show();
		} else {
			$('#gdsErrorDiv').hide();
			var sessionId = c.data.info.sessionId;
			var userId = c.data.info.userId;
			var variables = getProjectInfoData();
			variables[0].userId = userId;
			if (type == 1) {
				variables[0].gds_id = $('#hideGDSId').val();
				variables[0].method = "update";
			} else if (type == 0) {
				variables[0].method = "save";
			}
			var param = JSON.stringify(variables);
			$.ajax({
				dataType: "json",
				type: "POST",
				contentType: "application/json",
				url: "/api/naci/gds/saveProjectInformationService",
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				data: param,
				async: false,
				success: function(data) {
					$('#titleDiv').html(" &lt;b&gt;GDS ID: " + data.result[0].gds_number + "&lt;/b&gt; &lt;lable&gt;");
					$('#titleDiv').show();
					$('#titleButtomDiv').html(" &lt;b&gt;GDS ID: " + data.result[0].gds_number + "&lt;/b&gt; &lt;lable&gt;");
					$('#titleButtomDiv').show();
					$('#hideGDSId').val(data.result[0].gds_id.toString());
					loadUserData();
					$('#saveBt').hide();
					$('#updateBt').show();
					//$('#messageDiv').html("&lt;font color='green'&gt;The project information has been saved successfully&lt;font&gt;");
					//$('#messageDiv').show();
					$('#messageInfo').html('The project information has been saved successfully');
					$('#infoModal').modal('show');
					$('#btnOkConfirm').off('click').click(function() {
						$('#infoModal').modal('hide');
						location.reload();
					});
					$('#gdspli').show();
					$('#icli').show();
					$('#erli').show();
					$('#acli').show();
					//based on the information to enable or disable IC and Exception Request
					if (variables[0].organismType == 'human' || variables[0].organismType == 'both') {
						$('#icBtn').removeAttr('disabled');
					} else {
						$('#icBtn').attr('disabled', 'disabled');
					}
					if (variables[0].erId == 'yes') {
						$('#erBtn').removeAttr("disabled");
					} else {
						$('#erBtn').attr("disabled", "disabled");
					}
					if(type == 0){
						document.location.href = "$sp.do?id=gds_web_main&amp;itemId=" + $('#hideGDSId').val() + "&amp;access=" + encodeDecodeData('Read_and_Write', 'encode');
					}
					//save user - if PI is not creator, then grant PI project access
					var piId = $('#piUserId').val();
					if(piId != my_sys_id){
						var gdsId = $('#hideGDSId').val();
						var userData = piId + "+" + $('#piFirstName').val() + "+" + $('#piLastName').val();
						saveUser(userData, gdsId, 'Read_and_Write');
					}
				},
				error: function(data) {
					alert("ERROR");
				}
			});
		}
	};

	function validateGDSInfo() {
		var isOk = false;
		clearGDSInfoBackgroud();
		if ($('#projectTitle').val().trim().length == 0) {
			$('#projectTitle').css("background-color", "yellow");
			isOk = true;
		}
		//make sure the user select PI
		if ($('#piName').val().trim().length == 0 ||  $('#piUserId').val() == null ||  $('#piUserId').val().trim().length == 0) {
			$('#piName').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piEmail').val().trim().length == 0) {
			$('#piEmail').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piPhone').val().trim().length == 0) {
			$('#piPhone').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piTitle').val().trim().length == 0) {
			$('#piTitle').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#piBranch').val() == "None") {
			$('#piBranch').css("background-color", "yellow");
			isOk = true;
		}
		if ($('#organismType').val() == "0") {
			$('#organismType').css("background-color", "yellow");
			isOk = true;
		}

		return isOk;
	}

	function clearGDSInfoBackgroud() {
		$('#projectTitle').css("background-color", "");
		$('#piName').css("background-color", "");
		$('#piEmail').css("background-color", "");
		$('#piPhone').css("background-color", "");
		$('#piTitle').css("background-color", "");
		$('#piBranch').css("background-color", "");
		$('#organismType').css("background-color", "");
	}

	$scope.createGDSP = function() {
		$('#collapseGDSP').collapse('show');
		var $gdsp = $('#loadedRequests');
		$('#refresh').val('0');
		clearRequiredFieldBackColor();
		resetRequestValue();
		$('#errorMessage').html('');
		$('#ccr_id').val('');
		$('#saved_id').val('');
		$('#regularSubmit').show();
		$('#resubmit').hide();
		$('#pre_comments_div1').hide();
		//load GDS information and fill them into GDSP form
		var data = {
			sysId: $('#hideGDSId').val()
		};
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectInformation',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result[0];
			//populate data into submission form
			loadGDSData(result);
			$('#inFirstName').val($('#piFirstName').val());
			$('#inLastName').val($('#piLastName').val());
			$('#inUserId').val($('#piUserId').val());
			$gdsp.modal('show').on('shown.bs.modal', function(el) {
				$(el.target).find('.modal-content').scrollTop(0);
			});
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	$scope.openIcQUestion = function() {
		$('#refresh').val('0');
		$('#collapseIC').collapse('show');
		cleanICData();
		$('#project_title').val($('#projectTitle').val());
		showSubmitButton('0');
		$('#icError').hide();
		clearICFieldBackground();
		$('#pre_comments_ic_div1').hide();
	   $('#controllaccessDiv').hide();
		$('#icQuestion').modal('show');
	}

	$scope.closeGDSPModal = function() {
		var $gdsp = $('#loadedRequests');
		$gdsp.modal('hide');
	}

	c.editItem = function(id) {
		$('#refresh').val('0');
		clearRequiredFieldBackColor();
		$('#inFirstName').val('');
		$('#inLastName').val('');
		$('#inUserId').val('');
		$('#pTitle').val('');
		$('#pBranch').val('None');
		$('#phone').val('');
		$('#email').val('');
		$('#investigator').val('');
		$('#errorMessage').html('');
		$('#pre_comments_div1').hide();
		$('#regularSubmit').show();
		$('#resubmit').hide(); 
		var data = {
			requested_id: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSavedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			showModal();
			$('#saved_id').val(id);
			$('#selectedUserData').val(result[0].requested_for);
			loadRequestData(result[0].value);
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	c.removeItem = function(id) {
		$('#refresh').val('0');
		var $confirm = $('#confirmDiv');
		$confirm.modal('show');
		$('#message').html("Are you sure you want to remove this record?");
		$('#btnYesConfirmYesNo').off('click').click(function() {
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);

			function handleResponse(response) {
				var result = response.data.result;
				$confirm.modal('hide');
				$('#loading').show();
				console.log(result);
			}

			function handleError(response) {
				console.error(response);
				$confirm.modal('hide');
				alert('ERROR');
			}
		});
		$('#btnNoConfirmYesNo').off('click').click(function() {
			$confirm.modal('hide');
		});
	};
	var userList = [];

	function addUser() {
		var firstname = $('#userFirstName').val();
		var lastname = $('#userLastName').val();
		var userId = $('#userId').val();
		var userData = userId + "+" + firstname + "+" + lastname;
		var gdsId = $('#recId').val();
		var access = $('input[name=access]:checked').val();
		if (firstname.trim().length == 0 || lastname.trim().length == 0 || userData.trim().length == 0) {
			$('#error').html('&lt;font color=red&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Please select a user and Accecss Control (click on the name from the list).&lt;/font&gt;');
			$('#error').show();
		} else {
			$('#error').hide();
			//save data into table u_gds_user_accress_t
			saveUserData(userData, gdsId, access);
			$('#userFirstName').val('');
			$('#userLastName').val('');
			$('#userName').val('');
			$("[name = 'access'][value='Read Only']").prop('checked', true);
		}
	};
	$scope.withdrawIC = function(id, ic_id) {
		$('#refresh').val('0');
		$('#messageWithdrawIC').html('Are you sure you want to withdraw this IC request?');
		$('#withdrawICDiv').modal('show');
		$('#btnYesWithdrawIC').off('click').click(function() {
			withdrawRequestIC(id, my_sys_id, ic_id);
			$('#withdrawICDiv').modal('hide');
			$('#loading').show();
		});
		$('#btnNoWithdrawIC').off('click').click(function() {
			$('#withdrawICDiv').modal('hide');
		});
	};

	function saveUserData(userData, gdsId, access) {
		var data1 = {
			data: userData,
			gds_id: gdsId,
			access: access,
			action: 'add'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/saveUser',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data1
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			loadUserData();
			$('#addUserAccessDiv').modal('hide');
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	$scope.searchUser = function() {
		$('#refresh').val('0');
		$('#first_name').val('');
		$('#last_name').val('');
		$('#userPageType').val('user');
		$('#userSelection').modal('show');
	};

	function loadGDSData(data) {
		$('#refresh').val('0');
		$('#investigator').val(data.piFirstName + " " + data.piLastName);
		$('#email').val(data.piEmail);
		$('#phone').val(data.piPhone);
		$('#projectName').val(data.projectTitle);
		$('#pTitle').val(data.piTitle);
		$('#pBranch').val(data.piBranch);
		//get current date
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth() + 1; //January is 0!

		var yyyy = today.getFullYear();
		if (dd &lt; 10) {
			dd = '0' + dd;
		}
		if (mm &lt; 10) {
			mm = '0' + mm;
		}
		var currentDate = mm + '/' + dd + '/' + yyyy;
		$('#date').val(currentDate);
	}

	function loadParentOptionString() {
		$.ajax({
			url: '/api/naci/gds/getAllGDSProtocol',
			data: {
				userId: my_sys_id
			},
			async: false,
			dataType: 'json',
			complete: handleResponse,
			error: handleError
		});

		function handleResponse(response) {
			var result = response.responseJSON.result;
			var val = "";
			for (var i = 0; i &lt; result.length; i++) {
				val = val + "&lt;option value='" + result[i].number + "'&gt;" + result[i].number + "&lt;/option&gt;";
			}
			$('#selectParent').html(val);
//			$('#selectParent').select2({tags: true});
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	$scope.loadTissueProtocol = function(){
		$('#protocolInfoModal').modal('show');
	}
	
	function loadData(rec_id) {
		loadSavedData(rec_id);
		loadParentOptionString();
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectInformation',
			headers: {
				'Content-Type': 'application/json'
			},
			params: {
				sysId: rec_id
			}
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			console.log('Retrieved values', result);
			$('#projectTitle').val(result[0].projectTitle);
			$('#piFirstName').val(result[0].piFirstName);
			$('#piLastName').val(result[0].piLastName);
			$('#piUserId').val(result[0].piUserId);
			$('#piName').val(result[0].piFirstName + " " + result[0].piLastName);
			$('#piEmail').val(result[0].piEmail);
			$('#piTitle').val(result[0].piTitle);
			$('#piBranch').val(result[0].piBranch);
			$('#piPhone').val(result[0].piPhone);
			$('#organismType').val(result[0].organismType);
			$('#selectParent').val(result[0].parent.split(',')).change();//('change');

			//var selectedParent = $('#selectParent').val();
			if (result[0].organismType == 'human' || result[0].organismType == 'both') {
				$('#icBtn').removeAttr('disabled');
			} else {
				$('#icBtn').attr('disabled', 'disabled');
			}
			if (result[0].erId == 'yes') {
				$('#erId1').prop("checked", true);
				$('#erBtn').removeAttr('disabled');
			}
			if (result[0].erId == 'no') {
				$('#erId2').prop("checked", true);
				$('#erBtn').attr('disabled', 'disabled');
			}
			$('#titleDiv').html("&lt;label&gt;&lt;b&gt;GDS ID: " + result[0].projectId + "&lt;/b&gt; &lt;lable&gt;");
			$('#titleDiv').show();
			$('#titleButtomDiv').html("&lt;label&gt;&lt;b&gt;GDS ID: " + result[0].projectId + "&lt;/b&gt; &lt;lable&gt;");
			$('#titleButtomDiv').show();
			$('#hideGDSId').val(rec_id);
			$('#gds_id').val(result[0].projectId);
			var gdsp_status = result[0].gdsp_status;
			var ic_status = result[0].ic_status;
			$('#gdspStatus').val(gdsp_status);
			$('#icStatus').val(ic_status);
			//load parent GDSP
			//loadSubmittedData(gdsp_status, selectedParent);
			loadGDSPSubmittedData(gdsp_status);
			//load parent IC
			//loadICSubmittedData(ic_status, selectedParent);
      loadICSubmittedData(ic_status); 
			$('#saveBt').hide();
			controlElementBasedOnAccess();
			loadUserData();
		}

		function loadGDSPSubmittedData(gdsp_status) {
			var request = {
				method: 'GET',
				url: '/api/naci/gds/getProjectGDSPInformation',
				headers: {
					'Content-Type': 'application/json'
				},
				params: {
					projectId: gdsp_status,
					//parentId: selectedParent,
					mySysId: my_sys_id
				}
			};
			$http(request).then(handleResponse1, handleError1);

			function handleResponse1(response) {
				//set submitted GDSP data
				var result = response.data.result;
				c.data.submittedTasks = result;
				console.log(result);
			}

			function handleError1(response) {
				console.error(response);
				alert('ERROR');
			}
	  }	

	function loadICSubmittedData(ic_status) {
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectICInformation',
			headers: {
				'Content-Type': 'application/json'
			},
			params: {
				projectId: ic_status,
				//parentId: selectedParent,
				mySysId: my_sys_id
			}
		};
		$http(request).then(handleResponse2, handleError2);

		function handleResponse2(response) {
			//set submitted GDSP data
			var result = response.data.result;
			c.data.icSubmittedTasks = result;
			console.log(result);
		}

		function handleError2(response) {
			console.error(response);
			alert('ERROR');
		}
	}
		function controlElementBasedOnAccess() {
			if (access == 'Read_Only') {
				$('#updateBt').hide();
				$('#accessBtn').attr('disabled', 'disabled');
				$('#gdspBt').attr('disabled', 'disabled');
				$('#icBtn').attr('disabled', 'disabled');
				$('#findBt').attr('disabled', 'disabled');
				$('#addBt').attr('disabled', 'disabled');
				$('#erBtn').attr('disabled', 'disabled');
			} else {
				$('#updateBt').show();
			}
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function clearData() {
		$('#projectTitle').val('');
		$('#piName').val('');
		$('#piFirstName').val('');
		$('#piLastName').val('');
		$('#piEmail').val('');
		$('#piPhone').val('');
		$('#organismType').val('0');
		$('#erId2').prop("checked", true);
	}

	$('#brop-tabs a').click(function(e) {
		e.preventDefault();
		$(this).tab('show');
		$('#messageDiv').html();
		$('#messageDiv').hide();
	});

	function getProjectInfoData() {
		var names = ['projectTitle', 'piFirstName', 'piLastName', 'piEmail', 'piPhone', 'organismType', 'piUserId', 'piTitle', 'piBranch'];
		var radioName = "erId";
		var variables = {};
		var index = 0;
		for (index = 0; index &lt; names.length; index++) {
			var value = $('#' + names[index]).val();
			variables[names[index]] = value;
		}
		var radioValue = '';
		if ($('#erId1').is(":checked")) {
			radioValue = 'yes';
		}
		if ($('#erId2').is(":checked")) {
			radioValue = 'no';
		}
		variables.erId = radioValue;
		variables.user_name = user_name;
		var selectedParent = $('#selectParent').val();
		if (selectedParent == null) {
			selectedParent = "";
		} else {
			selectedParent = selectedParent.toString();
		}
		variables.parent = selectedParent;
		return [variables];
	}

	function resetRequestValue() {
		var i = 0;
		for (i = 0; i != names.length; i++) {
			if (textFields.indexOf(names[i]) != -1) {
				$('#' + names[i]).val('');
			} else {
				$('#' + names[i]).prop('checked', false);
				$('#' + names[i]).removeAttr("disabled");
			}
		}
		$('#withdrawCommentsId').val('');
		$('#withdrawSubmitId').val('');
		$('#saved_id').val('');
	}

	function clearRequiredFieldBackColor() {
		$('#investigator').css("background-color", "");
		$('#email').css("background-color", "");
		$('#phone').css("background-color", "");
		$('#date').css("background-color", "");
		$('#projectName').css("background-color", "");
		$('#simpleSize').css("background-color", "");
		$('#collectionTypeId').css("background-color", "");
		$('#dataId').css("background-color", "");
		$('#specifyOtherType').css("background-color", "");
		$('#data2Id').css("background-color", "");
		$('#arrayDataId').css("background-color", "");
		$('#genotypesId').css("background-color", "");
		$('#sequenceId').css("background-color", "");
		$('#analysisId').css("background-color", "");
		$('#spcifiedOtherAnalysis').css("background-color", "");
		$('#dataFormId').css("background-color", "");
		$('#dataRepositoryId').css("background-color", "");
		$('#specifiedRepository').css("background-color", "");
		$('#companionInfoId').css("background-color", "");
		$('#specifiedClinicalData').css("background-color", "");
		$('#specifiedProtocol').css("background-color", "");
		$('#specifiedInstrument').css("background-color", "");
		$('#specifiedCompanion').css("background-color", "");
		$('#dataSubmissionId').css("background-color", "");
		$('#psecifiedOtherSubmission').css("background-color", "");
		$('#dataUseId').css("background-color", "");
	}

	function toggleNoHumanData() {
		if ($('#noHumanData').is(":checked")) {
			$('#noLimitation').attr("checked", false);
			$('#noLimitation').attr("disabled", "disabled");
			$('#limitedOnly').attr("checked", false);
			$('#limitedOnly').attr("disabled", "disabled");
			$('#limitedPurpose').attr("checked", false);
			$('#limitedPurpose').attr("disabled", "disabled");
			$('#relateToDisease').attr("checked", false);
			$('#relateToDisease').attr("disabled", "disabled");
		} else {
			$('#noLimitation').removeAttr("disabled");
			$('#limitedOnly').removeAttr("disabled");
			$('#limitedPurpose').removeAttr("disabled");
			$('#relateToDisease').removeAttr("disabled");
		}
	}

	function showModal() {
		var $dataEntry = $('#loadedRequests');
		$dataEntry.modal('show').on('shown.bs.modal', function() {
			$('#loadedRequests .modal-content').scrollTop(0);
		});
	}

	function loadRequestData(data) {
		var namePair = data.split(",");
		var i = 0;
		for (i = 0; i != namePair.length; i++) {
			var item = namePair[i];
			if (item == '' || typeof item === "undefined") {} else {
				if (item.indexOf('=') != -1) {
					var small = item.split('=');
					if (small[0] == 'inFirstName') {
						$('#inFirstName').val(small[1]);
					} else if (small[0] == 'inLastName') {
						$('#inLastName').val(small[1]);
					} else if (small[0] == 'inUserId') {
						$('#inUserId').val(small[1]);
					} else {
						setRequestValue(small);
					}
				}
			}
		}

	}

	function setRequestValue(value) {
		var name = value[0];
		var val = value[1];
		if (textFields.indexOf(name) != -1) {
			if (name == 'date') {
				if (val == '' || val === "-undefined-undefined") {
					$('#' + name).val('');
				} else {
					$('#' + name).val(getConvertedValue(val, '1'));
				}
			} else {
				$('#' + name).val(val);
			}
		} else {
			if (val == "true") {
				$('#' + name).prop('checked', true);
				if (name == 'noHumanData') {
					toggleNoHumanData();
				}
			} else {
				$('#' + name).prop('checked', false);
			}
			otherFieldWatcher(name, val);
		}
	}

	function otherFieldWatcher(name, value) {
		var otherCheckbox = ['otherType', 'otherAnalysis', 'OtherRepository', 'clinicalData', 'protocol', 'instrument', 'otherCompanion', 'otherSubmission', 'yeast', 'bacteria', 'nonHuman', 'snpArrayData', 'expressionArray', 'methylationArray', 'arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna'];
		var otherField = ['specifyOtherType', 'spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument', 'specifiedCompanion', 'psecifiedOtherSubmission', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numSNP', 'numExpression', 'numMethylation', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
		var index = otherCheckbox.indexOf(name);
		if (index &gt;= 0) {
			if (value == 'true') {
				$('#' + otherField[index]).prop('disabled', false);
			} else {
				$('#' + otherField[index]).prop('disabled', true);
			}
		}
	}

	function getConvertedValue(value, flag) {
		if (value == '') {
			return '';
		}
		var values = '';
		if (flag == '0') {
			values = value.split('/');
			return values[0] + '-' + values[1] + '-' + values[2];
		} else {
			values = value.split('-');
			return values[0] + '/' + values[1] + '/' + values[2];
		}
	}

	$scope.viewSubmittedIC = function(id, ic_id) {
		$('#refresh').val('0');
		loadICDisplay('',id, ic_id, 'view');
	};

	function loadConsentGroupData() {
		var consentStr = $('#consent_group1').val();
		if (consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0) {
			$('#consentGrpDiv').hide();
		} else {
			getConsentGroups(consentStr);
		}
	}

	function getConsentGroups(consentStr) {
		var request = {
			method: 'POST',
			url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: {
				consentGrp: consentStr
			}
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
			for (var i = 0; i &lt; result.length; i++) {
				var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " [ "+ result[i].data_field +" ] ";
				}
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;" + result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier + "&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";

			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	$scope.viewItem = function(id, gdsp_id) {
		$('#refresh').val('0');
		var data = {
			requestedid: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			cleanDisplayDiv();
			resetRequestValue1();
			$('#displayRequestId').html(gdsp_id);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewId1').empty();
			$('#commentReviewId1').append(comment_str);
			if (comment_str.length &lt; 137) {
				$('#pre_comments_div').hide();
				$('#comments_div').hide();
			} else {
				$('#pre_comments_div').show();
				$('#comments_div').hide();
			}
			loadSubmittedData(variables);
			$('#displayRequests').modal('show').on('shown.bs.modal', function() {
				$('#displayRequests .modal-content').scrollTop(0);
			});
			$('#closeButton').show();
			$('#submitButton').hide();
			$('#sd_div').hide();
		}

		function handleError(response) {
			console.error(response);
			//$confirm.modal('hide');
			alert('ERROR');
		}
	};
	$scope.report = function(id, gdsp_id) {
		$('#refresh').val('0');
		window.open('$sp.do?id=gdsp_report_page&amp;itemId=' + id + '&amp;ticket=' + gdsp_id, '_BLANK');
	};
	$scope.withdraw = function(id, gdsp_id) {
		$('#refresh').val('0');
		$('#messageWithdraw').html('Are you sure you want to withdraw this request?');
		$('#withdrawDiv').modal('show');
		$('#btnYesWithdraw').off('click').click(function() {
			withdrawRequest(id, my_sys_id, gdsp_id);
			$('#withdrawDiv').modal('hide');
			$('#loading').show();
		});
		$('#btnNoWithdraw').off('click').click(function() {
			$('#withdrawDiv').modal('hide');
		});
	};
	$scope.displayResubmit = function(request_id) {
		$('#refresh').val('0');
		var variables = {};
		variables.requestedid = request_id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			$('#inUserId').val(result.request_for);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewId2').empty();
			$('#commentReviewId2').append(comment_str);
			$('#resubmitCommentsId').val(comments);
			if (comment_str.length &lt; 137) {
				$('#pre_comments_div1').hide();
				$('#comments_div').hide();
			} else {
				$('#pre_comments_div1').show();
				$('#comments_div').hide();
			}
			loadResubmittedData(variables);

			$('#ccr_id').val(request_id);
			$('#errorMessage').hide();
			$('#regularSubmit').hide();
			$('#resubmit').show();
			$('#loadedRequests').modal('show').on('shown.bs.modal', function() {
				$('#displayRequests .modal-content').scrollTop(0);
			});
		}

		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}

	}


	$scope.displayICResubmit = function(request_id) {
		$('#refresh').val('0');
		var variables = {};
		variables.requestedid = request_id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			cleanICData();
			var result = response.data.result;
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewICId2').empty();
			$('#commentReviewICId2').append(comment_str);
			$('#resubmitCommentsId').val(comments);

			if (comment_str.length &lt; 137) {
				$('#pre_comments_ic_div1').hide();
				//$('#comments_ic_div').hide();
			} else {
				$('#pre_comments_ic_div1').show();
				//$('#comments_ic_div').hide();
			}
			prepareResubmit(variables.sampleTime, variables.sampleConsent);
			loadResubmittedICData(variables);
			showSubmitButton('1');
			$('#ccr_id').val(request_id);
			$('#errorMessage').hide();
			$('#regularSubmit').hide();
			//$('#resubmit').show();		
			//tmp store request data 
			$('#consentGroupIds').val(variables.consent_group);
			$('#icForm').modal('show').on('shown.bs.modal', function() {
				$('#icForm .modal-content').scrollTop(0);
			});
		}

		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}

	}


	function loadResubmittedICData(data) {
		for (key in data) {
			if (key == 'data_access') {
				if (data[key] == 'unrestricted') {
					$("input[name=dataAccessBox][value='unrestricted']").prop("checked", true);
				}
				if (data[key] == 'controlled-access') {
					$("input[name=dataAccessBox][value='controlled-access']").prop("checked", true);
				}
			} else if (key == 'display') {
				if (data[key] == 'yes') {
					$('#displayBox').prop('checked', true);
					 $('#controllaccessDiv').show();
				} else {
					$('#displayBox').prop('checked', false);
					 $('#controllaccessDiv').hide();
				}
			}else {
				$('#' + key).val(data[key]);
			}
		}
	}

	function prepareResubmit(sampleTime, sampleConsent) {
		$('#sample_time').val(sampleTime);
		$('#sample_consent').val(sampleConsent);
		if (sampleTime == 'no' &amp;&amp; sampleConsent == 'no') {
			$('#warning').modal('show');
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "none");
			$('#institutionNameDiv').css("display", "none");
			//$('#icForm').modal('show');
			//show form 1	
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'no') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			//$('#icForm').modal('show');
			//show form 2
		} else if (sampleTime == 'no' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "none");
			$('#institutionNameDiv').css("display", "none");
			//$('#icForm').modal('show');
			//show form 3
		} else {
			alert("Invalid Choice!");
		}

	}


	// Temp function for IC and Exception Request
	scope.tempFunc = function() {
		$('#refresh').val('0');
		alert("Coming soon!!");
	}

	//end of temp
	function withdrawRequestIC(id, my_sys_id, ic_id) {
		var variables = {};
		variables.requestedid = id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			var variables = result.variables;
			var comments = result.comments;
			var data = getICData(variables, my_sys_id);
			data.comments = comments;
			data.gds_id = $('#hideGDSId').val()
			var icData = JSON.stringify(data);
			saveWithdrawICRequestData(icData, id, ic_id);
			$('#loading').hide();
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function getICData(data, my_id) {
		var variables = {};
		variables.requested_for = my_sys_id;
		variables.value = '';
		variables.saved_id = ''; //id is for update?
		variables.opened_by = my_sys_id;
		variables.application = 'GDS_IC';
		var index = 0;
		for (key in data) {
			if (index != 0) variables.value += ',';
			variables.value += key + '=' + data[key];
			index++;
		}
		return variables;
	}


	function saveWithdrawICRequestData(icData, id, ic_id) {
		/*var request = {
            method: 'POST',
            url: '/api/naci/gdspapi/saveRequestData',
            beforeSend: function(xhr) {
                xhr.setRequestHeader('X-UserToken', sessionId);
            },
            headers: {
                'Content-Type': 'application/json'
            },
            data: icData
        };
        $http(request).then(handleResponse, handleError);

        function handleResponse(response) {
            var result = response.data.result;*/
		withdrawICDeletion(id, ic_id);
		/* }

        function handleError() {
            console.error(response);
            alert('ERROR');
        }*/
	}

	function withdrawICDeletion(id, ic_id) {
		var variables = {};
		variables.id = id;
		variables.method = 'withdraw';
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/gsdspUtil',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			removeICfromGDS(ic_id);
			console.log(result);
		}

		function handleError() {
			console.error(response);
			alert('ERROR');
		}
	}

	function removeICfromGDS(ic_id) {
		var param = {
			gds_id: $('#hideGDSId').val(),
			ic_number: ic_id,
			type: 'ic',
			method: 'remove'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/updateGDS',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: param
		};
		$http(request).then(function(response) {
			var data = response.data.result;
			console.log("remove:" + data);
		});
	}

	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;

	$scope.reportIC = function(sys_id, ic_id, flag) {
		$('#refresh').val('0');
		$('#loading').show();
		var req_id = sys_id;
		var fileName = '';
		if (flag == 'pi') {
			fileName = ic_id + "_pi.pdf";
		} else if (flag == 'sd') {
			fileName = ic_id + "_sd.pdf";
		}

		initialTime = new Date();
		documentInterval = setInterval(function() {
			getDocument(req_id, fileName);
		}, 5000);
	};

	function getDocument(req_id, fileName){
		var req = {
			method: 'GET',
			url: '/api/naci/gds/getAttachmentFileID',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			params: {
				request_id: req_id,
				file_name: fileName
			}
		};
		$http(req).then(handleResponse, handleError);

		function handleResponse(response) {
			if (new Date() - initialTime &gt; documentTimeout) {
				window.clearInterval(documentInterval);
				$('#loading').hide();
				$('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
				$('#infoModal').modal('show');
				$('#btnOkConfirm').off('click').click(function() {
					$('#infoModal').modal('hide');
				});
				return;
			}

			var result = response.data.result;
			//hightlight right record
			var id = result.file_id;
			if (id != null &amp;&amp; id.trim().length &gt; 0) {
				window.clearInterval(documentInterval);
				window.location.href = '/sys_attachment.do?sys_id=' + id;
				setTimeout(function(){}, 3000);
				$('#loading').hide();
			} 
		}

		function handleError(response) {
			window.clearInterval(documentInterval);
			$('#loading').hide();
			console.error(response);
			alert('ERROR');
		}			
	}

	function withdrawRequest(id, my_sys_id, gdsp_id) {
		var variables = {};
		variables.requestedid = id;
		var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			var request_for = result.request_for;
			var open_by = result.opened_by;
			var variables = result.variables;
			var comments = result.comments;
			var data = getGDSPData(variables, request_for, open_by);
			data.comments = comments;
			data.gds_id = $('#hideGDSId').val();
			var gdspData = JSON.stringify(data);
			saveWithdrawRequestData(gdspData, id, gdsp_id);
			$('#loading').hide();
		}

		function handleError(response) {
			console.error(response);
			//$confirm.modal('hide');
			alert('ERROR');
		}
	}

	function saveWithdrawRequestData(data, id, gdsp_id) {

		/*var request = {
            method: 'POST',
            url: '/api/naci/gdspapi/saveRequestData',
            beforeSend: function(xhr) {
                xhr.setRequestHeader('X-UserToken', sessionId);
            },
            headers: {
                'Content-Type': 'application/json'
            },
            data: data
        };
        $http(request).then(handleResponse, handleError);

        function handleResponse(response) {
            var result = response.data.result;*/
		withdrawDeletion(id, gdsp_id);
		/*}

        function handleError() {
            console.error(response);
            alert('ERROR');
        }*/
	}

	function withdrawDeletion(id, gdsp_id) {
		var variables = {};
		variables.id = id;
		variables.method = 'withdraw';
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/gsdspUtil',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: variables
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			removeGDSPfromGDS(gdsp_id);
			console.log(result);
		}

		function handleError() {
			console.error(response);
			alert('ERROR');
		}
	}

	function removeGDSPfromGDS(gdsp_id) {
		var param = {
			gds_id: $('#hideGDSId').val(),
			gdsp_number: gdsp_id,
			type: 'gdsp',
			method: 'remove'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/updateGDS',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: param
		};
		$http(request).then(function(response) {
			var data = response.data.result;
			console.log("remove:" + data);
		});
	}

	function getGDSPData(data, request_id, open_id) {
		var variables = {};
		variables.requested_for = request_id;
		variables.opened_by = open_id;
		variables.value = '';
		variables.project_name = '';
		variables.saved_id = ''; //id is for update?
		variables.application = 'GDSP';
		var index = 0;
		var inName = '';
		for (key in data) {
			if (index != 0) variables.value += ',';
			if (key == 'investigator') {
				inName = data[key];
			}
			if (key == 'projectName') {
				variables.project_name = data[key];
			}
			variables.value += key + '=' + data[key];
			index++;
		}
		var temp = inName.split(' ');
		variables.value += ",inFirstName=" + temp[0];
		variables.value += ",inLastName=" + temp[1];
		variables.value += ",inUserId=" + request_id;
		return variables;
	}

	function cleanDisplayDiv() {
		$('#pre_comments_div').hide();
		$('#closeButton').hide();
		$('#comments_div').hide();
		$('#submitButton').hide();
	}

	function parse(allcomments) {
		var comments = allcomments.split("ENDCOMMENTS");
		var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
		for (i = 0; i &lt; comments.length; i++) {
			if (comments[i].length &gt; 40) {
				if (comments[i][0] == '\n') {
					var lastI = 0;
					while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n')
						lastI++;
					comments[i] = comments[i].substring(lastI, comments[i].length);
				}
				var t = comments[i].substring(0, 22);
				var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)') + 9, comments[i].length);
				var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57, comments[i].indexOf('(Additional comments)') + 65);
				var comm = comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)'));
				commentsblock = commentsblock + "&lt;tr&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + results + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				commentsblock = commentsblock + "&lt;/tr&gt;";
			}
		}
		commentsblock = commentsblock + "&lt;/table&gt;";
		return commentsblock;
	}

	function loadSubmittedData(data) {
		for (key in data) {
			var value = getValue(key, data[key]);
			$('#' + key + "1").html(value);
		}
	}

	function loadResubmittedData(data) {
		for (key in data) {
			setResubmitValue(key, data[key]);
		}

	}

	function getValue(name, value) {
		if (textFields.indexOf(name) != -1) {
			if (name == 'date') {
				return getConvertedValue(value, '1');
			} else {
				if (name == 'investigator') {
					var temp = value.split(' ');
					$('#inFirstName').val(temp[0]);
					$('#inLastName').val(temp[1]);
				}
				return value;
			}
		} else {
			if (value == "true") {
				return '&lt;input type="checkbox" id="' + name + '1" checked="true" disabled="true"/&gt;';
			} else {
				return '&lt;input type="checkbox" id="' + name + '1" disabled="true"/&gt;';
			}
			return value;
		}
	}

	function setResubmitValue(name, value) {
		if (textFields.indexOf(name) != -1) {
			if (name == 'date') {
				$('#' + name).val(getConvertedValue(value, '1'));
			} else {
				$('#' + name).val(value);
			}
		} else {
			if (value == "true") {
				$('#' + name).prop('checked', true);
			} else {
				$('#' + name).prop('checked', false);
			}
			otherFieldWatcher(name, value);
		}
	}

	function resetRequestValue1() {
		var i = 0;
		for (i = 0; i != names.length; i++) {
			if (textFields.indexOf(names[i]) != -1) {
				$('#' + names[i]).val('');
				$('#' + names[i] + "1").html('');
			} else {
				$('#' + names[i] + "1").html('&lt;input type="checkbox" id="' + names[i] + "1" + '" disabled="true"/&gt;');
				$('#' + names[i]).prop('checked', false);
				$('#' + names[i]).removeAttr("disabled");

			}
		}
		$('#withdrawCommentsId').val('');
		$('#withdrawSubmitId').val('');
		$('#saved_id').val('');
	}
	//watch dog
	spUtil.recordWatch($scope, "sc_req_item", "", function(name, data) {

		if($('#refresh').val() =='0'){
			spUtil.update($scope);
			loadSavedData($('#recId').val());
			setTimeout(function(){
				loadData($('#recId').val());
			}, 2000);
			$('#refresh').val('1');
		}
		$('#loading').hide();
	});
	//watch dog
	spUtil.recordWatch($scope, "u_gdsp_user_submission", "", function(name, data) {

		if($('#refresh').val() =='0'){
			spUtil.update($scope);
			loadSavedData($('#recId').val());
			loadData($('#recId').val());
			$('#refresh').val('1');
		}

		$('#loading').hide();
	});
	
		//watch dog
	spUtil.recordWatch($scope, "u_gds_user_accress_t", "", function(name, data) {

		if($('#refresh').val() =='0'){
			spUtil.update($scope);
			loadSavedData($('#recId').val());
			loadData($('#recId').val());
			$('#refresh').val('1');
		}

		$('#loading').hide();
	});
	
	

	//client code for IC 

	$scope.viewICItem = function(id, sampleTime, sampleConsent) {
		$('#refresh').val('0');
		$('#type').val('exist');
		if (sampleTime == 'no' &amp;&amp; sampleConsent == 'no') {
			$('#warning').modal('show');
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 1	
		} else if (sampleTime == 'yes' &amp;&amp; sampleConsent == 'no') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 2
		} else if (sampleTime == 'no' &amp;&amp; sampleConsent == 'yes') {
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 3
		} else {
			alert("Invalid Choice!");
		}
		clearICFieldBackground();
		cleanICData();
		resetConsentGrp();
		showSubmitButton('0');
		$('#pre_comments_ic_div1').hide();
		$('#icError').hide();
		//load IC data
		var icData = {
			requested_id: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSavedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: icData
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			$('#ic_id').val(id);
			$('#ic_id').trigger('custom_action');
			setICData(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	$scope.clearUserData = function() {
		$('#refresh').val('0');
		$('#userFirstName').val('');
		$('#userLastName').val('');
		$('#selectedUserData').val('');
		loadUserData();
	};

	function setICData(data) {
		var variables = parseICData(data[0].value);
		var i = 0;
		for (i = 0; i &lt; icNames.length; i++) {
			if (icNames[i] == 'data_access') {
				if (variables[icNames[i]] == 'unrestricted') {
					$("input[name=dataAccessBox][value='unrestricted']").prop("checked", true);
				}
				if (variables[icNames[i]] == 'controlled-access') {
					$("input[name=dataAccessBox][value='controlled-access']").prop("checked", true);
				}
			} else if (icNames[i] == 'display') {
				if (variables[icNames[i]] == 'yes') {
					$('#displayBox').prop('checked', true);
					$('#controllaccessDiv1').show();
				} else {
					$('#displayBox').prop('checked', false);
					$('#controllaccessDiv1').hide();					
				}
			} else {
				$('#' + icNames[i]).val(variables[icNames[i]]);
			}
		}
		$('#sample_time').val(variables.sampleTime);
		$('#sample_consent').val(variables.sampleConsent);
	}

	function resetConsentGrp() {
		$('#branch').val('NCI');
		$('#dataLimitation').val('None');
		$('#useTextField').val('');
		$('#useTextField').css('display', 'none');
		$('#useTextLabel').css('display', 'none');
		$('#dataModifier').val('');
		$('#consentErr').html("");
		$('#consentErr').css('display', 'none');
	}

	function parseICData(data) {
		var variables = {};
		var temp = data.split(",");
		var i = 0;
		for (i = 0; i &lt; temp.length; i++) {
			var val = temp[i].split("=");
			variables[val[0]] = val[1];
		}
		return variables;
	}

	function cleanICData() {
		$('#consentGroupIds').val('');
		$('#ic_id').val('');
		var i = 0;
		for (i = 0; i &lt; icNames.length; i++) {
			if (icNames[i] == 'gpa_organization' || icNames[i] == 'sd_organization') {
				$('#' + icNames[i]).val("none");
			} else {
				if (icNames[i] == 'certification_to') {
					$('#' + icNames[i]).val('Kathleen Calzone');
				} else if (icNames[i] == 'certification_from') {
					$('#' + icNames[i]).val('William Dahut');
				} else if (icNames[i] == 'data_access') {
					$("input[name='dataAccessBox'][value='controlled-access']").prop('checked', true);
				} else if (icNames[i] == 'display' || icNames[i] == 'frquency') {
					$('#displayBox').prop('checked', false);
					$('#frequenceBox').prop('checked', false);
				} else {
					$('#' + icNames[i]).val('');
				}
			}
		}
	}

	function clearICFieldBackground() {
		var i = 0;
		for (i = 0; i &lt; icNames.length; i++) {
			$('#' + icNames[i]).css('background-color', '');
		}
	}

	$scope.removeUser = function(sys_id) {
		$('#refresh').val('0');
		var $confirm = $('#userConfirmDiv');
		$confirm.modal('show');
		$('#messageDeleteUser').html("Are you sure you want to remove this user?");
		$('#btnYesConfirmUser').off('click').click(function() {
			deleteUser(sys_id);
			$confirm.modal('hide');
		});
		$('#btnNoConfirmUser').off('click').click(function() {
			$confirm.modal('hide');
		});
	};

	function deleteUser(sys_id) {
		var data2 = {
			sys_id: sys_id,
			action: 'delete'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/saveUser',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data2
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			loadUserData();
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function showSubmitButton(indicator) {
		if (indicator == '0') {
			$('#regularICSubmit').show();
			$('#resubmitIC').hide();
		} else if (indicator == '1') {
			$('#regularICSubmit').hide();
			$('#resubmitIC').show();
		}
	}

	//er functions are here
	var ernames = ['er_investigator', 'er_email', 'er_phone', 'er_date', 'er_projectNumber', 'er_projectName', 'er_simpleSize', 'er_prospective', 'er_restrospective', 'er_human', 'er_nonHuman', 'er_germLine', 'er_somatic', 'er_dnaType', 'er_rnaType', 'er_microbiome', 'er_mitochrondria', 'er_otherType', 'er_specifyOtherType', 'er_snpArrayData', 'er_numSNP', 'er_expressionArray', 'er_numExpression', 'er_methylationArray', 'er_numMethylation', 'er_arrayDerive', 'er_microarrayData', 'er_sequenceData', 'er_somaticSnv', 'er_arrayCgh', 'er_wholeGenome', 'er_wholeExome', 'er_targetGenome', 'er_targetExome', 'er_wholeTranscriptome', 'er_targetTrabscriptome', 'er_epigenomicMark', 'er_sanger', 'er_rrna', 'er_association', 'er_arrayDerivedExpression', 'er_rnaExpression', 'er_derivedMethylation', 'er_otherAnalysis', 'er_spcifiedOtherAnalysis', 'er_individual', 'er_aggregate', 'er_notApplicableDataForm', 'er_orginId', 'er_version', 'er_rat', 'er_mouse', 'er_celegans', 'er_drosophila', 'er_yeast', 'er_yeastSpecies', 'er_bacteria', 'er_bacteriaSpecies', 'er_noHumanOther', 'er_numDerivedGenotype', 'er_numMicroarrayData', 'er_numSquenceData', 'er_numSomaticSnv', 'er_numArrayCgh', 'er_numWholeGenome', 'er_numWholeExome', 'er_numTargetGenome', 'er_numTargetedExome', 'er_numWholeTranscriptome', 'er_numTargetedTranscriptome', 'er_numEpigenomic', 'er_numSanger', 'er_numRrna', 'er_legalRestricton', 'er_describedLegal', 'er_informedConsent', 'er_otherJust', 'er_specifiedOtherJust', 'er_nonExistConsent', 'er_nonAddressConsent', 'er_nonAddressRisk', 'er_precludedConsent', 'er_otherConsent', 'er_specifiedOtherConsent', 'er_copyConsent', 'er_gpaAgreed', 'er_gpaDisagree', 'er_gpaUnclear', 'er_irbAgree', 'er_irbDisagree', 'er_alternative'];
	var ertextFields = ['er_investigator', 'er_email', 'er_phone', 'er_date', 'er_projectNumber', 'er_projectName', 'er_simpleSize', 'er_specifyOtherType', 'er_spcifiedOtherAnalysis', 'er_orginId', 'er_version', 'er_numSNP', 'er_numExpression', 'er_numMethylation', 'er_yeastSpecies', 'er_bacteriaSpecies', 'er_noHumanOther', 'er_numDerivedGenotype', 'er_numMicroarrayData', 'er_numSquenceData', 'er_numSomaticSnv', 'er_numArrayCgh', 'er_numWholeGenome', 'er_numWholeExome', 'er_numTargetGenome', 'er_numTargetedExome', 'er_numWholeTranscriptome', 'er_numTargetedTranscriptome', 'er_numEpigenomic', 'er_numSanger', 'er_numRrna', 'er_describedLegal', 'er_specifiedOtherJust', 'er_specifiedOtherConsent', 'er_alternative'];

	scope.createER = function() {
		$('#refresh').val('0');
		$('#collapseER').collapse('show');
		var $er = $('#loadedERRequests');
		clearErRequiredFieldBackColor();
		resetErRequestValue();
		$('#er_errorMessage').html('');
		$('#ccr_id').val('');
		$('#saved_id').val('');
		$('#regularSubmit').show();
		$('#resubmit').hide();
		//load GDS information and fill them into ER form
		var data = {
			sysId: $('#hideGDSId').val()
		};
		var request = {
			method: 'GET',
			url: '/api/naci/gds/getProjectInformation',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			params: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result[0];
			//populate data into submission form
			loadGDSDataForER(result);
			$('#erFirstName').val($('#piFirstName').val());
			$('#erLastName').val($('#piLastName').val());
			$('#erUserId').val($('#piUserId').val());
			$er.modal('show').on('shown.bs.modal', function(el) {
				$(el.target).find('.modal-content').scrollTop(0);
			});
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	function clearErRequiredFieldBackColor() {
		$('#er_investigator').css("background-color", "");
		$('#er_email').css("background-color", "");
		$('#er_phone').css("background-color", "");
		$('#er_date').css("background-color", "");
		$('#er_projectName').css("background-color", "");
		$('#er_simpleSize').css("background-color", "");
		$('#er_collectionTypeId').css("background-color", "");
		$('#er_dataId').css("background-color", "");
		$('#er_specifyOtherType').css("background-color", "");
		$('#er_data2Id').css("background-color", "");
		$('#er_arrayDataId').css("background-color", "");
		$('#er_genotypesId').css("background-color", "");
		$('#er_sequenceId').css("background-color", "");
		$('#er_analysisId').css("background-color", "");
		$('#er_spcifiedOtherAnalysis').css("background-color", "");
		$('#er_dataFormId').css("background-color", "");
		$('#er_dataRepositoryId').css("background-color", "");
		$('#er_specifiedRepository').css("background-color", "");
		$('#er_companionInfoId').css("background-color", "");
		$('#er_specifiedClinicalData').css("background-color", "");
		$('#er_specifiedProtocol').css("background-color", "");
		$('#er_specifiedInstrument').css("background-color", "");
		$('#er_specifiedCompanion').css("background-color", "");
		$('#er_dataSubmissionId').css("background-color", "");
		$('#er_psecifiedOtherSubmission').css("background-color", "");
		$('#er_dataUseId').css("background-color", "");
	}

	function resetErRequestValue() {
		var i = 0;
		for (i = 0; i != ernames.length; i++) {
			if (ertextFields.indexOf(ernames[i]) != -1) {
				$('#' + ernames[i]).val('');
			} else {
				$('#' + ernames[i]).prop('checked', false);
				$('#' + ernames[i]).removeAttr("disabled");
			}
		}
		$('#withdrawCommentsId').val('');
		$('#withdrawSubmitId').val('');
		$('#saved_id').val('');
	}

	function loadGDSDataForER(data) {
		$('#er_investigator').val(data.piFirstName + " " + data.piLastName);
		$('#er_email').val(data.piEmail);
		$('#er_phone').val(data.piPhone);
		$('#er_projectName').val(data.projectTitle);

		//get current date
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth() + 1; //January is 0!

		var yyyy = today.getFullYear();
		if (dd &lt; 10) {
			dd = '0' + dd;
		}
		if (mm &lt; 10) {
			mm = '0' + mm;
		}
		var currentDate = mm + '/' + dd + '/' + yyyy;
		$('#er_date').val(currentDate);
	}
	// ER function
	$scope.editERItem = function(id) {
		$('#refresh').val('0');
		clearERRequiredFieldBackColor();
		$('#erFirstName').val('');
		$('#erLastName').val('');
		$('#erUserId').val('');
		$('#er_errorMessage').html('');
		var data = {
			requested_id: id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gdspapi/fetchSavedRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);

		function handleResponse(response) {
			var result = response.data.result;
			showERModal();
			$('#saved_id').val(id);
			loadERData(result[0].value);
			console.log(result);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	};

	$scope.removeERItem = function(id) {
		$('#refresh').val('0');
		var $confirm = $('#confirmDiv');
		$confirm.modal('show');
		$('#message').html("Are you sure you want to remove this record?");
		$('#btnYesConfirmYesNo').off('click').click(function() {
			var data = {
				saved_id: id,
				action: 'DELETE'
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/saveRequestData',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);

			function handleResponse(response) {
				var result = response.data.result;
				$confirm.modal('hide');
				console.log(result);
			}

			function handleError(response) {
				console.error(response);
				$confirm.modal('hide');
				alert('ERROR');
			}
		});
		$('#btnNoConfirmYesNo').off('click').click(function() {
			$confirm.modal('hide');
		});
	};

	$scope.viewUserAccess = function() {
		$('#refresh').val('0');
		$('#collapseUser').collapse('show');
	};
	$scope.createNewUserAccess = function(){
		$('#refresh').val('0');
		$('#collapseUser').collapse('show');
		$('#addUserAccessDiv').modal('show');

		$('#btnAddUserAccess').off('click').click(function() {
			addUser();
		});
		$('#btnCancelUserAccess').off('click').click(function() {
			$('#addUserAccessDiv').modal('hide');
		});
	};
	$scope.viewGDSP = function() {
		$('#refresh').val('0');
		$('#collapseGDSP').collapse('show');
	}
	$scope.viewIC = function() {
		$('#refresh').val('0');
		$('#collapseIC').collapse('show');
	}

	function clearERRequiredFieldBackColor() {
		$('#er_investigator').css("background-color", "");
		$('#er_email').css("background-color", "");
		$('#er_phone').css("background-color", "");
		$('#er_date').css("background-color", "");
		$('#er_projectName').css("background-color", "");
		$('#er_simpleSize').css("background-color", "");
		$('#er_collectionTypeId').css("background-color", "");
		$('#er_dataId').css("background-color", "");
		$('#er_specifyOtherType').css("background-color", "");
		$('#er_data2Id').css("background-color", "");
		$('#er_arrayDataId').css("background-color", "");
		$('#er_genotypesId').css("background-color", "");
		$('#er_sequenceId').css("background-color", "");
		$('#er_analysisId').css("background-color", "");
		$('#er_spcifiedOtherAnalysis').css("background-color", "");
		$('#er_dataFormId').css("background-color", "");
	}

	function showERModal() {
		var $erData = $('#loadedERRequests');
		$erData.modal('show').on('shown.bs.modal', function() {
			$('#loadedERRequests .modal-content').scrollTop(0);
		});
	}

	function loadERData(data) {
		var namePair = data.split(",");
		var i = 0;
		for (i = 0; i != namePair.length; i++) {
			var item = namePair[i];
			if (item == '' || typeof item === "undefined") {} else {
				if (item.indexOf('=') != -1) {
					var small = item.split('=');
					if (small[0] == 'erFirstName') {
						$('#erFirstName').val(small[1]);
					} else if (small[0] == 'erLastName') {
						$('#erLastName').val(small[1]);
					} else if (small[0] == 'erUserId') {
						$('#erUserId').val(small[1]);
					} else {
						setERValue(small);
					}
				}
			}
		}
	}

	function setERValue(value) {
		var name = value[0];
		var val = value[1];
		if (ertextFields.indexOf(name) != -1) {
			$('#' + name).val(val);
		} else {
			if (val == "true") {
				$('#' + name).prop('checked', true);
				if (name == 'er_notApplicableDataForm') {
					$('#er_individual').prop('disabled', true);
					$('#er_aggregate').prop('disabled', true);
				}
			} else {
				$('#' + name).prop('checked', false);
				if (name == 'er_notApplicableDataForm') {
					$('#er_individual').prop('disabled', false);
					$('#er_aggregate').prop('disabled', false);
				}
			}
			erOtherFieldWatcher(name, val);
		}
	}

	function erOtherFieldWatcher(name, value) {
		var otherCheckbox = ['er_otherType', 'er_otherAnalysis', 'er_yeast', 'er_bacteria', 'er_nonHuman', 'er_snpArrayData', 'er_expressionArray', 'er_methylationArray', 'er_arrayDerive', 'er_microarrayData', 'er_sequenceData', 'er_somaticSnv', 'er_arrayCgh', 'er_wholeGenome', 'er_wholeExome', 'er_targetGenome', 'er_targetExome', 'er_wholeTranscriptome', 'er_targetTrabscriptome', 'er_epigenomicMark', 'er_sanger', 'er_rrna', 'er_legalRestricton', 'er_otherJust', 'er_otherConsent'];
		var otherField = ['specifyOtherType', 'spcifiedOtherAnalysis', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numSNP', 'numExpression', 'numMethylation', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna', 'er_describedLegal', 'er_specifiedOtherJust', 'er_specifiedOtherConsent'];
		var index = otherCheckbox.indexOf(name);
		if (index &gt;= 0) {
			if (value == 'true') {
				$('#' + otherField[index]).prop('disabled', false);
			} else {
				$('#' + otherField[index]).prop('disabled', true);
			}
		}
	}

	function loadBranchOptionString() {
		$.ajax({
			url: '/api/naci/gds/getAllBranch',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			data: {},
			async: false,
			dataType: 'json',
			complete: handleResponse,
			error: handleError
		});

		function handleResponse(response) {
			var result = response.responseJSON.result;
			var val = "";
			for (var i = 0; i &lt; result.length; i++) {
				val = val + "&lt;option value='" + result[i].value + "'&gt;" + result[i].label + "&lt;/option&gt;";
			}
			$('#piBranch').html(val);
			$('#pBranch').html(val);
		}

		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}
	$scope.viewSignIC = function(approval_id, request_id, ic_id){
		$('#refresh').val('0');
		loadICDisplay(approval_id,request_id, ic_id, 'sign');
	};

	function loadICDisplay(approval_id, request_id, ic_id, indicator){
		$('#displayICId').html(ic_id);
		var data = {
			requestedid: request_id
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/getSubmittedICRequestData',
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-UserToken', sessionId);
			},
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResp, handleErr);

		function handleResp(response) {
			var result = response.data.result;
			var comments = parse(result.comments);
			var variables = result.variables;
			var i = 0;
			for (i = 0; i &lt; icNames.length; i++) {
				if (icNames[i] == 'data_access') {
					if (variables[icNames[i]] == 'unrestricted') {
						$("input[name=dataAccessBox1][value='unrestricted']").prop("checked", true);
					} else {
						$("input[name=dataAccessBox1][value='controlled-access']").prop("checked", true);
					}
				} else if (icNames[i] == 'display') {
					if (variables[icNames[i]] == 'yes') {
						$('#displayBox1').prop('checked', true);
						$('#controllaccessDiv1').show();
					} else {
						$('#displayBox1').prop('checked', false);
						$('#controllaccessDiv1').hide();
					}
				}else if (icNames[i] == 'consent_group') {
					$('#' + icNames[i] + '1').val(variables[icNames[i]]);
				} else {
					$('#' + icNames[i] + '1').html(variables[icNames[i]]);
				}
			}
			$('#sample_time').val(variables.sampleTime);
			$('#sample_consent').val(variables.sampleConsent);
			$('#hiddenRequestId').val(request_id);
			$('#hiddenApprovalId').val(approval_id);
			if (comments.length &gt; 137) {
				$('#commentReviewICId1').html('');
				$('#commentReviewICId1').html(comments);
				$('#pre_comments_ic_div').show();
				$('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;')
			}
			$('#submitButton1').hide();
			if(indicator == 'sign'){
				$('#signButton1').show();
				$('#closeButton1').hide();
				$('#comments_ic_div').show();
			}else{
				$('#signButton1').hide();
				$('#closeButton1').show();
				$('#comments_ic_div').hide();
			}
			loadConsentGroupData();
			//if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
			$('#insDiv').show();
			//}else{
			//	$('#insDiv').hide();
			//}
			$('#displayICRequests').modal('show').on('shown.bs.modal', function() {
				$('#displayICRequests .modal-content').scrollTop(0);
			});
		}

		function handleErr(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	function saveUser(userData, gdsId, access){
		var data1 = {
			data: userData,
			gds_id: gdsId,
			access: access,
			action: 'add'
		};
		var request = {
			method: 'POST',
			url: '/api/naci/gds/saveUser',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data1
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}		
	}	

	function encodeDecodeData(data, flag){
		var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
								encode:function(e){
									var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);
									while(f&lt;e.length){
										n=e.charCodeAt(f++);
										r=e.charCodeAt(f++);
										i=e.charCodeAt(f++);
										s=n&gt;&gt;2;
										o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;
										u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;
										a=i&amp;63;
										if(isNaN(r)){
											u=a=64
										}else if(isNaN(i)){
											a=64
										}
										t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);
									}
									return t
								},
								decode:function(e){
									var t="";
									var n,r,i;
									var s,o,u,a;
									var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");
									while(f&lt;e.length){
										s=this._keyStr.indexOf(e.charAt(f++));
										o=this._keyStr.indexOf(e.charAt(f++));
										u=this._keyStr.indexOf(e.charAt(f++));
										a=this._keyStr.indexOf(e.charAt(f++));
										n=s&lt;&lt;2|o&gt;&gt;4;
										r=(o&amp;15)&lt;&lt;4|u&gt;&gt;2;
										i=(u&amp;3)&lt;&lt;6|a;
										t=t+String.fromCharCode(n);
										if(u!=64){
											t=t+String.fromCharCode(r);
										}
										if(a!=64){
											t=t+String.fromCharCode(i);
										}
									}
									t=Base64._utf8_decode(t);
									return t;
								},
								_utf8_encode:function(e){
									e=e.replace(/rn/g,"n");
									var t="";
									for(var n=0;n&lt;e.length;n++){
										var r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
										}else if(r&gt;127&amp;&amp;r&lt;2048){
											t+=String.fromCharCode(r&gt;&gt;6|192);
											t+=String.fromCharCode(r&amp;63|128)
										}else{
											t+=String.fromCharCode(r&gt;&gt;12|224);
											t+=String.fromCharCode(r&gt;&gt;6&amp;63|128);
											t+=String.fromCharCode(r&amp;63|128);
										}
									}
									return t;
								},
								_utf8_decode:function(e){
									var t="";
									var n=0;
									var r=0,c1=0,c2=0;
									while(n&lt;e.length){
										r=e.charCodeAt(n);
										if(r&lt;128){
											t+=String.fromCharCode(r);
											n++;
										}else if(r&gt;191&amp;&amp;r&lt;224){
											c2=e.charCodeAt(n+1);
											t+=String.fromCharCode((r&amp;31)&lt;&lt;6|c2&amp;63);
											n+=2;
										}else{
											c2=e.charCodeAt(n+1);
											c3=e.charCodeAt(n+2);
											t+=String.fromCharCode((r&amp;15)&lt;&lt;12|(c2&amp;63)&lt;&lt;6|c3&amp;63);
											n+=3;
										}
									}
									return t;
								}
							 };

		var result = '';
		if(flag == 'encode'){
			result = Base64.encode(data);
		}else if(flag == 'decode'){
			result = Base64.decode(data);
		}else{
			result = 'ERROR Method';
		}

		return result;
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.popover-content {
  width: 400px;
}

/*disable bk logo */
.bk-logo-small {
   display:none;
}

.home-link{
	color:#3071a9;
}

.nav-tabs {
    width: 100%;
    float: left;
    border-bottom-color: #d9d9d9;
}

.nav-tabs&amp;gt;li a {
    text-align: center;
    border-width: 1px 1px 0 1px;
    border-style: solid;
    border-color: #e0e0e0;
    background: #f2f2f2;
    color: #444444;
}

.nav-tabs&amp;gt;li a:hover {
    background: #F9F9F9;
    border-color: #d9d9d9;
}

.nav-tabs&amp;gt;li.active a, .nav-tabs&amp;gt;li.active:hover a {
    background: white;
    border-color: #d9d9d9;
    border-bottom-color: transparent;
    font-weight: bold;
    color: #444444;
}

.instructions {
    text-align: center;
    padding: 10px 0;
}

.tabs-dropdown .dropdown-toggle {
    border-width: 1px 1px 0 1px;
    border-style: solid;
    border-color: #e0e0e0;
    border-radius: 4px 4px 0 0;
    color: #444444;
    background: #f2f2f2;
}

.tab-content {
    padding: 10px;
    width: 100%;
    min-height: 300px;
    -webkit-overflow-scrolling: touch;
    background: white;
    border-width: 0 1px 1px 1px;
    border-style: solid;
    border-color: #d9d9d9;
    border-radius: 0 0 4px 4px;
    overflow: hidden;
}

.tab-content .tab-pane {
    color: #566473;
}

@media ( max-width : 480px) {
    .nav-tabs&amp;gt;li {
        float: none;
        border: 1px solid #dddddd;
    }
    .nav-tabs&amp;gt;li.active&amp;gt;a {
        border: none;
    }
    .nav&amp;gt;li&amp;gt;a:hover, .nav&amp;gt;li&amp;gt;a:focus, .nav-tabs&amp;gt;li.active&amp;gt;a, .nav-tabs&amp;gt;li.active&amp;gt;a:hover,
        .nav-tabs&amp;gt;li.active&amp;gt;a:focus {
        background: none;
        border: none;
    }
}

/* Reset bootstrap table*/
.table &amp;gt; thead &amp;gt; tr &amp;gt; th,
.table &amp;gt; tbody &amp;gt; tr &amp;gt; td,
.table &amp;gt; tfoot &amp;gt; tr &amp;gt; th {
    border-top: 0px;
    border-bottom: 0px;
}
}

.left td {
    text-align:left;
}
.right td {
   text-align:right;
}
.ldpair-results {
    text-align:center;
    border: 1px solid #ddd;
}

.center-align {
    margin: 0 auto !important;
    float: none !important;
}

.spacer {
    width:10%;
}


td.cell-right {
    text-align: right;
}
td.cell-left {
    text-align: left;
}

td.cell-center {
    text-align: center;
}

.cell-height-small {
    height: 10px;
    padding:0px;
}

.btn-file {
  position: relative;
  overflow: hidden;
}

.btn-file input[type=file] {
  position: absolute;
  top: 0;
  right: 0;
  min-width: 100%;
  min-height: 100%;
  font-size: 100px;
  text-align: right;
  filter: alpha(opacity=0);
  opacity: 0;
  background: red;
  cursor: inherit;
  display: block;
}

input[readonly] {
  background-color: white !important;
  cursor: text !important;
}
/*
table.ldhap,table.ldhap tr, table.ldhap th {
  background-color: white !important;
}
*/
.container {
  background-color: white;
}
.two-by-two {
  margin-bottom:0px;
  width:100%;
}

.jumbotron {
  background-color:white;
  padding:10px 15px;
}

table.fixed {
    table-layout:fixed;
    width:400px;
    margin-bottom:15px;
}
table.fixed td {
    overflow: hidden;
}

table thead td {
  font-weight:bold;
  text-align: center;
}

.font-weight-bold {
  font-weight:bold;
}

img.logo {
    max-height:150px;
}


img.loading {
    height:107px;
    max-height:10%;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

img.graph-legend {
  display:block;
  margin-left: auto;
  margin-right: auto;
}

.multiselect-container &amp;gt; li {
    padding-left: 50px;
}
.multiselect-item.multiselect-all {
    padding-left: 0px;
    text-decoration: underline;
}
.multiselect-item.multiselect-group {
    padding-left: 30px;
}
.has-feedback .form-control {
    padding-right: 0px;
}
.multiselect-container &amp;gt; li.multiselect-group-clickable label {
    text-decoration: underline;
}
/* Tighten up snpchip platform list only*/
/*   .btn-ldlink-multiselec  */
.multiselect-container &amp;gt; li &amp;gt; a &amp;gt; label {
    padding: 0px 20px 0px 40px;
}

.form-control-feedback {
    top: 0;
    right: -15px;
}

/* Placeholder Style */
::-webkit-input-placeholder {
   font-size: 90%;
}

:-moz-placeholder { /* Firefox 18- */
   font-size: 90%;
}

::-moz-placeholder {  /* Firefox 19+ */
   font-size: 90%;
}

:-ms-input-placeholder {
    font-size: 90%;
}


.ffWarning {
    display: none;
}
/*
.bk-plot-canvas-wrapper {
    max-width:900px;
    overflow-x: scroll;
}
*/

.haplotype {
    color: black;
    background:#C0C0C0; /* if a multiple grouped */ 
}

/* LDhap Heat Map - Version 4 */
/* Pastel Colors light red, light orage, light blue, and light green */
/* Color Code: http://paletton.com/palette.php?uid=7000u0klLMWnHN3kBNFgZMYgZMY */

.overflowx {
    overflow-x:auto;
}
.overflowy {
    overflow-y:auto;
}

.whats_new {
    height:200px;
    border:1px solid #566473;
    overflow-y:auto;
    margin-bottom:25px;
}

.table {
    min-width: 0;
    display: table;
}
.left-c {   width:auto;
    display: inline-block;
    vertical-align: top;
}
.right-c {
    min-width:300px;
    width:65%;
    display: inline-block;
    vertical-align: top;
}


.left-c &amp;gt; table &amp;gt; tfoot &amp;gt; tr &amp;gt; td,
.right-c &amp;gt; table &amp;gt; tfoot &amp;gt; tr &amp;gt; td {
    font-weight:bold;
}


/* New stuff */

/* Header and Footer */
.header img {
    /*
    width: 60%;
    */
}
.header h4 {
    color: #fff;
    line-height: 0.5em;
}
.footer {
    bottom: 0;
    color: #444;
    padding: 25px 0;
}
.footer ul {
    text-align: center;
}
.footer ul li a {
    color: #444;
}
hr.header {
    border-top: 0.5em solid #bb0e3d;
    margin: 0;
}


caption {
    font-weight:bold;
}


/* Rotate the text on SNPchip table */
th.rotate {
  /* Something you can count on */
  height: 142px;
  white-space: nowrap;
}

th.rotate &amp;gt; div {
  transform: 
    translate(0px, 51px)
    rotate(270deg);
  width: 20px;
}
th.rotate &amp;gt; div &amp;gt; span {
  /*border-bottom: 1px solid #ccc;*/
  /*padding: 5px 10px;*/
}
/* These aren't needed and will be weird if transforms don't work */
.csstransforms &amp;amp; th.rotate {
  height: 142px;
  white-space: nowrap;
}


span.formw &amp;gt; label {
    margin-bottom: 0px;
    font-family: "Lucida Grande",Verdana,Arial,sans-serif;
    font-size: normal;
}

.platform-checkbox {
    padding: 0.2em 0.6em 0.3em;
}

/* From style.css
https://www.broadinstitute.org/mpg/snap/ldsearch.php */

.bolded {
    font-weight: bold;
}
.underlined {
    border-bottom: 1px dotted gray;
}
fieldset#columnAcheckbox {
    min-width: 450px;
}
fieldset#columnAcheckbox div.row span.label, fieldset#columnBcheckbox div.row span.label, fieldset.fullwidthcheckbox div.row span.label {
    padding-top: 1px;
    width: 20px;
}
fieldset#columnBcheckbox {
    min-width: 365px;
}
fieldset div.row span.formw select.yesno {
    width: 80px;
}
/* Custom */

fieldset#columnAcheckbox &amp;gt; div.row,
fieldset#columnBcheckbox &amp;gt; div.row {
    margin-left:15px;
    margin-bottom:-12px;
    font-weight:lighter;
    color: #333;
    font-family: "Lucida Grande",Verdana,Arial,sans-serif;
    font-size: smaller;
}


textarea:valid, .ok {
    color: #555;
}
textarea:invalid, .error {
    color: red;
}
.panel-body &amp;gt; h1 {
    font-size: 1.7em;
}
/* Testing */
@media screen and (max-width: 767px) {
  .dataTables_wrapper .dataTables_info,
  .dataTables_wrapper .dataTables_paginate {
    float: none;
    text-align: center; }
  .dataTables_wrapper .dataTables_paginate {
    margin-top: 0.5em; } 
}
@media screen and (max-width: 640px) {
  .dataTables_wrapper .dataTables_length,
  .dataTables_wrapper .dataTables_filter {
    float: none;
    text-align: center; }
  .dataTables_wrapper .dataTables_filter {
    margin-top: 0.5em; } 
}
.legend{
/* css for agreement*/
font-family: Arial, Helvetica, sans-serif;
font-size:14px;
color:#566473;
font-weight: bold;
}

.overlay{
  opacity:0.5;
  background:white;
  pointer-events: none
}

.tools-owner-title {
    padding-top: 5px;
    padding-bottom: 5px;
    background-color: #F5FAFF;
    color: #0C5C97;
}

.ui-dialog.ui-widget.ui-widget-content {
	background:white; /* and no special background for the dialog */
}
.ui-widget-overlay.ui-front { /* you want this */
	opacity:.10;
}
.modal-dialog1 {
    width: 900px;
    margin: 30px auto;
    position: relative;
}

.form-control1 {
    display: block;
    width: 20%;
    height: 30px;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857;
    color: #555555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}

.overlay {
  position: fixed; 
  width: 100%; 
  height: 100vh; 
  background-color: white; 
  opacity: 0.9; 
  z-index: 9999; 
  top: 0; 
  left: 0;
  
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}



.spinner {
  animation: spin 2s infinite linear;
}

/** spin animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-main-content&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS main content&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;true&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.access = '';
	var userName = '';
	  var user_item = new GlideRecord('sys_user');
        user_item.addQuery('sys_id', my_sys_id);
        user_item.query();
        user_item.next();
	if(user_item != null){
	   userName = user_item.last_name + ", " + user_item.first_name;
	}

	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		userName: userName
	};

	data.tasks = [];
	data.userTasks = [];
	data.icSubmittedTasks=[];
	
	data.submittedTasks = [];
	data.icTasks = [];
	data.icSignTasks = [];
	
	//get PI sign record
			var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
       gr_approval_items.addQuery('approver', my_sys_id); 
			 //gr_approval_items.addQuery('document_id.request.requested_for', my_sys_id);
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;
            
				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(stage_v == 'Wait for PI to Sign'){
					   var items = {};
									items.ic_id = ticket_number;
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();					
						 data.icSignTasks.push(items);
					}
			}
	//end of PI sign Record 

	/*var gr_ic_sign_items = new GlideRecord('sc_req_item');
	    gr_ic_sign_items.addQuery('requested_for', my_sys_id);
	    gr_ic_sign_items.addQuery()*/
	
	var ernames=['er_investigator','er_email','er_phone', 'er_date', 'er_projectNumber', 'er_projectName', 'er_simpleSize','er_prospective', 'er_restrospective', 'er_human', 'er_nonHuman', 'er_germLine','er_somatic', 'er_dnaType', 'er_rnaType',  'er_microbiome', 'er_mitochrondria', 'er_otherType', 'er_specifyOtherType', 'er_snpArrayData', 'er_numSNP', 'er_expressionArray', 'er_numExpression','er_methylationArray', 'er_numMethylation','er_arrayDerive', 'er_microarrayData', 'er_sequenceData', 'er_somaticSnv', 'er_arrayCgh', 'er_wholeGenome', 'er_wholeExome', 'er_targetGenome', 'er_targetExome', 'er_wholeTranscriptome', 'er_targetTrabscriptome', 'er_epigenomicMark', 'er_sanger', 'er_rrna', 'er_association', 'er_arrayDerivedExpression', 'er_rnaExpression', 'er_derivedMethylation', 'er_otherAnalysis', 'er_spcifiedOtherAnalysis', 'er_individual', 'er_aggregate', 'er_notApplicableDataForm', 'orginId', 'version','er_rat', 'er_mouse', 'er_celegans', 'er_drosophila', 'er_yeast', 'er_yeastSpecies', 'er_bacteria', 'er_bacteriaSpecies','er_noHumanOther', 'er_numDerivedGenotype', 'er_numMicroarrayData', 'er_numSquenceData', 'er_numSomaticSnv', 'er_numArrayCgh','er_numWholeGenome', 'er_numWholeExome', 'er_numTargetGenome', 'er_numTargetedExome', 'er_numWholeTranscriptome', 'er_numTargetedTranscriptome', 'er_numEpigenomic', 'er_numSanger', 'er_numRrna','er_legalRestricton', 'er_describedLegal', 'er_informedConsent','er_otherJust', 'er_specifiedOtherJust','er_nonExistConsent','er_nonAddressConsent', 'er_nonAddressRisk','er_precludedConsent','er_otherConsent', 'er_specifiedOtherConsent', 'er_copyConsent', 'er_gpaAgreed', 'er_gpaDisagree', 'er_gpaUnclear','er_irbAgree', 'er_irbDisagree', 'er_alternative']; 
	data.erTasks = [];
	var gr_er_items = new GlideRecord('u_gdsp_user_submission');
		  gr_er_items.addQuery('u_userid', my_sys_id);
	    gr_er_items.addQuery('u_application', 'GDS_ER');
		  gr_er_items.orderByDesc('sys_updated_on');
		  gr_er_items.query();
	while (gr_er_items.next()){
		var er = {};
		er.sys_create_on = gr_er_items.getValue('sys_created_on');	
		er.requested_for =  gr_er_items.getValue('u_apply_for_id');	
		var er_value = gr_er_items.getValue('u_value');
		var er_temp = er_value.split(",");
		var er_Value = {};
		var er_index = 0;
		for(er_index = 0; er_index &lt; er_temp.length; er_index++){
         var er_vals = er_temp[er_index].split("=");
			   er_Value[er_vals[0]] = er_vals[1];
		}
		for(er_index = 0; er_index &lt; ernames.length; er_index++){
			er[ernames[er_index]] = er_Value[ernames[er_index]];
		}
		er.project_name = er.er_projectName;
		er.investigator = er.er_investigator;
	  er.sys_id = gr_er_items.getDisplayValue("sys_id");
		data.erTasks.push(er);
	}	
	
})();

]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-31 16:20:02&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;6f829e9adbf1b20054d8ff621f961937&lt;/sys_id&gt;&lt;sys_mod_count&gt;2517&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS main content&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_6f829e9adbf1b20054d8ff621f961937&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 19:23:02&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;br/&gt;
&lt;div&gt;
    &lt;div class="col-md-12" id="messageDiv" style="display:none;"&gt;&lt;/div&gt;
    &lt;!--&lt;div class="col-md-12"&gt;
      &lt;input type="button" class="btn btn-primary btn-sm active pull-right" ng-click="backToMain()" value="Home" /&gt;
    &lt;/div&gt;--&gt;
    &lt;div class="col-md-12"&gt;&lt;label&gt;&lt;a href='' class="home-link" ng-click='backToMain()'&gt; Home &amp;nbsp;&amp;nbsp; &gt; &amp;nbsp;&amp;nbsp; &lt;/a&gt;&lt;/label&gt;&lt;span style="display:none;" id="titleDiv"&gt;&lt;/span&gt;&lt;/div&gt;
    &lt;div class="col-md-12 panel-box"&gt;
        &lt;div class="panel panel-success panel-area"&gt;
            &lt;div class="panel-heading panel-header" id="heading_project" role="tab"&gt;
                &lt;h4 class="panel-title"&gt;
                    &lt;a aria-controls="collapseProject" aria-expanded="true" data-target="#collapseProject" data-toggle="collapse" role="button"&gt;
                  &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                  Project Information&lt;/a&gt;&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div aria-labelledby="heading_project" class="panel-collapse collapse in" id="collapseProject" role="tabpanel"&gt;
                &lt;div class="tab-content grey-border"&gt;
                    &lt;div class="tab-pane active" id="projectInfo"&gt;
                        &lt;div class="col-md-12" id="gdsErrorDiv" style="display:none"&gt;
                            &lt;font color='#B22222'&gt;
                                &lt;li&gt;Please complete all required fields&lt;/li&gt;
                            &lt;/font&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-2" label&gt;
                                &lt;label for="projectTitle"&gt;&lt;font color='#B22222'&gt;*&lt;/font&gt;Project Title&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-10"&gt;&lt;input type="text" class="form-control" id="projectTitle"/&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;label for="piName"&gt;PI Name&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input id="piName" class="form-control"&gt;&lt;/div&gt;
                            &lt;input type='hidden' id='piFirstName' /&gt;
                            &lt;input type='hidden' id='piLastName' /&gt;
                            &lt;input type="hidden" id="piUserId" /&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;label for="piEmail"&gt;PI Email&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" class="form-control" id="piEmail"/&gt;&lt;/div&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;label for="piPhone"&gt;PI Phone&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" class="form-control" id="piPhone"/&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;label for="piTitle"&gt;PI Title&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" class="form-control" id="piTitle"/&gt;&lt;/div&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;font color='darkred'&gt;*&lt;/font&gt;&lt;label for="piBranch"&gt;PI Branch&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;&lt;input type="text" id="piBranch" class="form-control"/&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;label for="organismType"&gt;Organism Type&lt;/label&gt;&lt;/div&gt;
                            &lt;div class="col-md-4"&gt;
                                &lt;select id="organismType" class="form-control" ng-model="orgType"&gt; 
                                  &lt;option value="0"&gt;Please select a type&lt;/option&gt;
                                  &lt;option value="human"&gt;Human&lt;/option&gt;
                                  &lt;option value="nonhuman"&gt;Non-Human&lt;/option&gt;
                                  &lt;option value="both"&gt;Both Human and Non-Human&lt;/option&gt;
                                &lt;/select&gt;
                            &lt;/div&gt;
                           &lt;div id="aoInfo" class="col-md-6" style="display:none"&gt;&lt;font color="red"&gt;If the PI information is incorrect, please contact the Authorizing Official to get NED updated&lt;/font&gt;&lt;/div&gt;   
                          	&lt;!--
                            &lt;div class="col-md-4"&gt;
                              &lt;font color='#B22222'&gt;*&lt;/font&gt;&lt;label id="erId"&gt;Do you want to submit a GDS Exception Request?&lt;/label&gt;
                          	&lt;/div&gt;
                            &lt;div class="col-md-2"&gt;&lt;input type="radio" name="er" id="erId1" value="yes" aria-labelledby="erId"/&gt; &amp;nbsp; Yes &amp;nbsp; &lt;input type="radio" name="er" id="erId2" value="no" checked="checked" aria-labelledby="erId"/&gt; &amp;nbsp;No
                            &lt;/div&gt;
						               	--&gt;
                      	&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;
                          &lt;div class="col-md-2"&gt;&lt;label for="selectParent"&gt;Parent Protocol&lt;/label&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=""&gt;&lt;img ng-click="loadTissueProtocol();" src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;&lt;/div&gt;
                            &lt;div class='col-md-4'&gt;
                                &lt;select id="selectParent" class="selectpicker" multiple&gt;&lt;/select&gt;
                            &lt;/div&gt;
                            &lt;div class="col-md-2"&gt;
                              &lt;input type="button" class="btn btn-primary active pull-right" style="width: 120px; text-align: center;" ng-click="newGDSParent()" value="New Protocol" /&gt;
                          &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                        &lt;div class="col-md-12" align='right' id="saveBt"&gt;
                            &lt;input type="button" class="btn btn-primary active pull-right" style="width: 70px; text-align: center;" ng-click="saveProjectInformation(0)" value="Save" /&gt;
                        &lt;/div&gt;
                        &lt;div class="col-md-12" id="updateBt" style="display:none"&gt;
                            &lt;input type="button" class="btn btn-primary active pull-right" style="width: 70px; text-align: center;" ng-click="saveProjectInformation(1)" value="Update" /&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- User Access Tab content --&gt;

        &lt;div class="panel panel-success panel-area" id="acli" style="display:none;"&gt;
            &lt;div class="panel-heading panel-header" style="padding-top: 5px; padding-bottom: 5px;" id="heading_user" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseUser" aria-expanded="true" data-target="#collapseUser" data-toggle="collapse" role="button"&gt;
                        &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                        User Access&lt;/a&gt;
                &lt;/h4&gt;
            &lt;/div&gt;
            &lt;div aria-labelledby="heading_user" class="panel-collapse collapse" id="collapseUser" role="tabpanel"&gt;
                &lt;div class="tab-content grey-border" id="access"&gt;
                    &lt;div class="row"&gt;
                        &lt;div class="row"&gt;&amp;nbsp; &lt;/div&gt;
 
                        &lt;div class="panel panel-default"&gt;
                            &lt;div class="panel-heading"&gt;
                                &lt;span class="panel-title"&gt;User(s) who can access the project&lt;/span&gt;
                                &lt;span class="pull-right"&gt;
                                  &lt;button type="button" class="btn btn-primary  btn-sm active mt-0" id="accessBtn" ng-click="createNewUserAccess()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                                &lt;/span&gt; 
                            &lt;/div&gt;
                            &lt;div class="panel-body"&gt;
                                 &lt;!-- remove the input into dialog --&gt;
                                &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.userTasks.length &gt; 0"&gt;
                                    &lt;h4 class="section-title"&gt; User Access Table&lt;/h4&gt;
                                    &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.userTasks.length }}&lt;/span&gt;
                                &lt;/div&gt;
                                &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.userTasks.length &gt; 0"&gt;
                                    &lt;thead&gt;
                                        &lt;tr&gt;
                                            &lt;td colspan="4"&gt;
                                                &lt;form class="form-inline"&gt;
                                                    &lt;input type="text" class="form-control1" ng-model="searchUserAccess" placeholder="Search" aria-labelledby="collapseUser"/&gt;
                                                &lt;/form&gt;
                                            &lt;/td&gt;
                                        &lt;/tr&gt;
                                        &lt;tr&gt;
                                            &lt;th ng-repeat="column in c.columns3 track by $index" ng-click="c.toggleSort3($index)" style="cursor: pointer"&gt;
                                                {{ column.label }}
                                                &lt;span class="glyphicon small" ng-class="{
                                                'glyphicon-chevron-up': column.sort === 'asc',
                                                'glyphicon-chevron-down': column.sort === 'desc'
                                              }"&gt;
                                  &lt;/span&gt;
                                            &lt;/th&gt;
                                        &lt;/tr&gt;
                                    &lt;/thead&gt;
                                    &lt;tr ng-repeat="row in c.data.userTasks | filter:searchUserAccess" ng-show="$index &gt;= c.pagination3.currentPage * c.pagination3.currentSize &amp;&amp;
                                         $index &lt; (c.pagination3.currentPage + 1) * c.pagination3.currentSize"&gt;
                                        &lt;td class="ritm_number"&gt;{{ row.first_name }}&lt;/td&gt;
                                        &lt;td class="ritm_number"&gt;{{ row.last_name }}&lt;/td&gt;
                                        &lt;td class="ritm_number"&gt;{{ row.access }}&lt;/td&gt;
                                        &lt;td class="ritm_number" ng-show="c.data.access != 'Read_Only'"&gt;&lt;button type='button' class="btn btn-primary active" style="width: 70px; text-align: center;" ng-click="removeUser(row.sys_id);"&gt;Remove&lt;/button&gt; &lt;/td&gt;
                                        &lt;td class="ritm_number" ng-show="c.data.access == 'Read_Only'"&gt;&lt;button type='button' class="btn btn-primary active" style="width: 70px; text-align: center;" ng-click="removeUser(row.sys_id);" disabled&gt;Remove&lt;/button&gt; &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/table&gt;


                                &lt;!-- select the page size --&gt;
                                &lt;form class="form-inline pull-right"&gt;
                                    &lt;div class="pagination form-group" ng-show="c.data.userTasks.length &gt; 0"&gt;
                                        &lt;label for="pageSize16"&gt;
                              Items per page
                            &lt;/label&gt;

                                        &lt;select id="pageSize16" class="form-control" style="display: inline" ng-init="c.pagination3.currentSize = c.pagination3.pageSizes[1]" ng-model="c.pagination3.currentSize" ng-options="sizes for sizes in c.pagination3.pageSizes"&gt;
                            &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/form&gt;

                                &lt;!-- select the page index (offset) --&gt;
                                &lt;ul class="pagination" ng-show="c.pagination3.currentSize &lt; c.data.userTasks.length"&gt;
                                    &lt;li ng-repeat="index in c.getRange3() track by $index" ng-click="c.setPage3($index)"&gt;
                                        &lt;a href=""&gt;
                              {{ $index + 1 }}
                            &lt;/a&gt;
                                    &lt;/li&gt;
                                &lt;/ul&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
          &lt;!-- end of User Access --&gt;
     


        &lt;!-- GDSP Tab content --&gt;
        &lt;div class="panel panel-success panel-area" id="gdspli" style="display:none;"&gt;
            &lt;div class="panel-heading panel-header" style="padding-top: 5px; padding-bottom: 5px;" id="heading_GDSP" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseGDSP" aria-expanded="true" data-target="#collapseGDSP" data-toggle="collapse" role="button"&gt;
                  &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; Genomic Data Sharing Plan &lt;/a&gt;
                &lt;/h4&gt;
            &lt;/div&gt;

            &lt;div aria-labelledby="heading_GDSP" class="panel-collapse collapse" id="collapseGDSP" role="tabpanel"&gt;

                &lt;div class="tab-content grey-border"&gt;
										&lt;div&gt;
                      A &lt;b&gt;Genomic Data Sharing Plan&lt;/b&gt; provides information on the proposed research that will generate large-scale human and non-human genomic data for which the GDS policy applies.   
                      &lt;span class="pull-right"&gt;    
 												&lt;button type="button" class="btn btn-primary  btn-sm active" id="gdspBt" ng-click="createGDSP()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                  		&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center; margin-top: 20px;" ng-show="c.data.tasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;h4 class="section-title"&gt;Draft GDSPs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.tasks.length }}&lt;/span&gt;
                    &lt;/div&gt;

                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.tasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="3"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchDraftGDSP" placeholder="Search" aria-labelledby="collapseGDSP"/&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns track by $index" ng-click="c.toggleSort($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                                'glyphicon-chevron-up': column.sort === 'asc',
                                                'glyphicon-chevron-down': column.sort === 'desc'
                                              }"&gt;
                                  &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.tasks | filter:searchDraftGDSP" ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                                         $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sys_create_on }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="c.editItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                                  Edit
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="c.removeItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                                  Remove
                                &lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.tasks.length &gt; 0"&gt;
                            &lt;label for="pageSize17"&gt;
                              Items per page
                            &lt;/label&gt;

                            &lt;select id="pageSize17" class="form-control" style="display: inline" ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]" ng-model="c.pagination.currentSize" ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.tasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange() track by $index" ng-click="c.setPage($index)"&gt;
                            &lt;a href=""&gt;
                              {{ $index + 1 }}
                            &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;

                    &lt;!-- submitted Table --&gt;
                    &lt;br/&gt;&lt;br&gt;&lt;br&gt;
                    &lt;div id="submittedTable" style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.submittedTasks.length &gt; 0"&gt;
                        &lt;h4 class="section-title"&gt;Submitted GDSPs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.submittedTasks.length }}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.submittedTasks.length &gt; 0"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="7"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchSubmittedGDSP" placeholder="Search" aria-labelledby="submittedTable"/&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns1 track by $index" ng-click="c.toggleSort1($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                                'glyphicon-chevron-up': column.sort === 'asc',
                                                'glyphicon-chevron-down': column.sort === 'desc'
                                              }"&gt;
                                  &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.submittedTasks | filter: searchSubmittedGDSP" ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                                         $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.principal_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;
                                &lt;span ng-switch on='row.approval'&gt;
                                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA review"  title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" title="Request Submitted" Alt="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
                                &lt;/span&gt;
                            &lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.submitted_date}}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="viewItem(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
                                  View
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-show="(row.approval == 'Waiting for PI Resubmit' || row.approval == 'Completed') &amp;&amp; row.access == null &amp;&amp; c.data.access != 'Read_Only' " ng-click="displayResubmit(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                                  Resubmit
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-show="row.approval != 'Completed' &amp;&amp;  row.access == null &amp;&amp; c.data.access != 'Read_Only'" ng-click="withdraw(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
                                  Withdraw
                                &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="report(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
                                  Export
                                &lt;/button&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_orginId" value="{{ row.orginId}}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_num" value="{{ row.org_ticket_num }}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket" value="{{row.gdsp_id}}" /&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.submittedTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize18"&gt;
                              Items per page
                            &lt;/label&gt;

                            &lt;select id="pageSize18" class="form-control" style="display: inline" ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]" ng-model="c.pagination1.currentSize" ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.submittedTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange1() track by $index" ng-click="c.setPage1($index)"&gt;
                            &lt;a href=""&gt;
                              {{ $index + 1 }}
                            &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- end of GDSP --&gt;
        &lt;!-- IC Tab content ng-click='openIcQUestion()' --&gt;
        &lt;div class="panel panel-success panel-area" id="icli" style="display:none;" ng-show="orgType != 'nonhuman'"&gt;
            &lt;div class="panel-heading panel-header" style="padding-top: 5px; padding-bottom: 5px;" id="heading_IC" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseIC" aria-expanded="true" data-target="#collapseIC" data-toggle="collapse" role="button"&gt;
                              &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                              Institutional Certification
                            &lt;/a&gt;
                &lt;/h4&gt;
            &lt;/div&gt;
            &lt;div aria-labelledby="heading_IC" class="panel-collapse collapse" id="collapseIC" role="tabpanel"&gt;
                &lt;div class="tab-content grey-border" id="IC"&gt;
                  &lt;div&gt;
                     An &lt;b&gt;Institutional Certification Memo certifies &lt;/b&gt; that data submission and sharing is consistent with the informed consent of the study participants. 
                      &lt;span class="pull-right"&gt;
                            &lt;button type="button" class="btn btn-primary  btn-sm active" id="icBtn" ng-click="openIcQUestion()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                      &lt;/span&gt;
                  &lt;/div&gt;
                  &lt;br/&gt;
                  &lt;div&gt;
												&lt;b&gt;Institutional Certification Memo Clarifying Guidance&lt;/b&gt; &lt;br/&gt;
                        More than one Institutional Certification Memo is required for research that began prior to August 31, 2015 (with and/or without consent [one memo for each instance]) and continued past August 31, 2015 when consent is mandatory.  
                    
                  &lt;/div&gt;  
                  &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center; margin-top: 20px;" ng-show="c.data.icTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;h4 class="section-title"&gt;Draft ICs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.icTasks.length }}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.icTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="8"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchDraftIC" placeholder="Search" aria-labelledby="collapseIC"/&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns2 track by $index" ng-click="c.toggleSort2($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                    'glyphicon-chevron-up': column.sort === 'asc',
                                    'glyphicon-chevron-down': column.sort === 'desc'
                                  }"&gt;
                      &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.icTasks | filter:searchDraftIC" ng-show="$index &gt;= c.pagination2.currentPage * c.pagination2.currentSize &amp;&amp;
                             $index &lt; (c.pagination2.currentPage + 1) * c.pagination2.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
                            &lt;!--td class="ritm_number"&gt;{{ row.certification_to }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.certification_from }}&lt;/td --&gt;
                            &lt;td class="ritm_number"&gt;{{ row.gpa_organization }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sd_organization }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sys_create_on }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="viewICItem(row.sys_id, row.sampleTime, row.sampleConsent)" style="width: 70px; text-align: center;"&gt;
                      Edit
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="c.removeItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Remove
                    &lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.icTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize19"&gt;
                  Items per page
                &lt;/label&gt;

                            &lt;select id="pageSize19" class="form-control" style="display: inline" ng-init="c.pagination2.currentSize = c.pagination2.pageSizes[1]" ng-model="c.pagination2.currentSize" ng-options="sizes for sizes in c.pagination2.pageSizes"&gt;
                &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination2.currentSize &lt; c.data.icTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange2() track by $index" ng-click="c.setPage2($index)"&gt;
                            &lt;a href=""&gt;
                  {{ $index + 1 }}
                &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
 
                  &lt;!-- IC submitted Table --&gt;
                 &lt;br/&gt;&lt;br&gt;&lt;br&gt;
                 &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" id="submittedICTable" ng-show="c.data.icSubmittedTasks.length &gt; 0"&gt;
                        &lt;h4 class="section-title"&gt;Submitted ICs&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.icSubmittedTasks.length }}&lt;/span&gt;
                 &lt;/div&gt;
                 &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.icSubmittedTasks.length &gt; 0"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="9"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchSubmittedIC" placeholder="Search" aria-labelledby="submittedICTable"/&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns4 track by $index" ng-click="c.toggleSort4($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                    'glyphicon-chevron-up': column.sort === 'asc',
                                    'glyphicon-chevron-down': column.sort === 'desc'
                                  }"&gt;
                      &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.icSubmittedTasks | filter:searchSubmittedIC" ng-show="$index &gt;= c.pagination4.currentPage * c.pagination4.currentSize &amp;&amp;
                             $index &lt; (c.pagination4.currentPage + 1) * c.pagination4.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
                            &lt;!--td class="ritm_number"&gt;{{ row.issue_to }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.issue_from }}&lt;/td --&gt;
                            &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;
                                &lt;span ng-switch on='row.approval'&gt;
                                &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA review"  title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Wait for PI to Sign'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for PI to sign"  title="Waiting for PI to sign"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;  
                                &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for PI Resubmit"  title="Waiting for PI Resubmit"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                                &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" title="Request Submitted" Alt="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
                                &lt;/span&gt;
                            &lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.submitted_date}}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="viewSubmittedIC(row.sys_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
                      View
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-show="(row.approval == 'Waiting for PI Resubmit' || row.approval == 'Completed') &amp;&amp; row.access == null &amp;&amp; c.data.access != 'Read_Only' " ng-click="displayICResubmit(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Resubmit
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-show="row.approval != 'Completed' &amp;&amp; row.access == null &amp;&amp; c.data.access != 'Read_Only'" ng-click="withdrawIC(row.sys_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
                      Withdraw
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-show="row.approval != 'Completed' &amp;&amp; c.data.access != 'Read_Only' &amp;&amp; row.approval != 'Wait for PI to Sign'" ng-click="reportIC(row.sys_id, row.number, 'pi')" style="width: 70px; text-align: center;"&gt;
                      Export
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-show="row.approval == 'Completed' &amp;&amp; c.data.access != 'Read_Only'" ng-click="reportIC(row.sys_id, row.number, 'sd')" style="width: 70px; text-align: center;"&gt;
                      Export
                    &lt;/button&gt;

                                &lt;input type="hidden" id="{{ row.sys_id }}_orginId_ic" value="{{ row.orginId}}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_num_ic" value="{{ row.org_ticket_num }}" /&gt;
                                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_ic" value="{{row.ic_id}}" /&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;

                    &lt;!-- select the page size --&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.icSubmittedTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize20"&gt;
                  Items per page
                &lt;/label&gt;

                            &lt;select id="pageSize20" class="form-control" style="display: inline" ng-init="c.pagination4.currentSize = c.pagination4.pageSizes[1]" ng-model="c.pagination4.currentSize" ng-options="sizes for sizes in c.pagination4.pageSizes"&gt;
                &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;

                    &lt;!-- select the page index (offset) --&gt;
                    &lt;ul class="pagination" ng-show="c.pagination4.currentSize &lt; c.data.icSubmittedTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange4() track by $index" ng-click="c.setPage4($index)"&gt;
                            &lt;a href=""&gt;
                  {{ $index + 1 }}
                &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- end of the IC tab createER() --&gt;

        &lt;!-- Exception Request Tab content  tempFunc   data-target="#collapseER"--&gt;
        &lt;!--
        &lt;div class="panel panel-success panel-area" id="erli" style="display:none;"&gt;
            &lt;div class="panel-heading panel-header" style="padding-top: 5px; padding-bottom: 5px;" id="heading_ER" role="tab"&gt;
                &lt;h4 class="panel-title" style="display: flex; justify-content: space-between; align-items: center;"&gt;
                    &lt;a aria-controls="collapseER" aria-expanded="true" data-target="#" data-toggle="collapse" role="button"&gt;
                                  &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
                                  Exception Request
                                &lt;/a&gt;
                    &lt;button type="button" class="btn btn-primary  btn-sm pull-right" id="erBtn" ng-click="createER()" style="width: 70px; text-align: center;"&gt;NEW&lt;/button&gt;
                    &lt;label&gt;Coming Soon&lt;/label&gt;
                &lt;/h4&gt;

            &lt;/div&gt;

            &lt;div aria-labelledby="heading_ER" class="panel-collapse collapse" id="collapseER" role="tabpanel"&gt;

                &lt;div class="tab-content grey-border" id="ER"&gt;
                    &lt;div style="background-color: lightgrey; padding: 2px 10px; display: flex; align-items: center;" ng-show="c.data.erTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;h4&gt; Draft Exception Requests&lt;/h4&gt;
                        &lt;span class="badge" style="color: #444; margin-left: 5px;" id="ritm_count"&gt;{{ c.data.erTasks.length }}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;table class="table table-bordered table-striped table-condensed table-hover" ng-show="c.data.erTasks.length &gt; 0 &amp;&amp; c.data.access != 'Read_Only'"&gt;
                        &lt;thead&gt;
                            &lt;tr&gt;
                                &lt;td colspan="9"&gt;
                                    &lt;form class="form-inline"&gt;
                                        &lt;input type="text" class="form-control1" ng-model="searchDraftER" placeholder="Search" aria-labelledby="collapseER"/&gt;
                                    &lt;/form&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;th ng-repeat="column in c.columns5 track by $index" ng-click="c.toggleSort5($index)" style="cursor: pointer"&gt;
                                    {{ column.label }}
                                    &lt;span class="glyphicon small" ng-class="{
                                    'glyphicon-chevron-up': column.sort === 'asc',
                                    'glyphicon-chevron-down': column.sort === 'desc'
                                  }"&gt;
                      &lt;/span&gt;
                                &lt;/th&gt;
                            &lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tr ng-repeat="row in c.data.erTasks | filter: searchDraftER" ng-show="$index &gt;= c.pagination5.currentPage * c.pagination5.currentSize &amp;&amp;
                             $index &lt; (c.pagination5.currentPage + 1) * c.pagination5.currentSize"&gt;
                            &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.investigator }}&lt;/td&gt;
                            &lt;td class="ritm_number"&gt;{{ row.sys_create_on }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="editERItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Edit
                    &lt;/button&gt;
                                &lt;button class="btn btn-sm btn-primary active" ng-click="removeERItem(row.sys_id)" style="width: 70px; text-align: center;"&gt;
                      Remove
                    &lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/table&gt;
                    &lt;form class="form-inline pull-right"&gt;
                        &lt;div class="pagination form-group" ng-show="c.data.erTasks.length &gt; 0"&gt;
                            &lt;label for="pageSize21"&gt;
                  Items per page
                &lt;/label&gt;

                            &lt;select id="pageSize21" class="form-control" style="display: inline" ng-init="c.pagination5.currentSize = c.pagination5.pageSizes[1]" ng-model="c.pagination5.currentSize" ng-options="sizes for sizes in c.pagination5.pageSizes"&gt;
                &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                    &lt;ul class="pagination" ng-show="c.pagination5.currentSize &lt; c.data.erTasks.length"&gt;
                        &lt;li ng-repeat="index in c.getRange5() track by $index" ng-click="c.setPage5($index)"&gt;
                            &lt;a href=""&gt;
                  {{ $index + 1 }}
                &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
		--&gt;
    &lt;/div&gt;
&lt;/div&gt;


&lt;!--&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;--&gt;
&lt;input type="hidden" id="hideGDSId" /&gt;
&lt;input type="hidden" id="recId" /&gt;
&lt;input type="hidden" id="access" /&gt;
&lt;input type='hidden' id='refresh'/&gt;
&lt;input type='hidden' id='gdspStatus'/&gt;
&lt;input type='hidden' id='icStatus'/&gt;


&lt;div class="col-md-12"&gt;&lt;label&gt;&lt;a href='' class="home-link" ng-click='backToMain()'&gt; Home &amp;nbsp;&amp;nbsp; &gt; &amp;nbsp;&amp;nbsp;&lt;/a&gt;&lt;/label&gt;&lt;span style="display:none;" id="titleButtomDiv"&gt;&lt;/span&gt;&lt;/div&gt;

&lt;!-- confirm modal --&gt;
&lt;div id="confirmDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                  &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
              &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="message"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirmYesNo" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirmYesNo" type="button" class="btn btn-default active" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="userConfirmDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                  &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
              &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageDeleteUser"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirmUser" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoConfirmUser" type="button" class="btn btn-default active" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="withdrawDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageWithdraw"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesWithdraw" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoWithdraw" type="button" class="btn btn-default active" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="withdrawICDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageWithdrawIC"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesWithdrawIC" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button id="btnNoWithdrawIC" type="button" class="btn btn-default active" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt; 

&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;!--button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button --&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="protocolInfoModal" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog modal-lg"  style="width:1200px;"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;!--button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button --&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
              &lt;p&gt;
              Parent Protocols/Projects may be Tissue Procurement studies, OHRSP exemptions, or other umbrella projects in which multiple protocols/projects with different investigators are conducted under the umbrella protocol/project.  
              &lt;/p&gt; 
              &lt;div&gt;
                &lt;table class="table table-striped table-bordered"&gt;
                    &lt;thead&gt;
                        &lt;tr&gt;
                          &lt;th scope="col" width="25%"&gt;Protocol Number&lt;/th&gt;
                          &lt;th scope="col" width="75%"&gt;Protocol Name&lt;/th&gt;
                        &lt;/tr&gt;
                    &lt;/thead&gt;
                   &lt;tbody&gt;
                     &lt;tr ng-repeat="item in c.protocols"&gt;
                     	&lt;td&gt;{{item.number}}&lt;/td&gt;
                     	&lt;td&gt;{{item.name}}&lt;/td&gt; 
                     &lt;/tr&gt;
   											
                  &lt;/tbody&gt;
                &lt;/table&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer" style="text-align: center"&gt;
                 &lt;button type="button" class="btn btn-primary btn-lg" data-dismiss="modal" aria-label="Close"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;

&lt;div id="addUserAccessDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;User Access&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                 &lt;div class="row" id="error" style="display:none;"&gt; &lt;/div&gt;
                 &lt;div class="row"&gt;
                     &lt;div class="col-md-2"&gt;
                           &lt;lable for="userName"&gt;User Name&lt;/lable&gt;
                     &lt;/div&gt;
                     &lt;div class="col-md-6 ui-front"&gt;
                          &lt;input type="text" class="form-control" id="userName" style="width:90%;" aria-labelledby="userName"/&gt;
                          &lt;input type='hidden' id='userFirstName' /&gt;&lt;input type='hidden' id='userLastName' /&gt;&lt;input type='hidden' id='userId' /&gt;
                     &lt;/div&gt;
                     &lt;div class="col-md-2"&gt;
                          Read-Write &lt;input type="radio" name="access" value="Read_and_Write" aria-labelledby="userName"/&gt;
                     &lt;/div&gt;
                     &lt;div class="col-md-2"&gt;
                          Read-only &lt;input type="radio" name="access" value="Read_Only" aria-labelledby="userName" checked/&gt;
                     &lt;/div&gt;
								&lt;/div&gt;                
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnAddUserAccess" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;Add&lt;/button&gt;
                &lt;button id="btnCancelUserAccess" type="button" class="btn btn-default active" style="width: 70px; text-align: center;"&gt;Cancel&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="addParentGDSDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog modal-lg"  style="width:900px; "&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;New GDS Parent&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                 &lt;div class="row col-md-12" id="parentError" style="display:none;"&gt; &lt;/div&gt;
                 &lt;div class="row"&gt;
 										&lt;div class="col-md-3"&gt;
                      &lt;font color='red'&gt;*&lt;/font&gt;&lt;label&gt;Protocol Number&lt;/label&gt;
                   &lt;/div&gt;
                   &lt;div class="col-md-9"&gt;
                     &lt;input type="text" id="protocolNumber" class="form-control"/&gt;
                   &lt;/div&gt;
								&lt;/div&gt;   
                &lt;div class="row"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="row"&gt;
 										&lt;div class="col-md-3"&gt;
                      &lt;font color='red'&gt;*&lt;/font&gt;&lt;label&gt;Protocol Name&lt;/label&gt;
                   &lt;/div&gt;
                   &lt;div class="col-md-9"&gt;
                     &lt;textarea id="protocolName" class="form-control" rows="3" &gt;&lt;/textarea&gt;
                   &lt;/div&gt;
								&lt;/div&gt;   
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button type="button" class="btn btn-primary active" style="width: 70px; text-align: center;" id="addNewProtocolBt"&gt;Add&lt;/button&gt;
                &lt;button type="button" class="btn btn-default active" style="width: 70px; text-align: center;" data-dismiss="modal" aria-label="Close"&gt;Cancel&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;div id="protocolConfirmDiv" class="modal fade" data-keyboard="false" data-backdrop="static"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                  &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
              &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageProtocol"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnYesConfirmProcotol" type="button" class="btn btn-primary active" style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                &lt;button data-dismiss="modal" aria-label="Close" type="button" class="btn btn-default active" style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-680833830</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>928b77dfdbcb2f00b86770c08c961972</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1681004e3780000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS main content</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>fb494501f5b2af40492643bad308c43a</update_guid>
<update_guid_history>fb494501f5b2af40492643bad308c43a:-680833830,8d494101e5b2af4096b1e811ec73fd48:-402176550,3fd8c3107af6eb4068a1bb83a18a7d08:-501190742,caa23e1058b6eb402db8bc28ce8e5a07:-64159030,8a82fa102ab6eb40d87ec432c4ef1b77:1955580769,9352fedc7676eb40121e766dde20bd57:-1528487871,b676a70d13eaa340406a12d9d11eb399:1955580769,8c76a70d2aeaa34000ff9c10979ae44a:1827783426,07f4a3c91ceaa34024f57472625713b0:-833351552,08e4ab49eceaa34078ab91fbe15694da:-2125745956,da146f493aeaa3408bec8b0f0fc5eb12:-530603780,6414ab49b9eaa3405a6dd7c15866b0a4:-1915945454,c9b3ef494aeaa3403b375b5335c2ccfc:790376690,3f63ef490deaa340a79b8b5c03dac4ba:-188802166,8726aac5a02aa340e1f876cea2b7d4c3:798530142,3aac2de0c6226340e09196ef519a314e:-1998112485,82ea6da8d2226340d77fe84214285c62:28309979,fb2149ac5dae2340166e26aad5572cb7:-778717511,f5af74acedae2340b06e986c2d0bf29e:-71803848,50e91010eee223409d3ecce50069b671:1626776408,dcc91c903ee2234031194ddd7d81a06c:-1705473862,34a91c907ee223400dca109f90b92acd:-94047190,a7591c90f5e223405586ee63f0d90f65:993231062,7a499cdc53a223407f4a272a27319a72:636905899,96091010b3e22340c201014604de5d97:-1810614716,9498d4dc8ca22340b14a77c3aef9515e:-772693073,2ac658101ee22340b24a12955f0f9ff0:1964020704,797658dc9aa22340c589aae7a0d5f003:-190724804,190618dc3062234074f70496e2b633bd:1801744562,fc265f88af22234057f46ca6989890b9:842391369,3606db88fc22234020ac3c09a90f648c:-1338104437,9d069f4820222340468220c8a67a3b07:1936432973,18d593401c2223401f80e723e1ecbd1d:-1940927098,24c51b88bd222340e7f84ede62fbac8c:-1629383899,73b59704ba22234006c4da3a1fb65226:1712748129,88a55f482122234098badc57cd7866ab:-1601948301,fbf63aae5e12af00869b62f44138181d:-1557725351,0d96f26e3f12af00d357e32f38ef6948:30091968,38c57aea4312af000200bf08f653208e:-1346734297,4a95fa2ef212af00d78a2faf60b05af8:-2086013426,4a55beea0612af009598609da14f6743:702224215,fdc172aaf512af002d4312a9b8782b66:1280371908,a79172aaa412af0058312c536d29b45f:1105024349,0e51b66a2f12af001cc8d17570ea1c79:345729513,d901fe2a4f12af00df72668afe4598a0:-1961278120,18c0b66a5b12af000459f7342b268c71:-1063300094,3f907a669912af003a9ffd6073d19018:1353344836,9180fe2a3d12af0081bd616b8eb89299:-1028196792,6020762a1a12af00da2bee1b70c7f737:455647314,7cbf622a7112af009824cf10aad5b67a:2072903345,068f622a7612af00fff011c8524e9b73:-925601359,ae5f2aa6bd12af000fdd69ef40e4f4f0:899165343,d40f2a66ee12af0050ae8015d3fe562f:1806822508,a68e66a6d112af0022230461c822536f:1720016234,e14ee6e2ae12af008aadbad7490e0498:1574782838,de0e26ee21de6f0064dd506ff2cc4571:899165343,780ee626bb12af0005039f0c6a53a0b1:1574782838,eedd2e663112af009630724162741b91:2100729865,47bd22a20e12af00bf9f2b305cc19639:1574782838,c3ad2a66ec12af000bcea82e8ad26627:548923028,828d26660c12af0067aa5ab970a76739:-83327894,07ec62265d12af000eee5c2133c678c9:-1880893211,a6dce6a2db12af00d7a89ca076bd7ea4:-451567419,550ca226c112af00a74313723372d8f7:-310227021,e6eba6e29112af00b712e588a89ee79e:-866622509,82cb6ee24c12af00aa9d2b7115da70c9:821561475,e26bea226b12af000ea2f1c2f4bde0b9:886689678,555b26e29b12af00272796ce15cefc59:836545744,2b3baea2b212af00d36f04484adfd966:1729637249,8a3be2aad5de6f00615670a56d383229:-1108604483,6c3be6eab8de6f0010d7a2634341185f:-833352230,132be6a2c112af00e091caadf3586f14:-473321653,e4dae6a21212af002567df78852944bc:342364000,3faaa6a20512af00c38e0d2e27a508d5:2026465218,faaae6a2cd12af008cd9023a17a49b94:564629667,f09aa6a23712af00ca24de2b11b087ce:-737315262,3b6a66a29d12af003e1f4872d656d66f:-736640590,e06aa2a20712af0082b2a718f13a2359:-2098143762,171a6e6ac5de6f00b8768b178afaa495:-183553578,401aee62b712af007b163e9ba4c6fd75:-2060538475,6df96a62c312af009beacf83161f8f59:1569851748,c9c9ea22fb12af0043c479ca9088f7f1:21192130,4ba92e2aa9de6f007c74feff3e034e3c:506808766,82ced62a75de6f00cbc027bd83058d81:1911387492,779e12aa9ede6f0031bfaf754a3162bf:-2050296586,f14e5e6abede6f00f6bede51b3b7368a:-50998084,ec4e962ae2de6f00c27e8be2f5803b7b:-1386629824,261ed62acfde6f00bac2d458a9087b06:1272561013,a70e9ee654de6f0002efe20c6554da13:216384507,d8cdd62a61de6f00fc3e9f3378d42742:592648952,28ad562acfde6f0044ae27c8acd81ef5:-187864894,f5639eaed69e6f006b2305a95acc591f:395847469,d653166e159e6f007d765a2abc8cc3a2:1380896965,2303d6ae119e6f00ff3e7cb4897db249:-184361987,52f296e6d09e6f007922889fa94dba0a:-1967810084,da8252ae689e6f00a6a17c8202555426:-1094064849,8e421a6ead9e6f0004b6cd873ab8ad85:-477543279,2d329e6e429e6f0018639ccf48b84a04:-1801536077,a8321a2a6c9e6f005698a40aa6f905e4:1869653888,f2e15e6ee49e6f003130552dac8050fd:595484253,81d1d26e229e6f005d617a484c858e82:999724602,dbb19a66fa9e6f00495a9d330c83a61a:466913360,1d41166e429e6f003488aada14611199:1623954655,2521d26e8f9e6f00b7f5148a94ab537c:-6839625,24f05666069e6f00fe08060b9ee9417a:1056357014,492a8a667d9e6f004c4c991142977d4b:25975286,da1a0a2a219e6f00b16f700295c1c8db:2018939890,f2298ee6799e6f00c85e62e2d826c82d:154820552,665886a6419e6f004bbc16b330e47bec:-86465997,b5f7c2a6039e6f00aa594627e45fc679:808253199,9fd742e68c9e6f0078dd3667cdef560c:122241583,4e578e66af9e6f004e6b2a0cfe7976c0:-1267515101,3cf686a6b99e6f00c96bb44c46604ae4:-948452179,b7960666159e6f0003ef93c8a0360b3a:-311064208,1c368e66359e6f006db005e4851ef81d:1727126128,59c58666bc9e6f00b6ec21c6645f0bcc:-2006931267,2bb582666f9e6f001a905b511f04690a:-2011794733,008586664b9e6f009eb87681310b46c5:1298102791,7e450666ca9e6f0038c7c917cb848b32:766261641,5ef40266b19e6f0092d3e61ff57f34a4:-1679272565,3f74c262c59e6f00f184ce92ab168dbd:496918960,c624cea2809e6f00470898b5ca372558:-672048570,81e30ae2759e6f00424f26bf96be96a5:1544471398,79b386e2f79e6f004d35470aa2e2abe7:-672048570,39a1c2ee325e6f00a7aa935ddfd51a7f:-1125559503,33214e6af15e6f0034ec8a0047317b0d:-672048570,97114aae155e6f004e2f0ec9e0c4409a:-981475674,4c6db1e6865e6f00ced0664d9c34e9f2:496918960,a92df9ea255e6f00743af400ca5204d6:-672048570,512971e6c65e6f00614adb83b7cb51d0:-1261744354,97f8f5e2875e6f0085c834422b913e52:657642718,bd9da9665c1e6f0039072f29f28dd45c:-1974603351,3dfb2d6aab1e6f008c9f3501a7281efe:-1311074384,b2aba96a3d1e6f00c9a48cb977323313:558711734,cd7be56a951e6f005ec2f0d6eeebecc0:1958990394,ce3ba9a6e21e6f0074eade2e1fd4944c:-1155441716,cd8ae92ad41e6f0023fcf069d1cecc67:1459698485,b3e9652a6e1e6f00fd966ddc95faefdd:-1311074384,30d9e966891e6f00706b20855b6478e2:-870942012,2899a12a061e6f004bdfab42a1372c55:11176956,65a8e9a64f1e6f00b61a777ae2543899:-440324466,88982d66881e6f00eddc41793a4a1ce5:-1274976530,35086966c81e6f00909484b31f0aeb24:-609653468,7dd46162c21e6f0091cdaf00aa500157:-2092583623,0b84a122fc1e6f0014307996e8bc1388:-2001409892,9a64a122611e6f00fcdc184e45500f82:77399825,9a23e5eeaeda6f00677749a75ab21225:-1581954160,c772a92e4dda6f00a58727fb97b19029:1841988415,81e1ed6e47da6f00bcbed8a3a26dc7f4:-2092583623,05a121ea49da6f00403a51850531102f:688395904,c3441de274da6f00257c502f67a4b501:757321909,1a1d6d1a56526f0010608ed2cec0605a:-2092583623,6b9c615afe526f00763a356c5fc3ee7b:-792087033,137c615a0b526f000e58ca966e9c8474:2015243084,a86c6d1a5b526f0017c09e549f531ec7:-2003674985,33ab611a97526f007292c4b511167ecb:-2092583623,d6ab251afd526f0004e957da4af475cb:-720016378,2a6ba11a78526f00556e6ba102315703:-792087033,0aa9659686526f00657ff62d23e43f38:-604795566,9049a5964d526f00fe84883807341d76:193352950,6219e19681526f0014f7cc85eedd33b9:-71458288,1d0961563a526f009bae5d4d0793ee71:-700167805,43e8a1967e526f00bf6766f99ef7f73f:189676349,39e8e9d21b526f0013b133de448a9fe0:-594388437,bac86d1605526f0027fe217a39156746:-1194872692,5c88e956df526f00738677f9c2da2ecf:193352950,5b28e556bf526f0047a05a1d993c712e:1920584720,36c7a9d217526f001d044ac059c4ec6c:1255359387,50b76d1657526f00cf2e1d48189d463f:196071856,dea72d1649526f001ef2366013eb59d9:1402284796,7ea3ad52c1526f0021ecf1b5349f2536:-1358342529,2063e99e13126f00bfef188dad326121:509383470,023329523c526f00cce2233fc6cb9c56:-850145090,a713a5522e526f0089dfbc17bdab7dbd:-759768406,9fa2ed1279526f00d051634b0e9bbc28:95568400,a4a2ad122a526f001da5e996e2a3ebd0:-2145662878,9c12259ea3126f006d13fdb82a425f2d:-585851094,27d0a5de81126f009a9d6feb2d95ca5e:639890599,e850ed9e5b126f00eba94e5b4af67af6:-1877726559,b39d9d1e5e126f009f36339964395711:80540440,ad7d951e63126f00da59fe912901f726:1809189533,eb4d551e38126f008eb3fd3d7d4ca39d:501136326,743d551e0a126f00e5db871a21017a18:1100035458,b21ddd9a30126f009175e5e0adf8883a:-2061632628,5eec9ddaf0126f001179530ef59203ea:-1617946599,aebcd9da00126f0020b64ac1585906c6:1671925847,6a9c119ad6126f00ca0855633af1cf0e:307633111,ee3c119a55126f00cd013b99fcb6946f:-1317556299,93fbd15adf126f00758c49289d7635ca:2139081532,f4eb515a1d126f00eb668aafed73366e:1846143930,94db995a8d126f007aec8dd4ef0b6028:590008642,1f9bd91a76126f00c56e70c1a360583c:1312768419,52ca51d660126f008b83d10376f4c92e:511350702,30cad11a1a126f00444bdd0ffc321c16:-321763250,c03a11d653126f009094dd8495ed88c2:-1640916487,d909511637126f00fe20c2b05e0af3e0:442710361,20f85552f5126f003c941f6f70a2cd8d:1701085644,86e8d556d8126f001bce7cb5a275ba9d:2077168093,3e98115685126f0075279e9e367fafb6:-848133853,b438d9928d126f0069c52449cb6cc445:1940708474,b5cec11e50de2f009b78505834ac3ede:873950286,f29e011e52de2f006f75b9952fb33477:272362190,b67ecddacdde2f0066e0caf45d705719:-14887237,662e059ac0de2f008f79bc397ec8c9da:1062196047,d2fd45da69de2f00183de1bdd9bd0aa0:-1182460580,95cc459a1bde2f00a88a69ffd535c168:-1550836937,79acc19a74de2f00e6aab471a67c475b:852129463,459c015a68de2f0038b88b6ffd1fba00:849777879,838c019a9ade2f005454a481c482f731:-640576839,068c0dd6c3de2f009738a5e64ce934a0:-1385943912,4fbbc15ab1de2f002b7242393a41d6bb:-883709730,91abc9d689de2f0003ce244e5c64641e:-747385594,f48b851aafde2f00f9da0fedf7c4d4e5:-883709730,596b4d9660de2f00efb73052738f669b:959477079,e01b4dd63ade2f00ac439f2cda39f598:662420023,53ea4dd65fde2f008cb0059cd3a4bd8f:-1782392824,35aa05d684de2f00959df7517187a7b3:-1845627751,977a05d6c3de2f00b65e49b8c225b4ad:801004856,db5a01d6f6de2f007a894141d2af0706:-1069542269,113acd569fde2f0093a838c554126bb7:151096164,fed90d56c7de2f00675288ceb61a2044:-29181999,92d90d56b7de2f008ccf663b4fc5eb28:521981938,3cb90196e4de2f00da13b3934b9ffb7b:2079133926,ca3909160fde2f0054325555a167173f:-1167564451,8329019611de2f00252b30d99be0c274:2037749189,42c84956fdde2f00dd625a3da553f747:903154049,fbf78d1631de2f0014f67dff38499f63:361353873,e0040d520cde2f006440f9dd2f1aca1b:1114263129,fa551812ff5e2f004f8680730e0062e1:-536031290,cc27628cd3c2e70066a9ac4662f599d0:-1667006801,cd1a5967a23d6700655012bb541e8887:707555620,845e056f3ef96700a97c8e100940ca89:1735498012,07e4c5a726f967001267bd8731195677:1469985697,d144cd679cf96700a921e793a5bcb412:-71699523,7ef34d27eaf96700fe0782fccd7019cc:-1863962472,31524da328f96700a7089211dab9f722:344199423,14c7d0135039e300ed5d339d97071566:-628024951,c6571413fa39e300f8d5d6b3b3bee590:-511438335,fac698530839e3009ad50e4c8949d51c:1025504343,6946dc131c39e30021c70996c9ee100b:836647003,84126697c429a340cf05555e30add5d9:1025504343,a11fb51310e5a3407f7cd4fa4d516b86:-948038568,bdee315341e5a340f0540464ae9c0f14:1747321061,82ae759f7aa5a340da4466c2b188da95:449067341,fd5e3d13d7e5a34025e39a74d0d84a20:2012238515,215bb99f66a5a340ece62ae3b3e09967:-1473832167,c90bbd5f9ea5a3406f4d701da082bdc6:449067341,82aaf95fa2a5a340f21708785f3a7b29:-1253531515,3251bb22f7ad23404c858ae962408dfb:469392613,8151b3229ead2340efc576b9c84efb68:1944371771,1e31b32238ad2340ddec7c34f0c8ba42:1307065983,63d03722fcad234009cd8beab28b73c7:-1379193467,c0ffabee6d6d2340902873627b663ce7:-2060588120,b49fe7ee746d23402ba6914275ea9de3:-1584169197,c63f27eea96d2340462e66883ed2447e:-1187715786,220fefaed16d2340aaedd34a0ead76d0:-1952761250,e5deefaedc6d234067768c86cfa77ac8:-456588180,82ceabae296d2340d190fe7d18ee68f0:-368188155,2e6eabaea06d23406f7e980bd42837a4:761648576,226c232ef26d23408f5db41c9abf5be3:889072854,18aa636a526d23403ca2317d61ab1338:-206184503,5ca5b6a2b4e92340246f28729bce4874:1193098057,b1f4f2a209e923400b02713ce757acad:-1231594795,7673766276e92340ddcc4ca4d8c91de0:-1522773336,2553fa2273e923403c3c7dc93697f919:1892868475,0b137662dbe923406df523ab213284d8:1587089775,a7bf1a9ce22dab0075b01f30f6a62c60:2072278735,768f565cc42dab00ffa835b3890a265d:-685093477,067f929c252dab00374cc65a8b70337c:741495713,924f529ca42dab0004ca0f4791f56629:-575287854,3a0f5a1ca42dab00f5e2d96dc0934e52:-1009673978,91fe1298882dab00088300e1f717fab6:275848156,129e9a5cc92dab00d8e9f14a785408f2:-1514791823,0e2e9a58012dab0027086259ae6bba8a:1249021637,9b0ede58d02dab008832610e7eb89501:-1501362447,bba9ee00d069eb0018826a18e4d50a73:1501802944,326184965e15670008a6fa50d912bb73:-956084805,4851801af815670070b0d7ea7c751cd8:-1573804434,9221ccd6b3156700682abc62d0399e1a:-577094927,610188d6be156700c8f3f1a904eddf78:-1249905148,2da084d6b01567002db91e86ce24b12c:1986147450,c090cc96fb15670090d3848955e099f6:1403986276,0310c49639156700fabf45d1e7746b67:-862068834,88af3b864d156700e20ec77854c0e7a7:949580008,b29f3386f21567000b5e4bb3c48edf2f:927354794,c39e7746a51567003ce29de0e471fc22:-862068834,bf2ebb8278156700de5e215c6f5dbf8d:1473650797,1f0ebfc252156700965721398b8cca51:-1148374229,3a7d7b020d156700611dffb66042be50:1441527657,186dfb821d156700ada7cf7f5bd98a57:-655243990,c2aa7b8a8bd167003fd9905f47ba055d:1441527657,6665156b03892f40b1e1da70ecd4c28e:-1415021461,2f9299275a892f4056c139cab814bdfb:1604736709,a892dd67ef892f40563af63ba5ef55e0:1645815908,bd52d96790892f40f4361a217d1e8a47:-1567602370,6df15d27f6892f40072f6b3e21f46859:-1415021461,eab19127ee892f407f9ec30835a42b53:-583827258,6091552711892f40f10dcb9e96206ba3:-638741331,ed5b49efe0492f406a8e06f6e108b2e7:-1415021461,f60c5d48b9339f001d145bfbafc350d7:1985348043,a0eb5d8828339f000c1347b8480112a5:957724443,9dab958870339f00c609b297f39ecf4f:2042721942,8d8b5d881a339f007672b6c4bc51809c:74936377,db2b1588dc339f0020853662d06b8440:2042721942,57fa958869339f005d4b6cc9acae2948:171396872,a0ead94883339f0075dcdb356835991f:326122496,99ca5188fe339f00652c57588cd3d006:410263843,2faa95c494339f00d918f27ad97361ba:1437887443,279a9d4832339f00ead04ced996a9fdc:-74018972,a68a5d489d339f00d183a9d84c0116c6:-122836952,a55a19c4dc339f007fc25641cbf1dc4d:-1670710184,414ad5088f339f00ec14c00b86704db3:850552825,d5d9d1c479339f001fc2d6f33b00aceb:1894342187,037959084d339f00ab90c4556cc04256:1000397902,a2681580fc339f0011dd3f76122204ec:-612970028,939795448d339f003884eb0437c6a941:1842693365,75e6d50491339f00dc459779ea31ed56:161882851,f7c69d804f339f009fea1e8b1d556be0:-334677608,06261104da339f0021716d9948feec40:161882851,7cd5dd8058339f005559e731badb9416:-851482530,eb94598035339f00317505ba7a82f20f:885687549,86e48c63702b5f0067d6663ed50a6e5b:-1072309786,e3d48823ec2b5f00539eab8e892ba600:1551575761,11a4cca36d2b5f00da7cd901c2fd5c36:417659419,ec3282356da75b00710a386a725d7935:1121064244,f1020ef1d8a75b00bd06eb64de6af608:1525831204,4ee10af1e5a75b00710c2fcb0466a5de:-242664156,999102b14ca75b009bc40f705957a6ae:730609109,458106f1dda75b00bce4a48fc481c3d1:-103216594,f33146b1d7a75b00313800d95740994b:710924951,52318eb12fa75b006c01aac9f5d9a19a:2062164757,f69082b1d1a75b0041abcfa942612162:384987911,698042b1d3a75b002ac2a76f8ce50c43:1772812502,be7082b1eea75b0040e02ede9d926e5a:484910575,9930ca7120a75b00a4ba2227db61498f:631347291,4a78f1f94c675b000829ea64466beb34:1071140693,9f58b1f954675b007971f74ea2414a16:-976272209,bfa7b9b96d675b00d012598590224702:814797249,645735b926675b005b14eef5c7e8a2d0:-422106987,5147fd7945675b00355d58bbc71ba51b:-1300821762,89813965896b1b0033309729970ebe41:-579835515,767175ad916b1b00354aa8e3f1abe814:213943947,758425e1316b1b00dfd0fd18c27ca9c1:-1526096691,71602f85fe2797002ac4448489ab16bc:-1063527472,61515745a92797005f052b8a29f91b50:238328626,33fd4b41d22797001c06259e625342d8:-344450111,4a3dcb8dc0e39700dfbfb4ff9bfc8f2b:1222664891,e1fc03cd35e39700ee653a3bfc347cee:1489115771,581c470139279700406bc99c8c46e585:722946790,a7bb4701ed279700cb690ef4050ca45d:-482255258,a8e4cb4583e397009cd29e85c31731f8:-1156012113,ee8efac910a397009c4462bea34800f4:-2055780770,d9ed3e0db9a39700c8961c852d69fe0e:-762442090,aaecdbb0182b5700eeb5682ddf8400da:2098913274,8e9c97b0812b570016ee4a70a993a2fe:221771237,107c97b08a2b5700cac30f092f7e68fb:-1584171737,922cdf703a2b570079930da3fb3404bf:-889873747,5beadf306e2b5700ba756a09b3c422c1:1939753709,6f6c2e38f36757008d59b155f2d602f0:1754483537,349a0a6b729f53008ed6f1c032b809ba:191597921,8c5ac6ab229f530066926bbc2ee3d61c:-565378932,494a4ee7a29f53002d6c95f40cde47a4:227802459,1e1ac6ab649f53006d8747de9d7d9cbc:-1443820656,bd290ae7a99f530011891940e951b47c:1393280431,3909ce6b4a9f5300a30b284f594c59c1:-334336576,40e88e6bfe9f5300a249c3dd64c06d5a:-1944966971,ddc80ae7259f5300e36c5b113e01b76a:1385936361,fa580ea3d69f5300653512489d38f87d:1615891668,6d288e63dd9f5300f6e3aa4b3e9cb9da:855066148,e4564aefa75f53004670161a71683666:87884391,2e164eaf7b5f5300bc1321a1dd089a71:-1949820762,f0160ae72d9f5300d15b258d5377f21e:-801260192,7f06752f815f530013f6dcb66935ad63:87884391,bbd5f12f215f530084ed4a7cdd65f4a3:-1794740989,d2c5b12fd25f5300270ab058f3be91ba:1572746511,2d53292b501f5300c48f3df4a6a0c7a2:1340925273,d623a5efbd1f5300f83795449e2d5f05:1321084429,d92365ef681f53009eed1f3f274f37ad:-1502926394,9ca26daf691f5300a04cf421990b7891:-1609222554,919225afe91f5300c174d4ab8563e19b:1825376647,9e72e5af001f53008aa1d8292ada1066:-1043912247,6752e56fd71f5300485cd783c7d2af88:1499609098,3d42a927e61f53006595484a1a3b1b0e:-1212554102,0b226d6fd31f53009dd364cfbd85b8c7:-1841736342,5b12692f221f5300f6750163b5ba2426:4736489,80126dab791f530028c62e4b76c5feda:1750580072,82f1e56fcc1f53007e8e112b92058675:-106057048,9be16d2fa21f5300af7c99fc9bfc135f:2067681391,17c1e1eb1c1f5300d821138645a4b85b:-1851900631,a091adabe81f5300afab58f622d2ffce:-106057048,c4816dabca1f530005e20859304076d4:1892950694,9b21e5abca1f53002dcb552845c91413:1430152648,3211a5ab341f5300a772fd07379af135:-1558679590,cff0292bb51f5300e0c5bb28383be7c5:588930243,f3aeaa19b91b9300aa0b0e53476e80ef:-871582207,0633160de011134032cd9145bb685211:-876465940,f3aeaa19b91b9300aa0b0e53476e80ef:-871582207,f3aeaa19b91b9300aa0b0e53476e80ef:-871582207,838c6655eb1b93005219a5f8f3fa6edf:609949665,1eeb2a151b1b9300a6cb92e656c57780:-1767042503,2ccb66d1a11b9300c7c2dffbbb10d431:-1788557490,879baad1fd1b930097031f09bac25acf:-425895689,0a6ba215381b93007d8fa5befa7fa3c3:1266842752,bdfae6d1c81b93002ebe07e2d94aa4ee:-414337529,6feae691721b93001431e9dd1f99b74c:664943181,5baa6e91da1b930024718af9736fde8b:-1228542650,a6e00124d7031b00c4d1b5f8b2645526:629995541,e32041200b031b006a3fa93b4db54747:344965778,5a49d4c3842e1f006e604360c2432123:-1749245678,0633160de011134032cd9145bb685211:-876465940,2cd9e9e03edd1f00b552afc6f47043ab:-1027339250,c2a929a03add1f0035483f8384329a74:1765632768,8469ada8dd9d1f00d085412e6659d9aa:1310395403,3c2969605bdd1f001a90d5079e35e595:-688255449,1f38a1a0e2dd1f001610f75915bd9e6b:-1996721107,e318ad6041dd1f001b196eba7ccf2709:1467454029,16b7a520c7dd1f00e8a796595b71dd51:-938667929,8117616009dd1f00546db558ceffd4b6:1586626387,6db62d20f0dd1f007d814f77c8d5d7ca:-1895817030,64862120ebdd1f0010f3c919062659f6:1586626387,ca46a52058dd1f00e96f9a5af1b5594a:426284553,65a5adecab9d1f0050bd3082ed669a15:-2141018051,cd752deca89d1f00e7d46002d4666d2f:746947285,1364a1ac3a9d1f00ef3f716fb5f90cec:2030126803,d73461ac1e9d1f00bb7fb789590c8b11:1492711655,2f1461e86f9d1f00268c64b37eeab857:1382643181,c704a92c659d1f00020f2fdeffa419d4:-659569008,00a3656c959d1f00717fb6a29cc764d7:863524939,4a63616cb89d1f00d1c116012633d12d:870979499,5a13a92c559d1f00e0d2e615a7c65ddd:-1325414716,8913612c419d1f004c548cb7bad58414:2018727972,750365e8c09d1f009e3479627612fa2a:640642503,a0d2e968029d1f00bc15ddb11030ae08:207694561,34b1a1e42a9d1f009f62f8781f0a482f:1794989280,d14121688b9d1f004af53f6aa6a063f2:-4563488,e51129681e9d1f00137b0c9c67b93d03:-152774548,8780e1a4239d1f001da35cb72d548cb0:57200893,9a20e968a79d1f00bd19a37321a8a301:50759594,a46f11686c9d1f0015491fdb6663e1e6:896026811,520fd1e8bd5d1f0010901d2e16be2734:1390877635,3dbe59e4f39d1f00c8891ed6a6721308:1283056168,68cd59e41f9d1f00b604be17077a7c01:-1580718378,973d99acc35d1f00b4b4d2e841e1bca1:-1898048799,d9dc51a4139d1f00633e4adbe96b5f8d:-2040062220,accc1124139d1f00d56afb6573f26248:-1271617473,533c9560b59d1f00aa8076003464271f:-1517741531,7c0cdde0c69d1f0021b55f94cb058bce:-120511095,39c855a08c9d1f0034083c5a8124e499:329646761,2e98d5e0999d1f00b0a449bb388c728f:123238215,061859acf45d1f004da1bf829195adbf:36703271,db4251ec7b5d1f00d2f4016ccc116355:-1306234201,89d151ac955d1f006b29a214784c48ba:904689287,39b1d1acc35d1f00c92fb7269eb41ceb:-1489052376,4d9195ac205d1f00380984e1a6461ea6:-279844796,df619d6cbb5d1f00b268a2a58f79c162:-103584463,1131d1ac375d1f00c403a4a5de2d86e5:604828036,83f0156c105d1f00c60cc507a96376df:-103584463,8cff816c325d1f0011ef096574ac5b1b:1122678797,a1df89a4eb5d1f004bfc9711b944d682:877180125,858f4568495d1f00b973e4dc387a6f39:-74865290,52e72897ea8d5b00791d7b27447a0f10:1292429165,a5f2ec130c8d5b0038621df4a3cdf8eb:-1708271084,75a2e093968d5b00817b856e5268544a:1710008432,2e92a093ba8d5b0099687cba54bd7cc1:851877809,ff626093608d5b0021b9b039c4ed5c26:955307484,b7f1e453318d5b005f9bce717377c5e5:-2129282262,72b160131c8d5b00a7bc370c152f18ef:957900521,12816053098d5b00f3c13c6e12d5cbef:649632329,fd71e4530c8d5b00bf0c53b821be4dde:-1399985989,fc71e453ab8d5b001a0b800929278395:-771768522,4851a4534a8d5b00110abb5c35339f6a:-1203814213,5d506013118d5b000b79c1d8398f126b:-1179671339,c6856bbae1c59b00ce0677d850c51da1:1165473759,2184af7ad5c59b00f985034fcb49321b:-589876514,40546b7a4fc59b000e72ea372894da81:-1102821960,fe146b3a1cc59b005d72fa2facd90326:-1497756591,14f3eff6aec59b0009ece4d522da5308:-244225922,7493ab3a27c59b008d018dd9d9a0ecae:784250367,d3636b3a34c59b003f69935b159cec20:367955743,fec2233a34c59b00bcbbd16f529ad13a:-1887620841,b8a167f64bc59b000a9f136b27893d4e:1165883701,6341e3b273c59b00194d9b83fc7cf6c2:1927349050,e721ebb65bc59b0096ea187052f72705:-2119801812,6f8027b267c59b00be98a084db02cbb9:-1147745874,67606f76b8c59b00e43b55947cef642d:1210562843,2d60e33679c59b002d5c7e9b14fdfae8:-832666421,b540ab7685c59b001e4fbdda0c5ea44b:-1830504674,4110af72aec59b00f5c884de66c8395b:-1147745874,5bf5933e96859b00984ce8a1c5bb09fe:902667823,c4d59bbab5859b00a5cc2094410b3509:710417225,59959fbaf0859b00d49d50cd2adaa73b:562353175,400513fa7a859b0054d27d79897d9e63:1796277541,6c28128cb2f813003002a8305806ab2b:633250117,c2f7528ce9f81300fb4d3ee43c2fa324:-838882044,8dfd55c45f374700b89636cf606bf65e:-853082806,f4a0cdb622238300c2aee6eba7217b20:-1902077762,fa592c32d0ef4300cc5f26691a0b3af5:-433521433,d7b82c32deef430070a3bf5a24dd60cc:1594888134,e1f7203272ef4300b8287e6137952a22:-2037396704,3b47283226ef4300301fef0e2260351f:-429734960,ff372cbe2caf43002aa7d53db99bec13:1063368278</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_509b3370dba6ba0054d8ff621f961950</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, spUtil, $http) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};
	c.columns = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Project Name',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.tasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.tasks = c.data.tasks.sort(compareRows);
		}
	};
	//start client JS	 
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	
	// register setSelectedGDSRow
	window.setSelectedGDSPsoRow = function(id) {
		var matches = c.data.tasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.tasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	var names=['investigator','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther'];
	var textFields = ['investigator','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther']; 
	var my_sys_id = c.data.info.my_sys_id;
	var sessionId = c.data.info.session_id;
	$scope.viewItem = function(id, gdsp_id){
		$('#refresh').val('0');
		var data = {
			requestedid: id	
		};
		var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/fetchSubmittedRequestData',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			cleanDisplayDiv();
			$('#displayRequestId').html(gdsp_id);
			var variables = result.variables;
			var comments = result.comments;
			var comment_str = parse(comments);
			$('#commentReviewId1').empty();
			$('#commentReviewId1').append(comment_str);
			if(comment_str.length &lt; 137){
            $('#pre_comments_div').hide();
            $('#comments_div').hide();
      }else{
          $('#pre_comments_div').show();
          $('#comments_div').hide();
      }
			resetRequestValue();
			loadSubmittedData(variables);
			$('#displayRequests').modal('show').on('shown.bs.modal', function(){$('#displayRequests .modal-content').scrollTop(0);}); 
			$('#closeButton').show();
			$('#sd_div').hide();
			$('#submitButton').hide();
		}
		function handleError(response) {
			console.error(response);
			$confirm.modal('hide');
			alert('ERROR');
		}			
	};
	$scope.report = function(id, gdsp_id){
		$('#refresh').val('0');
		window.open('$sp.do?id=gdsp_report_page&amp;itemId='+id+'&amp;ticket='+gdsp_id, '_BLANK');
	};
	function cleanDisplayDiv(){
		$('#pre_comments_div').hide();
		$('#closeButton').hide();
		$('#comments_div').hide();
		$('#submitButton').hide();
	}
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
		}
		commentsblock = commentsblock + "&lt;/table&gt;";
		return commentsblock;
	}	
	
	function loadSubmittedData(data){
	  for(key in data){
			var value = getValue(key, data[key]);
			$('#'+key+"1").html(value);
		}
	}
	
  function getValue(name, value){
     if(textFields.indexOf(name) != -1 ){ 
        if(name == 'date'){
           return getConvertedValue(value, '1');
        }else{
           return value;
        }
     }else{
        if(value == "true"){
           return '&lt;input type="checkbox" id="'+ name +'1" checked="true" disabled="true"/&gt;';
        }else{
           return '&lt;input type="checkbox" id="' + name+ '1" disabled="true"/&gt;';
        }
        return value; 
     }
  }	
	
	function getConvertedValue(value, flag){
		 if(flag == '0'){
				var values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				var values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}		
	
 function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
      if(textFields.indexOf(names[i]) != -1 ){ 
            $('#'+names[i] + "1").html('');
      }else{
				   $('#'+names[i] +"1").html('&lt;input type="checkbox" id="'+ names[i] +"1" + '" disabled="true"/&gt;');
           $('#'+names[i] + "1").prop('checked', false); 
		       $('#'+names[i] + "1").removeAttr("disabled");
      }
    }
  }	
	
	spUtil.recordWatch($scope, "sc_req_item", "", function(name, data) {  
			spUtil.update($scope);
	});
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.form-control1 {
    display: block;
    width: 20%;
    height: 30px;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857;
    color: #555555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-pso-table&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS PSO table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.info = []; 
	data.tasks = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	data.info.session_id = session_id;
	data.info.my_sys_id = my_sys_id;
	var gr = gs.getUser();
	var isPSO = gr.isMemberOf('CCR_PSO');
	
	var gr1 = new GlideRecord("sc_cat_item");
			gr1.addQuery("short_description", "CCR Genomic Data Sharing Plan");
			gr1.query();	
			gr1.next();
	var cat_item_id = gr1.getValue('sys_id');
	
	if(isPSO){
	   var gr_requested_items = new GlideRecord('sc_req_item');
     var gd_requested_items = gr_requested_items.addQuery('context.stage.name', 'Completed');
     var gc_requested_items = gr_requested_items.addQuery('cat_item', cat_item_id);
         gr_requested_items.addActiveQuery();
         gr_requested_items.orderByDesc('number');
         gr_requested_items.query();		
		
		 while (gr_requested_items.next()){
         var orginId = '';
         var tickerNum = '';
         var org_ticket_num = '';
         var version = '';
         var hasParent = '';
         var selectedOrginId = '';
                      
         selectedOrginId = gr_requested_items.contact_type;
                      
         if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web'){
              orginId = gr_requested_items.sys_id;
              org_ticket_num = gr_requested_items.number;
              hasParent = 'false';
          }else{
              var orgIds = selectedOrginId.split("=");
              var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
              gr_tracking_item.addQuery('u_orgid',orgIds[0]);
              gr_tracking_item.query();

              if(gr_tracking_item.getRowCount() &gt; 0){
                  gr_tracking_item.next();
                  orginId = gr_tracking_item.u_orgid;
                  org_ticket_num = gr_tracking_item.u_ticket_number;
                  version = orgIds[1];
                  hasParent = 'true';
               }else {
                  orginId = gr_requested_items.sys_id;
                  org_ticket_num = gr_requested_items.number;
                  hasParent = 'false';
						   }
          }		
          if(hasParent == 'true'){
               ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
          }else{
               ticketNum = 'CCR_GDSP' + org_ticket_num.substring(8);
          } 
			
					var items = {};
			    items.sys_id = gr_requested_items.sys_id.toString();
					items.gdsp_id = ticketNum;
					items.principal_investigator = gr_requested_items.u_investigator.toString();		 
					items.project_name = gr_requested_items.u_project_name.toString();
					items.status = gr_requested_items.context.stage.name.toString();
					items.approval = gr_requested_items.context.stage.name.toString();
					items.submitted_date = gr_requested_items.sys_created_on.toString();
					data.tasks.push(items);
		 }
		
	}

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-03 14:54:30&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;509b3370dba6ba0054d8ff621f961950&lt;/sys_id&gt;&lt;sys_mod_count&gt;28&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS PSO table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_509b3370dba6ba0054d8ff621f961950&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-17 22:34:10&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div class="panel panel-success panel-area" ng-show="c.data.tasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_psoItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsepsoItems" aria-expanded="true" data-target="#collapsepsoItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Approved Genomic Data Sharing Plan &lt;span class="badge" id="ritm_count"&gt;{{ c.data.tasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_psoItems" class="panel-collapse collapse in table-responsive" id="collapsepsoItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
         &lt;tr&gt;
          &lt;td colspan="6"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_completedGDSP" class="label-hidden"&gt;Search:&lt;/label&gt;
          		&lt;input id="search_completedGDSP" type="text" class="form-control1" ng-model="searchCompletedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;          
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt; 
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.tasks | filter:searchCompletedGDSP"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id="{{row.sys_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td style="white-space:nowrap;"&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="viewItem(row.sys_id, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="report(row.sys_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize11"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize11" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
          &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
       &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.tasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>724270800</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>968b77dfdbcb2f00b86770c08c961971</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167be4e21f40000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS PSO table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>6b9bdb3fd7d6ef00b2f2616b829498dd</update_guid>
<update_guid_history>6b9bdb3fd7d6ef00b2f2616b829498dd:724270800,16e8d7bb42d6ef005d29eb38734f9b73:1144017840,83f377c1daa7970026640bc2c131f46c:-954632112,e8b0f7cd6e6797004ea44a95c865cc46:1602276031,5517a349f167970041c9cc9756c88ea5:332103527,1cc2df389be75700e0e1339cd9bc25a3:1615114757,951d4bb098e757002e94edda50599adc:-2067907137,970d83b078e75700ced7229b7accaf00:2039143981,b50d47b015e757007419003d8a9f6508:-1671576082,f6036a70036757001fc56435ab1cbb77:1894690898,73f26a7079675700484f8f68886fb510:-1047982505,0477dda3991f5300f58c65d247a90e62:-1390189977,a3398975b9a7cf00b552da448b09c5b8:-1547177683,a3398975b9a7cf00b552da448b09c5b8:-1547177683,a3398975b9a7cf00b552da448b09c5b8:-1547177683,723941b518a7cf0002b53d281c6fea8a:1130436326,1457984720:1457984720,-1559011093:-1559011093,-1455112276:-1455112276,-1034589124:-1034589124</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_1a0e411ddbf64f00f59974131f96194e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($rootScope, $scope, spUtil, $http, $window) {
  /* widget controller */
  var c = this;

	c.pagination0 = {
        //pageDisplayLimit: 4,
        numPages: 0,
        //pageIndexes: ['first', 'previous', 'next', 'last'],
        pageSizes: [5, 10, 15, 20, 25],
        currentSize: 1,
        currentPage: 0
    };

    c.columns0 = [{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
    ];

    c.getRange0 = function() {
        var currentSize = c.pagination0.currentSize;
        var currentPage = c.pagination0.currentPage;

        var offset = currentSize * currentPage;

        return new Array(Math.ceil(c.data.icSignTasks.length / currentSize));
    };

    c.setPage0 = function(index) {
        c.pagination0.currentPage = index;
    };

    c.toggleSort0 = function(index) {
        var column = c.columns0[index];
        var key = column.key;

        // if sorting is defined, then we can toggle this column
        if (column.sort !== null) {

            var sortAscending = column.sort === 'asc';

            column.sort = sortAscending ? 'desc' : 'asc';
            sortAscending = !sortAscending;

            var compareRows = function(a, b) {
                var keyA = a[key];
                var keyB = b[key];

                // use local-compare for strings
                if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
                    return sortAscending ? keyA.localeCompare(keyB) :
                        keyB.localeCompare(keyA);
                }

                // use normal comparison for numbers
                return sortAscending ? +keyA - +keyB : +keyB - +keyA;
            };

            c.data.icSignTasks = c.data.icSignTasks.sort(compareRows);
        }
    };
	
	window.setSelectedPIRow = function(id) {
		var matches = c.data.icSignTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.icSignTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	};

    var icNames = ['certification_date', 'institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'data_access', 'display', 'frequency', 'sampleTime', 'sampleConsent', 'consent_group'];
	
	  $scope.viewSignIC = function(approval_id, request_id, ic_id){
			 $('#refresh').val('0');
       loadICDisplay(approval_id,request_id, ic_id, 'sign');
		};	

		function loadICDisplay(approval_id, request_id, ic_id, indicator){
			 $('#displayICId').html(ic_id);
        var data = {
            requestedid: request_id
        };
        var request = {
            method: 'POST',
            url: '/api/naci/gds/getSubmittedICRequestData',
            beforeSend: function(xhr) {
                xhr.setRequestHeader('X-UserToken', sessionId);
            },
            headers: {
                'Content-Type': 'application/json'
            },
            data: data
        };
        $http(request).then(handleResp, handleErr);

        function handleResp(response) {
            var result = response.data.result;
            var comments = parse(result.comments);
            var variables = result.variables;
            var i = 0;
            for (i = 0; i &lt; icNames.length; i++) {
                if (icNames[i] == 'data_access') {
                    if (variables[icNames[i]] == 'unrestricted') {
                        $("input[name=dataAccessBox1][value='unrestricted']").prop("checked", true);
                    } else {
                        $("input[name=dataAccessBox1][value='controlled-access']").prop("checked", true);
                    }
                } else if (icNames[i] == 'display') {
                    if (variables[icNames[i]] == 'yes') {
                        $('#displayBox1').prop('checked', true);
											  $('#controllaccessDiv1').show();
                    } else {
                       $('#displayBox1').prop('checked', false);
											 $('#controllaccessDiv1').hide();
                    }
                }else if (icNames[i] == 'consent_group') {
                    $('#' + icNames[i] + '1').val(variables[icNames[i]]);
                } else {
                    $('#' + icNames[i] + '1').html(variables[icNames[i]]);
                }
            }
            $('#sample_time').val(variables.sampleTime);
            $('#sample_consent').val(variables.sampleConsent);
						$('#hiddenRequestId').val(request_id);
						$('#hiddenApprovalId').val(approval_id);
            if (comments.length &gt; 137) {
                $('#commentReviewICId1').html('');
                $('#commentReviewICId1').html(comments);
                $('#pre_comments_ic_div').show();
                $('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;')
            }
            $('#submitButton1').hide();
					  if(indicator == 'sign'){
							$('#signButton1').show();
							$('#closeButton1').hide();
							$('#comments_ic_div').show();
						}else{
							$('#signButton1').hide();
							$('#closeButton1').show();
							$('#comments_ic_div').hide();
						}
            loadConsentGroupData();
					  if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
							$('#insDiv').show();
						}else{
							$('#insDiv').hide();
						}
						$('#displayICRequests').modal('show').on('shown.bs.modal', function() {
								$('#displayICRequests .modal-content').scrollTop(0);
						});
				}

        function handleErr(response) {
            console.error(response);
            alert('ERROR');
        }
		}

    function parse(allcomments) {
        var comments = allcomments.split("ENDCOMMENTS");
        var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
        for (i = 0; i &lt; comments.length; i++) {
            if (comments[i].length &gt; 40) {
                if (comments[i][0] == '\n') {
                    var lastI = 0;
                    while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n')
                        lastI++;
                    comments[i] = comments[i].substring(lastI, comments[i].length);
                }
                var t = comments[i].substring(0, 22);
                var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)') + 9, comments[i].length);
                var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57, comments[i].indexOf('(Additional comments)') + 65);
                var comm = comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
                var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)'));
                commentsblock = commentsblock + "&lt;tr&gt;";
                commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
                commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
                commentsblock = commentsblock + "&lt;td&gt;" + results + "&lt;/td&gt;";
                commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
                commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
                commentsblock = commentsblock + "&lt;/tr&gt;";
            }
        }
        commentsblock = commentsblock + "&lt;/table&gt;";
        return commentsblock;
    }	
	
	    function loadConsentGroupData() {
        var consentStr = $('#consent_group1').val();
        if (consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0) {
            $('#consentGrpDiv').hide();
        } else {
            getConsentGroups(consentStr);
        }
    }

    function getConsentGroups(consentStr) {
        var request = {
            method: 'POST',
            url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
            beforeSend: function(xhr) {
                xhr.setRequestHeader('X-UserToken', sessionId);
            },
            headers: {
                'Content-Type': 'application/json'
            },
            data: {
                consentGrp: consentStr
            }
        };
        $http(request).then(handleResponse, handleError);

     function handleResponse(response) {
            var result = response.data.result;
            var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
            for (var i = 0; i &lt; result.length; i++) {
                strTable = strTable + "&lt;tr&gt;&lt;td&gt;" + result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + result[i].use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier + "&lt;/td&gt;&lt;/tr&gt;";
            }
            strTable = strTable + "&lt;/table&gt;";

            $('#consentContentDiv').html(strTable);
            $('#consentGrpDiv').show();
        }

        function handleError(response) {
            console.error(response);
            alert('ERROR');
        }
    }
	
    //watch dog
		spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
					spUtil.update($scope);
		});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;/*disable bk logo */&amp;#13;
.bk-logo-small {&amp;#13;
   display:none;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs {&amp;#13;
    width: 100%;&amp;#13;
    float: left;&amp;#13;
    border-bottom-color: #d9d9d9;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs&amp;gt;li a {&amp;#13;
    text-align: center;&amp;#13;
    border-width: 1px 1px 0 1px;&amp;#13;
    border-style: solid;&amp;#13;
    border-color: #e0e0e0;&amp;#13;
    background: #f2f2f2;&amp;#13;
    color: #444444;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs&amp;gt;li a:hover {&amp;#13;
    background: #F9F9F9;&amp;#13;
    border-color: #d9d9d9;&amp;#13;
}&amp;#13;
&amp;#13;
.nav-tabs&amp;gt;li.active a, .nav-tabs&amp;gt;li.active:hover a {&amp;#13;
    background: white;&amp;#13;
    border-color: #d9d9d9;&amp;#13;
    border-bottom-color: transparent;&amp;#13;
    font-weight: bold;&amp;#13;
    color: #444444;&amp;#13;
}&amp;#13;
&amp;#13;
.instructions {&amp;#13;
    text-align: center;&amp;#13;
    padding: 10px 0;&amp;#13;
}&amp;#13;
&amp;#13;
.tabs-dropdown .dropdown-toggle {&amp;#13;
    border-width: 1px 1px 0 1px;&amp;#13;
    border-style: solid;&amp;#13;
    border-color: #e0e0e0;&amp;#13;
    border-radius: 4px 4px 0 0;&amp;#13;
    color: #444444;&amp;#13;
    background: #f2f2f2;&amp;#13;
}&amp;#13;
&amp;#13;
.tab-content {&amp;#13;
    padding: 10px;&amp;#13;
    width: 100%;&amp;#13;
    min-height: 300px;&amp;#13;
    -webkit-overflow-scrolling: touch;&amp;#13;
    background: white;&amp;#13;
    border-width: 0 1px 1px 1px;&amp;#13;
    border-style: solid;&amp;#13;
    border-color: #d9d9d9;&amp;#13;
    border-radius: 0 0 4px 4px;&amp;#13;
    overflow: hidden;&amp;#13;
}&amp;#13;
&amp;#13;
.tab-content .tab-pane {&amp;#13;
    color: #566473;&amp;#13;
}&amp;#13;
&amp;#13;
@media ( max-width : 480px) {&amp;#13;
    .nav-tabs&amp;gt;li {&amp;#13;
        float: none;&amp;#13;
        border: 1px solid #dddddd;&amp;#13;
    }&amp;#13;
    .nav-tabs&amp;gt;li.active&amp;gt;a {&amp;#13;
        border: none;&amp;#13;
    }&amp;#13;
    .nav&amp;gt;li&amp;gt;a:hover, .nav&amp;gt;li&amp;gt;a:focus, .nav-tabs&amp;gt;li.active&amp;gt;a, .nav-tabs&amp;gt;li.active&amp;gt;a:hover,&amp;#13;
        .nav-tabs&amp;gt;li.active&amp;gt;a:focus {&amp;#13;
        background: none;&amp;#13;
        border: none;&amp;#13;
    }&amp;#13;
}&amp;#13;
&amp;#13;
/* Reset bootstrap table*/&amp;#13;
.table &amp;gt; thead &amp;gt; tr &amp;gt; th,&amp;#13;
.table &amp;gt; tbody &amp;gt; tr &amp;gt; td,&amp;#13;
.table &amp;gt; tfoot &amp;gt; tr &amp;gt; th {&amp;#13;
    border-top: 0px;&amp;#13;
    border-bottom: 0px;&amp;#13;
}&amp;#13;
}&amp;#13;
&amp;#13;
.left td {&amp;#13;
    text-align:left;&amp;#13;
}&amp;#13;
.right td {&amp;#13;
   text-align:right;&amp;#13;
}&amp;#13;
.ldpair-results {&amp;#13;
    text-align:center;&amp;#13;
    border: 1px solid #ddd;&amp;#13;
}&amp;#13;
&amp;#13;
.center-align {&amp;#13;
    margin: 0 auto !important;&amp;#13;
    float: none !important;&amp;#13;
}&amp;#13;
&amp;#13;
.spacer {&amp;#13;
    width:10%;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
td.cell-right {&amp;#13;
    text-align: right;&amp;#13;
}&amp;#13;
td.cell-left {&amp;#13;
    text-align: left;&amp;#13;
}&amp;#13;
&amp;#13;
td.cell-center {&amp;#13;
    text-align: center;&amp;#13;
}&amp;#13;
&amp;#13;
.cell-height-small {&amp;#13;
    height: 10px;&amp;#13;
    padding:0px;&amp;#13;
}&amp;#13;
&amp;#13;
.btn-file {&amp;#13;
  position: relative;&amp;#13;
  overflow: hidden;&amp;#13;
}&amp;#13;
&amp;#13;
.btn-file input[type=file] {&amp;#13;
  position: absolute;&amp;#13;
  top: 0;&amp;#13;
  right: 0;&amp;#13;
  min-width: 100%;&amp;#13;
  min-height: 100%;&amp;#13;
  font-size: 100px;&amp;#13;
  text-align: right;&amp;#13;
  filter: alpha(opacity=0);&amp;#13;
  opacity: 0;&amp;#13;
  background: red;&amp;#13;
  cursor: inherit;&amp;#13;
  display: block;&amp;#13;
}&amp;#13;
&amp;#13;
input[readonly] {&amp;#13;
  background-color: white !important;&amp;#13;
  cursor: text !important;&amp;#13;
}&amp;#13;
/*&amp;#13;
table.ldhap,table.ldhap tr, table.ldhap th {&amp;#13;
  background-color: white !important;&amp;#13;
}&amp;#13;
*/&amp;#13;
.container {&amp;#13;
  background-color: white;&amp;#13;
}&amp;#13;
.two-by-two {&amp;#13;
  margin-bottom:0px;&amp;#13;
  width:100%;&amp;#13;
}&amp;#13;
&amp;#13;
.jumbotron {&amp;#13;
  background-color:white;&amp;#13;
  padding:10px 15px;&amp;#13;
}&amp;#13;
&amp;#13;
table.fixed {&amp;#13;
    table-layout:fixed;&amp;#13;
    width:400px;&amp;#13;
    margin-bottom:15px;&amp;#13;
}&amp;#13;
table.fixed td {&amp;#13;
    overflow: hidden;&amp;#13;
}&amp;#13;
&amp;#13;
table thead td {&amp;#13;
  font-weight:bold;&amp;#13;
  text-align: center;&amp;#13;
}&amp;#13;
&amp;#13;
.font-weight-bold {&amp;#13;
  font-weight:bold;&amp;#13;
}&amp;#13;
&amp;#13;
img.logo {&amp;#13;
    max-height:150px;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
img.loading {&amp;#13;
    height:107px;&amp;#13;
    max-height:10%;&amp;#13;
    display: block;&amp;#13;
    margin-left: auto;&amp;#13;
    margin-right: auto;&amp;#13;
}&amp;#13;
&amp;#13;
img.graph-legend {&amp;#13;
  display:block;&amp;#13;
  margin-left: auto;&amp;#13;
  margin-right: auto;&amp;#13;
}&amp;#13;
&amp;#13;
.multiselect-container &amp;gt; li {&amp;#13;
    padding-left: 50px;&amp;#13;
}&amp;#13;
.multiselect-item.multiselect-all {&amp;#13;
    padding-left: 0px;&amp;#13;
    text-decoration: underline;&amp;#13;
}&amp;#13;
.multiselect-item.multiselect-group {&amp;#13;
    padding-left: 30px;&amp;#13;
}&amp;#13;
.has-feedback .form-control {&amp;#13;
    padding-right: 0px;&amp;#13;
}&amp;#13;
.multiselect-container &amp;gt; li.multiselect-group-clickable label {&amp;#13;
    text-decoration: underline;&amp;#13;
}&amp;#13;
/* Tighten up snpchip platform list only*/&amp;#13;
/*   .btn-ldlink-multiselec  */&amp;#13;
.multiselect-container &amp;gt; li &amp;gt; a &amp;gt; label {&amp;#13;
    padding: 0px 20px 0px 40px;&amp;#13;
}&amp;#13;
&amp;#13;
.form-control-feedback {&amp;#13;
    top: 0;&amp;#13;
    right: -15px;&amp;#13;
}&amp;#13;
&amp;#13;
/* Placeholder Style */&amp;#13;
::-webkit-input-placeholder {&amp;#13;
   font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
:-moz-placeholder { /* Firefox 18- */&amp;#13;
   font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
::-moz-placeholder {  /* Firefox 19+ */&amp;#13;
   font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
:-ms-input-placeholder {&amp;#13;
    font-size: 90%;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.ffWarning {&amp;#13;
    display: none;&amp;#13;
}&amp;#13;
/*&amp;#13;
.bk-plot-canvas-wrapper {&amp;#13;
    max-width:900px;&amp;#13;
    overflow-x: scroll;&amp;#13;
}&amp;#13;
*/&amp;#13;
&amp;#13;
.haplotype {&amp;#13;
    color: black;&amp;#13;
    background:#C0C0C0; /* if a multiple grouped */ &amp;#13;
}&amp;#13;
&amp;#13;
/* LDhap Heat Map - Version 4 */&amp;#13;
/* Pastel Colors light red, light orage, light blue, and light green */&amp;#13;
/* Color Code: http://paletton.com/palette.php?uid=7000u0klLMWnHN3kBNFgZMYgZMY */&amp;#13;
&amp;#13;
.overflowx {&amp;#13;
    overflow-x:auto;&amp;#13;
}&amp;#13;
.overflowy {&amp;#13;
    overflow-y:auto;&amp;#13;
}&amp;#13;
&amp;#13;
.whats_new {&amp;#13;
    height:200px;&amp;#13;
    border:1px solid #566473;&amp;#13;
    overflow-y:auto;&amp;#13;
    margin-bottom:25px;&amp;#13;
}&amp;#13;
&amp;#13;
.table {&amp;#13;
    min-width: 0;&amp;#13;
    display: table;&amp;#13;
}&amp;#13;
.left-c {   width:auto;&amp;#13;
    display: inline-block;&amp;#13;
    vertical-align: top;&amp;#13;
}&amp;#13;
.right-c {&amp;#13;
    min-width:300px;&amp;#13;
    width:65%;&amp;#13;
    display: inline-block;&amp;#13;
    vertical-align: top;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.left-c &amp;gt; table &amp;gt; tfoot &amp;gt; tr &amp;gt; td,&amp;#13;
.right-c &amp;gt; table &amp;gt; tfoot &amp;gt; tr &amp;gt; td {&amp;#13;
    font-weight:bold;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
/* New stuff */&amp;#13;
&amp;#13;
/* Header and Footer */&amp;#13;
.header img {&amp;#13;
    /*&amp;#13;
    width: 60%;&amp;#13;
    */&amp;#13;
}&amp;#13;
.header h4 {&amp;#13;
    color: #fff;&amp;#13;
    line-height: 0.5em;&amp;#13;
}&amp;#13;
.footer {&amp;#13;
    bottom: 0;&amp;#13;
    color: #444;&amp;#13;
    padding: 25px 0;&amp;#13;
}&amp;#13;
.footer ul {&amp;#13;
    text-align: center;&amp;#13;
}&amp;#13;
.footer ul li a {&amp;#13;
    color: #444;&amp;#13;
}&amp;#13;
hr.header {&amp;#13;
    border-top: 0.5em solid #bb0e3d;&amp;#13;
    margin: 0;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
caption {&amp;#13;
    font-weight:bold;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
/* Rotate the text on SNPchip table */&amp;#13;
th.rotate {&amp;#13;
  /* Something you can count on */&amp;#13;
  height: 142px;&amp;#13;
  white-space: nowrap;&amp;#13;
}&amp;#13;
&amp;#13;
th.rotate &amp;gt; div {&amp;#13;
  transform: &amp;#13;
    translate(0px, 51px)&amp;#13;
    rotate(270deg);&amp;#13;
  width: 20px;&amp;#13;
}&amp;#13;
th.rotate &amp;gt; div &amp;gt; span {&amp;#13;
  /*border-bottom: 1px solid #ccc;*/&amp;#13;
  /*padding: 5px 10px;*/&amp;#13;
}&amp;#13;
/* These aren't needed and will be weird if transforms don't work */&amp;#13;
.csstransforms &amp;amp; th.rotate {&amp;#13;
  height: 142px;&amp;#13;
  white-space: nowrap;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
span.formw &amp;gt; label {&amp;#13;
    margin-bottom: 0px;&amp;#13;
    font-family: "Lucida Grande",Verdana,Arial,sans-serif;&amp;#13;
    font-size: normal;&amp;#13;
}&amp;#13;
&amp;#13;
.platform-checkbox {&amp;#13;
    padding: 0.2em 0.6em 0.3em;&amp;#13;
}&amp;#13;
&amp;#13;
/* From style.css&amp;#13;
https://www.broadinstitute.org/mpg/snap/ldsearch.php */&amp;#13;
&amp;#13;
.bolded {&amp;#13;
    font-weight: bold;&amp;#13;
}&amp;#13;
.underlined {&amp;#13;
    border-bottom: 1px dotted gray;&amp;#13;
}&amp;#13;
fieldset#columnAcheckbox {&amp;#13;
    min-width: 450px;&amp;#13;
}&amp;#13;
fieldset#columnAcheckbox div.row span.label, fieldset#columnBcheckbox div.row span.label, fieldset.fullwidthcheckbox div.row span.label {&amp;#13;
    padding-top: 1px;&amp;#13;
    width: 20px;&amp;#13;
}&amp;#13;
fieldset#columnBcheckbox {&amp;#13;
    min-width: 365px;&amp;#13;
}&amp;#13;
fieldset div.row span.formw select.yesno {&amp;#13;
    width: 80px;&amp;#13;
}&amp;#13;
/* Custom */&amp;#13;
&amp;#13;
fieldset#columnAcheckbox &amp;gt; div.row,&amp;#13;
fieldset#columnBcheckbox &amp;gt; div.row {&amp;#13;
    margin-left:15px;&amp;#13;
    margin-bottom:-12px;&amp;#13;
    font-weight:lighter;&amp;#13;
    color: #333;&amp;#13;
    font-family: "Lucida Grande",Verdana,Arial,sans-serif;&amp;#13;
    font-size: smaller;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
textarea:valid, .ok {&amp;#13;
    color: #555;&amp;#13;
}&amp;#13;
textarea:invalid, .error {&amp;#13;
    color: red;&amp;#13;
}&amp;#13;
.panel-body &amp;gt; h1 {&amp;#13;
    font-size: 1.7em;&amp;#13;
}&amp;#13;
/* Testing */&amp;#13;
@media screen and (max-width: 767px) {&amp;#13;
  .dataTables_wrapper .dataTables_info,&amp;#13;
  .dataTables_wrapper .dataTables_paginate {&amp;#13;
    float: none;&amp;#13;
    text-align: center; }&amp;#13;
  .dataTables_wrapper .dataTables_paginate {&amp;#13;
    margin-top: 0.5em; } &amp;#13;
}&amp;#13;
@media screen and (max-width: 640px) {&amp;#13;
  .dataTables_wrapper .dataTables_length,&amp;#13;
  .dataTables_wrapper .dataTables_filter {&amp;#13;
    float: none;&amp;#13;
    text-align: center; }&amp;#13;
  .dataTables_wrapper .dataTables_filter {&amp;#13;
    margin-top: 0.5em; } &amp;#13;
}&amp;#13;
.legend{&amp;#13;
/* css for agreement*/&amp;#13;
font-family: Arial, Helvetica, sans-serif;&amp;#13;
font-size:14px;&amp;#13;
color:#566473;&amp;#13;
font-weight: bold;&amp;#13;
}&amp;#13;
&amp;#13;
.overlay{&amp;#13;
  opacity:0.5;&amp;#13;
  background:white;&amp;#13;
  pointer-events: none&amp;#13;
}&amp;#13;
&amp;#13;
.tools-owner-title {&amp;#13;
    padding-top: 5px;&amp;#13;
    padding-bottom: 5px;&amp;#13;
    background-color: #F5FAFF;&amp;#13;
    color: #0C5C97;&amp;#13;
}&amp;#13;
&amp;#13;
.ui-dialog.ui-widget.ui-widget-content {&amp;#13;
	background:white; /* and no special background for the dialog */&amp;#13;
}&amp;#13;
.ui-widget-overlay.ui-front { /* you want this */&amp;#13;
	opacity:.10;&amp;#13;
}&amp;#13;
.modal-dialog1 {&amp;#13;
    width: 900px;&amp;#13;
    margin: 30px auto;&amp;#13;
    position: relative;&amp;#13;
}&amp;#13;
&amp;#13;
.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&amp;#13;
&amp;#13;
.overlay {&amp;#13;
  position: fixed; &amp;#13;
  width: 100%; &amp;#13;
  height: 100vh; &amp;#13;
  background-color: white; &amp;#13;
  opacity: 0.9; &amp;#13;
  z-index: 9999; &amp;#13;
  top: 0; &amp;#13;
  left: 0;&amp;#13;
  &amp;#13;
  display: flex;&amp;#13;
  align-items: center;&amp;#13;
  justify-content: center;&amp;#13;
  flex-direction: column;&amp;#13;
}&amp;#13;
&amp;#13;
.spinner {&amp;#13;
  animation: spin 2s infinite linear;&amp;#13;
}&amp;#13;
&amp;#13;
/** spin animation */&amp;#13;
@keyframes spin {&amp;#13;
  from {&amp;#13;
    transform: rotate(0deg);&amp;#13;
  }&amp;#13;
&amp;#13;
  to {&amp;#13;
    transform: rotate(359deg);&amp;#13;
  }&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gpst&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS PI Sign Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  var session_id = gs.getSessionToken();
  var my_sys_id = gs.getUserID();
	var userName = '';
	var user_item = new GlideRecord('sys_user');
        user_item.addQuery('sys_id', my_sys_id);
        user_item.query();
        user_item.next();
	if(user_item != null){
	   userName = user_item.last_name + ", " + user_item.first_name;
	}
	
  data.info = {
	 userId: my_sys_id,
	 sessionId: session_id,
	 userName: userName
  };
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		userName: userName
	};	
	
	data.icSignTasks = [];
	
	//get PI sign record
			var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
       gr_approval_items.addQuery('approver', my_sys_id); 
			 //gr_approval_items.addQuery('document_id.request.requested_for', my_sys_id);
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(stage_v == 'Wait for PI to Sign'){
					   var items = {};
									items.ic_id = ticket_number;
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();					
						 data.icSignTasks.push(items);
					}
			}
	//end of PI sign Record 
	
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-12-01 22:00:04&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;1a0e411ddbf64f00f59974131f96194e&lt;/sys_id&gt;&lt;sys_mod_count&gt;27&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS PI Sign Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_1a0e411ddbf64f00f59974131f96194e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:01:56&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div class="panel panel-success panel-area" ng-show="c.data.icSignTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_icSignItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapseIcSignItems" aria-expanded="true" data-target="#collapseIcSignItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Waiting for PI to Sign &lt;span class="badge" id="ritm_count"&gt;{{ c.data.icSignTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div aria-labelledby="heading_icSignItems" class="panel-collapse collapse in" id="collapseIcSignItems" role="tabpanel"&gt;
    &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;td colspan="9"&gt;
                    &lt;form class="form-inline"&gt;
                      	&lt;label for="search_PISignIC" class="label-hidden"&gt;Search:&lt;/label&gt;	
                        &lt;input id="search_PISignIC" type="text" class="form-control1" ng-model="searchPISignIC" placeholder="Search" /&gt;
                    &lt;/form&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;th ng-repeat="column in c.columns0 track by $index" ng-click="c.toggleSort0($index)" style="cursor: pointer"&gt;
                    {{ column.label }}
                    &lt;span class="glyphicon small" ng-class="{
                                                        'glyphicon-chevron-up': column.sort === 'asc',
                                                        'glyphicon-chevron-down': column.sort === 'desc'
                                                      }"&gt;
                                          &lt;/span&gt;
                &lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.icSignTasks | filter:searchPISignIC" ng-show="$index &gt;= c.pagination0.currentPage * c.pagination0.currentSize &amp;&amp;
                                                 $index &lt; (c.pagination0.currentPage + 1) * c.pagination0.currentSize" id="{{row.doc_id}}"&gt;
            &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
            &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.status'&gt;
                                &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA review"  title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                &lt;span ng-switch-when='Wait for PI to Sign'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for PI to sign"  title="Waiting for PI to sign"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" title="Request Submitted" Alt="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
                &lt;/span&gt;
            &lt;/td&gt;
            &lt;td&gt;
                &lt;button class="btn btn-sm btn-primary active" ng-click="viewSignIC(row.sys_id, row.doc_id, row.ic_id)" style="width: 70px; text-align: center;"&gt;
                 View
                &lt;/button&gt;
                &lt;input type="hidden" id="{{ row.sys_id }}_orginId_ic" value="{{ row.orginId}}" /&gt;
                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_num_ic" value="{{ row.org_ticket_num }}" /&gt;
                &lt;input type="hidden" id="{{ row.sys_id }}_ticket_ic" value="{{row.ic_id}}" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;

    &lt;!-- select the page size --&gt;
    &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
        &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group" ng-show="c.data.icSignTasks.length &gt; 0"&gt;
                &lt;label for="pageSize15"&gt;
                                          Items per page
                                        &lt;/label&gt;

                &lt;select id="pageSize15" class="form-control" style="display: inline" ng-init="c.pagination0.currentSize = c.pagination0.pageSizes[1]" ng-model="c.pagination0.currentSize" ng-options="sizes for sizes in c.pagination0.pageSizes"&gt;
                                        &lt;/select&gt;
            &lt;/div&gt;
        &lt;/form&gt;
        &lt;/div&gt;
    &lt;!-- select the page index (offset) --&gt;
      &lt;div class="paging-content"&gt;
        &lt;ul class="pagination" ng-show="c.pagination0.currentSize &lt; c.data.icSignTasks.length"&gt;
            &lt;li ng-repeat="index in c.getRange0() track by $index" ng-click="c.setPage0($index)"&gt;
                &lt;a href=""&gt;
                                          {{ $index + 1 }}
                                        &lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;  ]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1283639766</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>9a8b77dfdbcb2f00b86770c08c961970</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167cda3b08f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS PI Sign Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>6401ba3c296e63408a06d43832c527c1</update_guid>
<update_guid_history>6401ba3c296e63408a06d43832c527c1:1283639766,8d30fef8e06e6340162712838c98bced:999462630,74e3ee972929a340cedc649224c7cf88:-183813734,7bd3ee97a029a340ddd979435221b8b6:-234665824,5910b78d6467970089f793978e868c54:1375932460,23cfa78da6679700853ff4ec78353317:1822953330,4a96ab09f9679700a8dc8a39cc5cffbc:-652559004,16b49bb858e757006106c1aa43dde02b:1871357984,ea1ccf7081e75700e1511f5805dd410f:152092162,5c1c8f70a6e75700f42baaeb9f370ac7:150938986,9e0c8bfcf2a75700c9930f5868bfa45d:-150886583,e19e1e3c682757006d74a6fab4724024:938789023,341859e3941f53003c622368ab42ed3a:-281295037,65dfd8da467e0300dba3ab0e7e9125de:1320607553,f6d6dd15653a4f00c5322f93e075cc19:1203167921,24265dd1723a4f00637b5106ae607e0e:-159609405,cb169591a33a4f00d9bf7b4063a160f8:1050683224,95d259dd9cf64f00587450ae751a81fa:-2019635674,d1829dddb1f64f0047a07f377679a860:2035121475,251259dd83f64f00c82775134896f743:-1174835346,e680d59d4bf64f00d69312fc0ae548ba:21388517,711fc11d14f64f0072a066715685d4ca:1208683491,1dee091d75f64f0035449cfe072d510f:-1810715744,fe9e811d1af64f00f0a4fc1f6bed227f:130117337,7f8ecdd925f64f00c679922c193f6643:-1115966115,698e811d67f64f00861b79c0104d517b:-567113851,c74e051d56f64f00bb35fba1791ad0a4:946649894,911e411d8ef64f00d91d307429568912:111933152</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_angular_provider_7132c520dbee2340b86770c08c961900</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_angular_provider"&gt;&lt;sp_angular_provider action="INSERT_OR_UPDATE"&gt;&lt;name&gt;displayInformation&lt;/name&gt;&lt;script&gt;&lt;![CDATA[function displayInformation($http) {
	var names = ['investigator', 'pTitle', 'pBranch', 'email', 'phone', 'date', 'projectNumber', 'projectName', 'simpleSize', 'prospective', 'restrospective', 'human', 'nonHuman', 'germLine', 'somatic', 'dnaType', 'rnaType', 'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression', 'methylationArray', 'numMethylation', 'arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository', 'phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation', 'limitedOnly', 'limitedPurpose', 'relateToDisease', 'orginId', 'version', 'rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator', 'pTitle', 'pBranch', 'email', 'phone', 'date', 'projectNumber', 'projectName', 'simpleSize', 'specifyOtherType', 'spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument', 'specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version', 'numSNP', 'numExpression', 'numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh', 'numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var icNames = ['certification_date', 'institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'data_access', 'display', 'frequency', 'sampleTime', 'sampleConsent', 'consent_group'];

	this.displayGDSP = function(id, gdsp_id){
			$('#refresh').val('0');
			var data = {
				requestedid: id
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gdspapi/fetchSubmittedRequestData',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResponse, handleError);

			function handleResponse(response) {
				var result = response.data.result;
				cleanDisplayDiv();
				resetRequestValue1();
				$('#displayRequestId').html(gdsp_id);
				var variables = result.variables;
				var comments = result.comments;
				var comment_str = parse(comments);
				$('#commentReviewId1').empty();
				$('#commentReviewId1').append(comment_str);
				if (comment_str.length &lt; 137) {
					$('#pre_comments_div').hide();
					$('#comments_div').hide();
				} else {
					$('#pre_comments_div').show();
					$('#comments_div').hide();
				}
				loadSubmittedData(variables);
				$('#displayRequests').modal('show').on('shown.bs.modal', function() {
					$('#displayRequests .modal-content').scrollTop(0);
				});
				$('#closeButton').show();
				$('#submitButton').hide();
				$('#sd_div').hide();
			}

			function handleError(response) {
				console.error(response);
				//$confirm.modal('hide');
				alert('ERROR');
			}

		function cleanDisplayDiv() {
			$('#pre_comments_div').hide();
			$('#closeButton').hide();
			$('#comments_div').hide();
			$('#submitButton').hide();
		}

		function resetRequestValue1() {
			var i = 0;
			for (i = 0; i != names.length; i++) {
				if (textFields.indexOf(names[i]) != -1) {
					$('#' + names[i]).val('');
					$('#' + names[i] + "1").html('');
				} else {
					$('#' + names[i] + "1").html('&lt;input type="checkbox" id="' + names[i] + "1" + '" disabled="true"/&gt;');
					$('#' + names[i]).prop('checked', false);
					$('#' + names[i]).removeAttr("disabled");

				}
			}
			$('#withdrawCommentsId').val('');
			$('#withdrawSubmitId').val('');
			$('#saved_id').val('');
		}		
		
		function loadSubmittedData(data) {
			for (var key in data) {
				var value = getValue(key, data[key]);
				$('#' + key + "1").html(value);
			}
		}
		
			function getValue(name, value) {
				if (textFields.indexOf(name) != -1) {
					if (name == 'date') {
						return getConvertedValue(value, '1');
					} else {
						if (name == 'investigator') {
							var temp = value.split(' ');
							$('#inFirstName').val(temp[0]);
							$('#inLastName').val(temp[1]);
						}
						return value;
					}
				} else {
					if (value == "true") {
						return '&lt;input type="checkbox" id="' + name + '1" checked="true" disabled="true"/&gt;';
					} else {
						return '&lt;input type="checkbox" id="' + name + '1" disabled="true"/&gt;';
					}
					return value;
				}
			}
		
			function getConvertedValue(value, flag) {
				if (value == '') {
					return '';
				}
				var values = '';
				if (flag == '0') {
					values = value.split('/');
					return values[0] + '-' + values[1] + '-' + values[2];
				} else {
					values = value.split('-');
					return values[0] + '/' + values[1] + '/' + values[2];
				}
			}		
	};
	this.displayIC = function(id, ic_id){
			$('#displayICId').html(ic_id);
			var data = {
				requestedid: id
			};
			var request = {
				method: 'POST',
				url: '/api/naci/gds/getSubmittedICRequestData',
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-UserToken', sessionId);
				},
				headers: {
					'Content-Type': 'application/json'
				},
				data: data
			};
			$http(request).then(handleResp, handleErr);

			function handleResp(response) {
				var result = response.data.result;
				var comments = parse(result.comments);
				var variables = result.variables;
				var i = 0;
				for (i = 0; i &lt; icNames.length; i++) {
					if (icNames[i] == 'data_access') {
						if (variables[icNames[i]] == 'unrestricted') {
							$("input[name=dataAccessBox1][value='unrestricted']").prop("checked", true);
						} else {
							$("input[name=dataAccessBox1][value='controlled-access']").prop("checked", true);
						}
					} else if (icNames[i] == 'display') {
						if (variables[icNames[i]] == 'yes') {
							$('#displayBox1').prop('checked', true);
							$('#controllaccessDiv1').show();
						} else {
							$('#displayBox1').prop('checked', false);
							$('#controllaccessDiv1').hide();
						}
					}else if (icNames[i] == 'consent_group') {
						$('#' + icNames[i] + '1').val(variables[icNames[i]]);
					} else {
						$('#' + icNames[i] + '1').html(variables[icNames[i]]);
					}
				}
				$('#sample_time').val(variables.sampleTime);
				$('#sample_consent').val(variables.sampleConsent);
				$('#hiddenRequestId').val(id);
				//$('#hiddenApprovalId').val(approval_id);
				if (comments.length &gt; 137) {
					$('#commentReviewICId1').html('');
					$('#commentReviewICId1').html(comments);
					$('#pre_comments_ic_div').show();
					$('#ic_modal_content').attr('style', 'height:800px; overflow-y:auto; overflow-x: hidden;')
				}
				$('#submitButton1').hide();
				$('#signButton1').hide();
				$('#closeButton1').show();
				$('#comments_ic_div').hide();
				loadConsentGroupData();
				//if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
				$('#insDiv').show();
				//}else{
				//	$('#insDiv').hide();
				//}
				$('#displayICRequests').modal('show').on('shown.bs.modal', function() {
					$('#displayICRequests .modal-content').scrollTop(0);
				});
			}

			function handleErr(response) {
				console.error(response);
				alert('ERROR');
			}
		
			function loadConsentGroupData() {
				var consentStr = $('#consent_group1').val();
				if (consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0) {
					$('#consentGrpDiv').hide();
				} else {
					getConsentGroups(consentStr);
				}
			}
			function getConsentGroups(consentStr) {
				var request = {
					method: 'POST',
					url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
					beforeSend: function(xhr) {
						xhr.setRequestHeader('X-UserToken', sessionId);
					},
					headers: {
						'Content-Type': 'application/json'
					},
					data: {
						consentGrp: consentStr
					}
				};
				$http(request).then(handleResponse, handleError);

				function handleResponse(response) {
					var result = response.data.result;
					var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
					for (var i = 0; i &lt; result.length; i++) {
						var use_limit = result[i].use_limit;
						if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
							use_limit = use_limit + " [ "+ result[i].data_field +" ] ";
						}
						strTable = strTable + "&lt;tr&gt;&lt;td&gt;" + result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier + "&lt;/td&gt;&lt;/tr&gt;";
					}
					strTable = strTable + "&lt;/table&gt;";

					$('#consentContentDiv').html(strTable);
					$('#consentGrpDiv').show();
				}

				function handleError(response) {
					console.error(response);
					alert('ERROR');
				}
			}		
	};
	
	function parse(allcomments) {
		  if(allcomments == null || allcomments.trim().length == 0){
				return "";
			}
			var comments = allcomments.split("ENDCOMMENTS");
			var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
			for (i = 0; i &lt; comments.length; i++) {
				if (comments[i].length &gt; 40) {
					if (comments[i][0] == '\n') {
						var lastI = 0;
						while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n')
							lastI++;
						comments[i] = comments[i].substring(lastI, comments[i].length);
					}
					var t = comments[i].substring(0, 22);
					var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)') + 9, comments[i].length);
					var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57, comments[i].indexOf('(Additional comments)') + 65);
					var comm = comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
					var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)'));
					commentsblock = commentsblock + "&lt;tr&gt;";
					commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
					commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
					commentsblock = commentsblock + "&lt;td&gt;" + results + "&lt;/td&gt;";
					commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
					commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
					commentsblock = commentsblock + "&lt;/tr&gt;";
				}
			}
			commentsblock = commentsblock + "&lt;/table&gt;";
			return commentsblock;
		}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sp_angular_provider&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-19 19:19:48&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;7132c520dbee2340b86770c08c961900&lt;/sys_id&gt;&lt;sys_mod_count&gt;21&lt;/sys_mod_count&gt;&lt;sys_name&gt;displayInformation&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_angular_provider_7132c520dbee2340b86770c08c961900&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 22:56:36&lt;/sys_updated_on&gt;&lt;type&gt;service&lt;/type&gt;&lt;/sp_angular_provider&gt;&lt;/record_update&gt;</payload>
<payload_hash>-340941456</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>9e8b77dfdbcb2f00b86770c08c96196f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167cdd5bd7d0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>displayInformation</target_name>
<type>Widget Angular Provider</type>
<update_domain>global</update_domain>
<update_guid>558d3e3809ae6340b447bbb148e6d407</update_guid>
<update_guid_history>558d3e3809ae6340b447bbb148e6d407:-340941456,48ac36f40bae6340cb326c2b1d69348d:1711064396,759519f8a16a6340df0099b4fde0872a:-303648594,4875d1f8986a63405500552a6e92f1fb:1221121678,9935d9b8bc6a634050a377acac856165:208005854,5f5491fc672a63403139940e8a1e9504:1867125550,494039acad2263405a321e6fb3bfda46:-794341397,b510f1acd42263402de4cabd9993b218:-1899945621,0c10f9acdb226340ef19eccdc0f755cc:-1952091822,43efe9acb6226340aae5bce500420ec6:1648121480,ea8f25ac0e226340e52cadfd5bf12e8d:-1720898183,313f25ac702263404d7e5c8a57f5fe87:-1412475350,220fad2c882263400c781715a54892e1:539767284,403eed2cde22634082f6fdf90b8f6f44:908931459,0dcd692c262263405dc414cb70adb25e:-34767211,137c29a8ed22634005fc9ba7c72560bd:668268163,944b61e8182263400867c0367b60c82c:-2055305440,c82349acadae23406e39456919723f6f:-865105089,7003416005ee234033c3b12e38572e0b:-2125982739,6bc2c9202eee23407450732610ee8c0e:1064221044,8c62092024ee2340d0b54e657a511f4e:9770446,f74249ac2bae23409c3ef9fb224a8ef8:-1346319238</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_df8ca36edb2f360054d8ff621f9619dc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope) {
  /* widget controller */
  var c = this;
  $scope.icNext = function () {
		var sampleTime = $('input[name=sampleTime]:checked').val();
		$('#type').val('new');
		var sampleConsent = $('input[name=sampleConsent]:checked').val();
	    $('#sample_time').val(sampleTime);
	    $('#sample_consent').val(sampleConsent);
	    $('#icQuestion').modal('hide');
		if(sampleTime == 'no' &amp;&amp; sampleConsent == 'no'){
			$('#warning').modal('show');
		}else if(sampleTime == 'yes' &amp;&amp; sampleConsent == 'yes'){
			$('#icMessage').html("&lt;i&gt;Sample collected before August 31 2015, with informed consent.&lt;/i&gt;");
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 1	
		}else if(sampleTime == 'yes' &amp;&amp; sampleConsent == 'no'){
			$('#icMessage').html("&lt;i&gt;Sample collected before August 31 2015, without informed consent.&lt;/i&gt;");
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
		  //show form 2
		}else if(sampleTime == 'no' &amp;&amp; sampleConsent == 'yes'){
			$('#icMessage').html("&lt;i&gt;Sample collected after August 31 2015, with informed consent.&lt;/i&gt;");
			$('#institutionDiv').css("display", "block");
			$('#institutionNameDiv').css("display", "block");
			$('#icForm').modal('show');
			//show form 3
		}else{
			alert("Invalid Choice!");
		}
		//get current date
		var today = new Date();
		var dd = today.getDate();
		var mm = today.getMonth()+1; //January is 0!
		var yyyy = today.getFullYear();
		if(dd&lt;10){
				dd='0'+dd;
		} 
		if(mm&lt;10){
				mm='0'+mm;
		} 
		var currentDate = mm+'/'+dd+'/'+yyyy;
		$('#certification_date').val(currentDate);
	   $('#consent_group').val('');
  };
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css/&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gqw&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS IC question Widget&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-06-27 17:21:09&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;df8ca36edb2f360054d8ff621f9619dc&lt;/sys_id&gt;&lt;sys_mod_count&gt;44&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS IC question Widget&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_df8ca36edb2f360054d8ff621f9619dc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-14 22:53:59&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="icQuestion" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;   
	&lt;div class="modal-dialog"&gt;
  	&lt;div class="modal-content" style="width:800px;"&gt;
         &lt;div class="modal-header"&gt;
               &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                   &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
               &lt;/button&gt;
               &lt;h4  class="modal-title"&gt;Intramural Certification Submission&lt;/h4&gt;
         &lt;/div&gt;      
         &lt;div class="modal-body"&gt;
      		&lt;br/&gt;
            &lt;div class="row"&gt;
              &lt;div class="col-md-8"&gt;
                &lt;label&gt;Have samples been collected before August 31, 2015?&lt;/label&gt; 
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;Yes &amp;nbsp;&lt;input type="radio" name="sampleTime" value="yes" checked/&gt;&lt;/label&gt;
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;No &amp;nbsp;&lt;input type="radio" name="sampleTime" value="no"/&gt;&lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="row"&gt;&amp;nbsp;&lt;/div&gt;  
                &lt;div class="row"&gt;
              &lt;div class="col-md-8"&gt;
                &lt;label&gt;Have and/or will samples be collected with informed consent?&lt;/label&gt;
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;Yes &amp;nbsp;&lt;input type="radio" name="sampleConsent" value="yes" checked/&gt;&lt;/label&gt;
              &lt;/div&gt;
              &lt;div class="col-md-2"&gt;
                &lt;label&gt;No &amp;nbsp;&lt;input type="radio" name="sampleConsent" value="no"/&gt;&lt;/label&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;br/&gt;
         &lt;/div&gt;
           &lt;div class="modal-footer"&gt;
                &lt;button type="button" class="btn btn-primary" 
                style="width: 70px; text-align: center;" ng-click='icNext()'&gt;Next&lt;/button&gt;
           &lt;/div&gt;       
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt; 
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-219260564</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>9e8b77dfdbcb2f00b86770c08c961972</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167aeed30590000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS IC question Widget</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>346344cbcddeaf00d840461667b69a9f</update_guid>
<update_guid_history>346344cbcddeaf00d840461667b69a9f:-219260564,553344cbbbdeaf005c208b06a6a1baf9:-1599046140,399de0c00e12e700b4cc4b7adfc45f40:-1314600387,8f83f460d8cfd700a3e52403509ee7be:1643531491,c2a2e42e23a74300b75e78b2ff57d8f2:274886611,8f83f460d8cfd700a3e52403509ee7be:1643531491,8f83f460d8cfd700a3e52403509ee7be:1643531491,d683f46098cfd70017df1c2c03631e68:-1891133109,a16330600fcfd70050416c2784655213:-282204757,c2a2e42e23a74300b75e78b2ff57d8f2:274886611,a3cbc93916a7cf001aa943855bd25633:356325975,ae18979fa6de8300aa384418ea225718:1724722102,ae18979fa6de8300aa384418ea225718:1724722102</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_module_e359ae8edbdd270054d8ff621f9619d2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="CCR GDS Z List Table">ab59ae8edbdd270054d8ff621f9619cf</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>CCR GDS Z List Tables</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>u_ccr_gds_z_list_table</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles>u_ccr_gds_z_list_table_user</roles><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>e359ae8edbdd270054d8ff621f9619d2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCR GDS Z List Tables</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_module_e359ae8edbdd270054d8ff621f9619d2</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><timeline_page/><title>CCR GDS Z List Tables</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<payload_hash>1328056860</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>a28bbbdfdbcb2f00b86770c08c961905</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18521110000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Tables</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>6f59ae8eebdd27001edfd4a09f9ee0d3</update_guid>
<update_guid_history>6f59ae8eebdd27001edfd4a09f9ee0d3:1328056860</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_ccr_gds_z_list_table_u_z_number_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_z_number" label="Z Number" language="en" table="u_ccr_gds_z_list_table"><sys_documentation action="INSERT_OR_UPDATE"><element>u_z_number</element><help/><hint/><label>Z Number</label><language>en</language><name>u_ccr_gds_z_list_table</name><plural>Z Numbers</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:23:37</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>20a9e2cedbdd270054d8ff621f9619c8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Z Number</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_ccr_gds_z_list_table_u_z_number_en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:23:37</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1181491567</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>a28bbbdfdbcb2f00b86770c08c961908</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a1862ef20000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table.Z Number</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>eca9e2ce8bdd270037af16d1490bcecc</update_guid>
<update_guid_history>eca9e2ce8bdd270037af16d1490bcecc:1181491567</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_headers_0697fe62dbe9234054d8ff621f9619f0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_headers"><sys_rest_message_headers action="INSERT_OR_UPDATE"><name>Content-Type</name><rest_message display_value="getGDSBranchName">b6b67266dbe9234054d8ff621f96197c</rest_message><sys_class_name>sys_rest_message_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 15:57:46</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>0697fe62dbe9234054d8ff621f9619f0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Content-Type</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_headers_0697fe62dbe9234054d8ff621f9619f0</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-06 15:57:46</sys_updated_on><value>application/json</value></sys_rest_message_headers></record_update>]]></payload>
<payload_hash>1261348850</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a28bbbdfdbcb2f00b86770c08c96190b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166e9be78de0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Content-Type</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>41b77e66e8e923407b977c8ac0d9b938</update_guid>
<update_guid_history>41b77e66e8e923407b977c8ac0d9b938:1261348850</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_fa408d9edb9e2f0054d8ff621f96194a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocols</description><name>u_gds_tissue_protocols</name><operation display_value="create">create</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>fa408d9edb9e2f0054d8ff621f96194a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_fa408d9edb9e2f0054d8ff621f96194a</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-99697426</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a28bbbdfdbcb2f00b86770c08c96190e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d34c0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>32408d9ee49e2f0075f255edcfd21650</update_guid>
<update_guid_history>32408d9ee49e2f0075f255edcfd21650:-99697426</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_application_beff749edb9e2f0054d8ff621f961958</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_application"><sys_ui_application action="INSERT_OR_UPDATE"><active>true</active><hint/><name>GDS Tissue Protocals</name><order/><roles>u_gds_tissue_protocals_user</roles><sys_class_name>sys_ui_application</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>beff749edb9e2f0054d8ff621f961958</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocals</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_application_beff749edb9e2f0054d8ff621f961958</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on></sys_ui_application></record_update>]]></payload>
<payload_hash>-1865798475</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a28bbbdfdbcb2f00b86770c08c961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3df924c0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>GDS Tissue Protocals</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>beff749e1a9e2f00a4e22e74e3e4a359</update_guid>
<update_guid_history>beff749e1a9e2f00a4e22e74e3e4a359:-1865798475</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>ua_table_licensing_config_f759ee8edbdd270054d8ff621f961962</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="ua_table_licensing_config"><ua_table_licensing_config action="INSERT_OR_UPDATE"><is_fulfillment>false</is_fulfillment><license_condition/><license_model>none</license_model><license_roles/><name>u_ccr_gds_z_list_table</name><op_delete>true</op_delete><op_insert>true</op_insert><op_update>true</op_update><owner_condition/><sys_class_name>ua_table_licensing_config</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>f759ee8edbdd270054d8ff621f961962</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>ua_table_licensing_config_f759ee8edbdd270054d8ff621f961962</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:29</sys_updated_on></ua_table_licensing_config></record_update>]]></payload>
<payload_hash>102262414</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a28bbbdfdbcb2f00b86770c08c961915</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185253a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>u_ccr_gds_z_list_table</target_name>
<type>Table Subscription Configuration</type>
<update_domain>global</update_domain>
<update_guid>3b59ee8e7ddd2700d0b9497ef460eb63</update_guid>
<update_guid_history>3b59ee8e7ddd2700d0b9497ef460eb63:102262414</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_gds_tissue_protocols_u_protocol_name</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="u_protocol_name" table="u_gds_tissue_protocols"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label>protocol Name</column_label><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element>u_protocol_name</element><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="String">string</internal_type><mandatory>false</mandatory><max_length>200</max_length><name>u_gds_tissue_protocols</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:25:52</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>7e70c1dedb9e2f0054d8ff621f9619f2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>protocol Name</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_gds_tissue_protocols_u_protocol_name</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:25:52</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>-300003596</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>a68bbbdfdbcb2f00b86770c08c961907</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e1ef6e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols.protocol Name</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>e09041de729e2f00f6abca65992759b6</update_guid>
<update_guid_history>e09041de729e2f00f6abca65992759b6:-300003596</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_headers_af38346adb11a70054d8ff621f9619cb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn_headers"><sys_rest_message_fn_headers action="INSERT_OR_UPDATE"><name>Content-Type</name><rest_message_function display_value="getZlist">d5f820e2db11a70054d8ff621f961926</rest_message_function><sys_class_name>sys_rest_message_fn_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-24 20:25:54</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>af38346adb11a70054d8ff621f9619cb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Content-Type</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_headers_af38346adb11a70054d8ff621f9619cb</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-24 20:25:54</sys_updated_on><value>application/json</value></sys_rest_message_fn_headers></record_update>]]></payload>
<payload_hash>-289891921</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a68bbbdfdbcb2f00b86770c08c96190a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a7c14aec0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Content-Type</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>1a68346ad211a700acd870d5843ec5cf</update_guid>
<update_guid_history>1a68346ad211a700acd870d5843ec5cf:-289891921</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_ba408d9edb9e2f0054d8ff621f961953</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocols</description><name>u_gds_tissue_protocols</name><operation display_value="read">read</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>ba408d9edb9e2f0054d8ff621f961953</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_ba408d9edb9e2f0054d8ff621f961953</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-1651689030</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a68bbbdfdbcb2f00b86770c08c96190d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d3b50000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>f2408d9e409e2f001ac0a4c4de440658</update_guid>
<update_guid_history>f2408d9e409e2f001ac0a4c4de440658:-1651689030</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_feff749edb9e2f0054d8ff621f96196b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="DELETE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>feff749edb9e2f0054d8ff621f96196b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="">3aff749edb9e2f0054d8ff621f961966</sys_security_acl><sys_update_name>sys_security_acl_role_feff749edb9e2f0054d8ff621f96196b</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocals_user" name="u_gds_tissue_protocals_user">7aff349edb9e2f0054d8ff621f961920</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-380963454</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a68bbbdfdbcb2f00b86770c08c961910</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0178d0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>3aff749edb9e2f0054d8ff621f961966</table>
<target_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>8310499eb19e2f0023a0b1c88a14ce63</update_guid>
<update_guid_history>8310499eb19e2f0023a0b1c88a14ce63:-380963454,3eff749ec09e2f00cd783830ea11c76d:1492642292</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_dc9744b8db34070054d8ff621f96195f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;getAllGDSProtocol&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var jsonArray = [];
	var userId = request.queryParams.userId.toString();
	var item = new GlideRecord('u_gds_tissue_protocols');
	    item.orderBy('u_protocol_number');
	    item.query();
	while(item.next()){
		var it = {};
		it.number = item.getDisplayValue('u_protocol_number');
		jsonArray.push(it);
	}
	

	return jsonArray;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/getAllGDSProtocol&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/getAllGDSProtocol&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-22 17:30:00&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;dc9744b8db34070054d8ff621f96195f&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;getAllGDSProtocol&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_dc9744b8db34070054d8ff621f96195f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-18 21:54:44&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-378623725</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>a68bbbdfdbcb2f00b86770c08c961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167c35062650000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>getAllGDSProtocol</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>6f2cdcd03fe2234065077cab85ea6619</update_guid>
<update_guid_history>6f2cdcd03fe2234065077cab85ea6619:-378623725,3f45c59288de2f007ee3d60cae5bce0b:1118209752,0ec4019239de2f00329ae6a3c9c230b2:-751771347,a6b24112dcde2f004f2bd0bd904ad5f0:-477939030,df18d79ffcde8300a7a17b381ecc0b0b:1455462970,df18d79ffcde8300a7a17b381ecc0b0b:1455462970</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_ccr_gds_z_list_table_u_z_number</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="u_z_number" table="u_ccr_gds_z_list_table"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label>Z Number</column_label><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element>u_z_number</element><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="String">string</internal_type><mandatory>false</mandatory><max_length>100</max_length><name>u_ccr_gds_z_list_table</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:23:37</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>0899e2cedbdd270054d8ff621f9619c0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Z Number</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_ccr_gds_z_list_table_u_z_number</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:23:37</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>-605094805</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>aa8bbbdfdbcb2f00b86770c08c961906</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a1862edc0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table.Z Number</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>e8a9e2ce4bdd2700418dea8aa5b754cb</update_guid>
<update_guid_history>e8a9e2ce4bdd2700418dea8aa5b754cb:-605094805</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_b6b67266dbe9234054d8ff621f96197c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>package_private</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description>this method  uses long orginization name to get branch's name </description><name>getGDSBranchName</name><oauth2_profile/><protocol_name/><rest_endpoint>https://userinfo-dev.nci.nih.gov/api/org/org-path/{id}</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 15:55:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>b6b67266dbe9234054d8ff621f96197c</sys_id><sys_mod_count>2</sys_mod_count><sys_name>getGDSBranchName</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_b6b67266dbe9234054d8ff621f96197c</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-06 15:58:31</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<payload_hash>1804996744</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>aa8bbbdfdbcb2f00b86770c08c961909</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166e9bf2a900000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>getGDSBranchName</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_guid>d8e77e6636e92340ae584b397d55684d</update_guid>
<update_guid_history>d8e77e6636e92340ae584b397d55684d:1804996744,28c7fa661fe92340ffed683607464648:1391642592,7327f66695e923402c8e97df5b9a3027:-1547442545</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_7b59ae8edbdd270054d8ff621f9619e3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_ccr_gds_z_list_table</description><name>u_ccr_gds_z_list_table</name><operation display_value="read">read</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>7b59ae8edbdd270054d8ff621f9619e3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_7b59ae8edbdd270054d8ff621f9619e3</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>114090328</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>aa8bbbdfdbcb2f00b86770c08c96190c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18522a60000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>3359ee8ea5dd2700330643c677435b01</update_guid>
<update_guid_history>3359ee8ea5dd2700330643c677435b01:114090328</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_b759ae8edbdd270054d8ff621f9619e0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>b759ae8edbdd270054d8ff621f9619e0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_ccr_gds_z_list_table">fb59ae8edbdd270054d8ff621f9619d9</sys_security_acl><sys_update_name>sys_security_acl_role_b759ae8edbdd270054d8ff621f9619e0</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on><sys_user_role display_value="u_ccr_gds_z_list_table_user" name="u_ccr_gds_z_list_table_user">af592ecadbdd270054d8ff621f9619d6</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1049439496</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>aa8bbbdfdbcb2f00b86770c08c96190f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a185224e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>bb59ae8eacdd27006e5b09c2491c2fe2</update_guid>
<update_guid_history>bb59ae8eacdd27006e5b09c2491c2fe2:-1049439496</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_91dee99ddbb0030054d8ff621f9619f2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;fetchUserList&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	 var users = [];
	 var searchCriteria = request.queryParams.term.toString();
	 var term = searchCriteria.split(" ");
	 var length = term.length;
	 var firstName = term[0];
	 var lastName = term.pop();

	var user_item = new GlideRecord('sys_user');
	     user_item.addQuery('first_name', 'STARTSWITH', firstName);
         if(length &gt; 1) {
			 user_item.addQuery('last_name', 'STARTSWITH', lastName);
		 }
         user_item.query();
	 //var index = 0;
     while(user_item.next()){
		 var value = user_item.getDisplayValue('first_name') + " " + user_item.getDisplayValue('last_name');
		 var label = value;
		 var id = user_item.getDisplayValue('sys_id');
		 var email = user_item.getDisplayValue('email');
		 var phone = user_item.getDisplayValue('phone');
		 var title = user_item.getDisplayValue('title');
		 var longOrg = user_item.getDisplayValue('u_long_org_division');
		 if (email) {
			 label += "  [" + email + "]";
		 }
		 
		 users.push({label: label, value: value, id: id, email: email, phone: phone, title: title, longOrg: longOrg});
		 
//		 users.push({'list':{label: label, value: value}, 'fistName': user_item.getDisplayValue('first_name'), 'lastName':user_item.getDisplayValue('last_name'), 'id': user_item.getDisplayValue('sys_id')});
     }
   
     return users;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/fetchUserList&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/fetchUserList&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-24 14:22:59&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;91dee99ddbb0030054d8ff621f9619f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;26&lt;/sys_mod_count&gt;&lt;sys_name&gt;fetchUserList&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_91dee99ddbb0030054d8ff621f9619f2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-11-06 19:56:26&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1086280836</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>aa8bbbdfdbcb2f00b86770c08c961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166ea98fc340000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>fetchUserList</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>dd5e2f2e5b6d2340e5647c9f65aa9c24</update_guid>
<update_guid_history>dd5e2f2e5b6d2340e5647c9f65aa9c24:1086280836,671e6b2ea46d234081796ba9948d29ac:-1146774882,457da72eb06d2340a62bc79d9b706ee1:-1148227480,c9cc6faa916d23402525ba55dee0e7c2:306252238,d54c6b6a0e6d2340ca91a7210a2a3bd0:-1073999410,4b64b6a26be92340f0d95f628439986e:-522293510,1f18979ffede8300684b4f21708d0aff:586865583,1f18979ffede8300684b4f21708d0aff:586865583,1f18979ffede8300684b4f21708d0aff:586865583</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_db_object_eedff09edb9e2f0054d8ff621f9619dc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_db_object"><sys_db_object action="DELETE"><access>public</access><actions_access>false</actions_access><alter_access>false</alter_access><client_scripts_access>false</client_scripts_access><configuration_access>false</configuration_access><create_access>false</create_access><create_access_controls>true</create_access_controls><delete_access>false</delete_access><extension_model/><is_extendable>false</is_extendable><label>GDS Tissue Protocols</label><live_feed_enabled>false</live_feed_enabled><name>u_gds_tissue_protocals</name><number_ref/><provider_class/><read_access>true</read_access><super_class/><sys_class_code/><sys_class_name>sys_db_object</sys_class_name><sys_class_path/><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>eedff09edb9e2f0054d8ff621f9619dc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_db_object_eedff09edb9e2f0054d8ff621f9619dc</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><update_access>false</update_access><user_role display_value="u_gds_tissue_protocals_user" name="u_gds_tissue_protocals_user">7aff349edb9e2f0054d8ff621f961920</user_role><ws_access>true</ws_access></sys_db_object></record_update>]]></payload>
<payload_hash>1845014946</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>ae8bbbdfdbcb2f00b86770c08c961905</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e07b930000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Table</type>
<update_domain>global</update_domain>
<update_guid>dd300d9e4a9e2f00f05d61cf715aeaca</update_guid>
<update_guid_history>dd300d9e4a9e2f00f05d61cf715aeaca:1845014946,8fff749ef09e2f00213061d6b5735ed1:-82700828</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_gds_tissue_protocols_u_protocol_name_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_protocol_name" label="protocol Name" language="en" table="u_gds_tissue_protocols"><sys_documentation action="INSERT_OR_UPDATE"><element>u_protocol_name</element><help/><hint/><label>protocol Name</label><language>en</language><name>u_gds_tissue_protocols</name><plural>protocol Names</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:25:52</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>a49041dedb9e2f0054d8ff621f9619b2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>protocol Name</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_gds_tissue_protocols_u_protocol_name_en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:25:52</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1556166495</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ae8bbbdfdbcb2f00b86770c08c961908</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e1ef870000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols.protocol Name</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>e49041de029e2f007d308a4fd6dd4cb7</update_guid>
<update_guid_history>e49041de029e2f007d308a4fd6dd4cb7:-1556166495</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_email_1f0265cadb99470054d8ff621f96195b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_email"&gt;&lt;sys_script_email action="INSERT_OR_UPDATE"&gt;&lt;name&gt;ccr_gds_ic_ready_to_review_wf&lt;/name&gt;&lt;new_lines_to_html&gt;false&lt;/new_lines_to_html&gt;&lt;script&gt;&lt;![CDATA[(function runMailScript(current, template, email, email_action, event) {
	var contact_type = '';
	var ticketNum = '';
	var version = '';
	var hasParent = '';
	var org_ticket_num = '';
	var variables;

	  var varown = new GlideRecord('sc_req_item');
	  varown.addQuery('sys_id', current.sys_id);
	  varown.query();

	  if(varown.getRowCount() &gt; 0){
		varown.next();
		contact_type = varown.getValue('contact_type');

		if(contact_type == '' || contact_type === undefined || contact_type == 'Web'){
			 org_ticket_num = varown.number;
			 hasParent = 'false';
		}else{
			var orgIds = contact_type.split("=");
			var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
			gr_tracking_item.addQuery('u_orgid',orgIds[0]);
			gr_tracking_item.query();
			if(gr_tracking_item.getRowCount() &gt; 0){
				 gr_tracking_item.next();
				 org_ticket_num = gr_tracking_item.u_ticket_number;
				 version = orgIds[1];
				 hasParent = 'true';
			 }	else {
				 org_ticket_num = varown.number;
				 hasParent = 'false';
			 }
		}

		if(hasParent == 'true'){
			   ticketNum = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
		}else{
			   ticketNum = 'CCR_IC' + org_ticket_num.substring(8);
		} 	
	
	  email.setFrom("CCR Genomic Data Sharing");
	   if(varown.context.stage.name == 'Waiting for GPA Review'|| varown.context.stage.name == 'Requested' || varown.context.stage.name == ''){
	     var url =  gs.getProperty('ccr_gds_ic_uri') + '/id=gds_web_application&amp;ic_gpa_itemId='+current.sys_id;
		 email.subject='Notification for Institutional Certification Review';
		  template.print('Your review of an Institutional Certification is required.  If approved please provide your electronic signature.\n\n');
		  template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');
		  template.print('IC number: ' + ticketNum + '\n');
		  template.print('Principle Investigator: ' + varown.u_investigator + '\n');
		  template.print('Study Name: ' + varown.u_project_name + '\n\n\n');
		  template.print('Go To : ' + "&lt;a href='" + url + "'&gt;" + ticketNum + "&lt;/a&gt;");
	   }else if(varown.context.stage.name == 'Waiting for SD Review' || varown.context.stage.name == 'GPA Approved'){
		  var url =  gs.getProperty('ccr_gds_ic_uri') + '/id=gds_web_application&amp;ic_sd_itemId='+current.sys_id;
		  email.subject='Notification for Institutional Certification Review and Signoff';
		  template.print('Your review of a GPA approved Institutional Certification is required.  If approved please provide your electronic signature.\n\n');
		  template.print('Action: OPTIONS - New Institutional Certification/Resubmission of Institutional Certification.\n\n');
		  template.print('IC number: ' + ticketNum + '\n');
		  template.print('Principle Investigator: ' + varown.u_investigator + '\n\n\n');
		  template.print('Go To : ' + "&lt;a href='" + url + "'&gt;" + ticketNum + "&lt;/a&gt;");	
	   }else{
		  email.subject='IC ' + ticketNum + ' is ready for review';

		  //template.print("The ticket you selected : " + ticketNum);
		  //template.print("\n\n object id: " + current.sys_id);
		  gs.logWarning("email error " + varown.context.stage.name + "-"); 
		   if (varown.context.stage.name == '') {
			  log.Warning('empty');
		   }else {
			   log.Warning('Null');
				   }

		  gs.logWarning("email error " + varown.context.stage.name + "-"); 
		  template.print("Click on the link to view the details of the request" + varown.context.stage.name);
		  template.print("&lt;a href='" + url + "'&gt;" + ticketNum + "&lt;/a&gt;"); 
	   }
	}
})(current, template, email, email_action, event);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_email&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-09-20 17:48:56&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;1f0265cadb99470054d8ff621f96195b&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;ccr_gds_ic_ready_to_review_wf&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_email_1f0265cadb99470054d8ff621f96195b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-14 22:58:49&lt;/sys_updated_on&gt;&lt;/sys_script_email&gt;&lt;/record_update&gt;</payload>
<payload_hash>941345894</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ae8bbbdfdbcb2f00b86770c08c96190b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167aef19fdd0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>ccr_gds_ic_ready_to_review_wf</target_name>
<type>Email Script</type>
<update_domain>global</update_domain>
<update_guid>e374444f7ddeaf002428fee9d811abcb</update_guid>
<update_guid_history>e374444f7ddeaf002428fee9d811abcb:941345894,2e18979fbcde830046d401ded43f4e3e:-1665793342,2e18979fbcde830046d401ded43f4e3e:-1665793342</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_3359ee8edbdd270054d8ff621f96192b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>3359ee8edbdd270054d8ff621f96192b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_ccr_gds_z_list_table">7b59ee8edbdd270054d8ff621f961925</sys_security_acl><sys_update_name>sys_security_acl_role_3359ee8edbdd270054d8ff621f96192b</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:29</sys_updated_on><sys_user_role display_value="u_ccr_gds_z_list_table_user" name="u_ccr_gds_z_list_table_user">af592ecadbdd270054d8ff621f9619d6</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1725496527</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ae8bbbdfdbcb2f00b86770c08c96190e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18523a80000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>7f59ee8eeddd27003ebf5ba4e11c892c</update_guid>
<update_guid_history>7f59ee8eeddd27003ebf5ba4e11c892c:-1725496527</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_script_a9bc255adb526f0054d8ff621f9619ce</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description&gt;gds_select2&lt;/description&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;gds_select2&lt;/name&gt;&lt;script&gt;&lt;![CDATA[/*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(a){"function"==typeof define&amp;&amp;define.amd?define(["jquery"],a):"object"==typeof module&amp;&amp;module.exports?module.exports=function(b,c){return void 0===c&amp;&amp;(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){var b=function(){if(a&amp;&amp;a.fn&amp;&amp;a.fn.select2&amp;&amp;a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&amp;&amp;b.split("/"),p=t.map,q=p&amp;&amp;p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&amp;&amp;x.test(a[g])&amp;&amp;(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&amp;&amp;o&amp;&amp;(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k&lt;a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&amp;&amp;".."===a[2]||".."===a[k-1])continue;k&gt;0&amp;&amp;(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&amp;&amp;p){for(c=a.split("/"),k=c.length;k&gt;0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l&gt;0;l-=1)if((e=p[o.slice(0,l).join("/")])&amp;&amp;(e=e[d])){f=e,h=k;break}if(f)break;!i&amp;&amp;q&amp;&amp;q[d]&amp;&amp;(i=q[d],j=k)}!f&amp;&amp;i&amp;&amp;(f=i,h=j),f&amp;&amp;(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&amp;&amp;1===d.length&amp;&amp;d.push(null),o.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(a){if(e(s,a)){var c=s[a];delete s[a],u[a]=!0,n.apply(b,c)}if(!e(r,a)&amp;&amp;!e(u,a))throw new Error("No "+a);return r[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c&gt;-1&amp;&amp;(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&amp;&amp;t.config&amp;&amp;t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&amp;&amp;(e=f(e,g),c=j(e)),e?a=c&amp;&amp;c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&amp;&amp;(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(a,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||a,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&amp;&amp;d.length?["require","exports","module"]:c,o=0;o&lt;c.length;o+=1)if(n=p(c[o],t),"require"===(k=n.f))w[o]=q.require(a);else if("exports"===k)w[o]=q.exports(a),v=!0;else if("module"===k)h=w[o]=q.module(a);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[a],w):void 0,a&amp;&amp;(h&amp;&amp;h.exports!==b&amp;&amp;h.exports!==r[a]?r[a]=h.exports:m===b&amp;&amp;v||(r[a]=m))}else a&amp;&amp;(r[a]=d)},a=c=o=function(a,c,d,e,f){if("string"==typeof a)return q[a]?q[a](c):j(p(a,l(c)).f);if(!a.splice){if(t=a,t.deps&amp;&amp;o(t.deps,t.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&amp;&amp;(d=e,e=f),e?n(b,a,c,d):setTimeout(function(){n(b,a,c,d)},4),o},o.config=function(a){return o(a)},a._defined=r,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&amp;&amp;console&amp;&amp;console.error&amp;&amp;console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&amp;&amp;("constructor"!==d&amp;&amp;c.push(d))}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&amp;&amp;(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d&gt;0&amp;&amp;(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h&lt;g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&amp;&amp;(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}}),k=0;k&lt;f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&amp;&amp;(c=[]),0===c.length&amp;&amp;c.push({}),c[0]._type=a,a in this.listeners&amp;&amp;this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&amp;&amp;this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c&lt;d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c&lt;a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e&lt;c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&amp;&amp;(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&amp;&amp;"visible"!==f)&amp;&amp;("scroll"===e||"scroll"===f||(d.innerHeight()&lt;c.scrollHeight||d.innerWidth()&lt;c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&amp;#92;","&amp;":"&amp;amp;","&lt;":"&amp;lt;","&gt;":"&amp;gt;",'"':"&amp;quot;","'":"&amp;#39;","/":"&amp;#47;"};return"string"!=typeof a?a:String(a).replace(/[&amp;&lt;&gt;"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c.__cache={};var e=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null==b&amp;&amp;(a.id?(b=a.id,a.setAttribute("data-select2-id",b)):(a.setAttribute("data-select2-id",++e),b=e.toString())),b},c.StoreData=function(a,b,d){var e=c.GetUniqueElementId(a);c.__cache[e]||(c.__cache[e]={}),c.__cache[e][b]=d},c.GetData=function(b,d){var e=c.GetUniqueElementId(b);return d?c.__cache[e]&amp;&amp;null!=c.__cache[e][d]?c.__cache[e][d]:a(b).data(d):c.__cache[e]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.__cache[b]&amp;&amp;delete c.__cache[b]},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('&lt;ul class="select2-results__options" role="tree"&gt;&lt;/ul&gt;');return this.options.get("multiple")&amp;&amp;b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('&lt;li role="treeitem" aria-live="assertive" class="select2-results__option"&gt;&lt;/li&gt;'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&amp;&amp;this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c&lt;a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length&gt;0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var c=this;this.data.current(function(d){var e=a.map(d,function(a){return a.id.toString()});c.$results.find(".select2-results__option[aria-selected]").each(function(){var c=a(this),d=b.GetData(this,"data"),f=""+d.id;null!=d.element&amp;&amp;d.element.selected||null==d.element&amp;&amp;a.inArray(f,e)&gt;-1?c.attr("aria-selected","true"):c.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(c){var d=document.createElement("li");d.className="select2-results__option";var e={role:"treeitem","aria-selected":"false"};c.disabled&amp;&amp;(delete e["aria-selected"],e["aria-disabled"]="true"),null==c.id&amp;&amp;delete e["aria-selected"],null!=c._resultId&amp;&amp;(d.id=c._resultId),c.title&amp;&amp;(d.title=c.title),c.children&amp;&amp;(e.role="group",e["aria-label"]=c.text,delete e["aria-selected"]);for(var f in e){var g=e[f];d.setAttribute(f,g)}if(c.children){var h=a(d),i=document.createElement("strong");i.className="select2-results__group";a(i);this.template(c,i);for(var j=[],k=0;k&lt;c.children.length;k++){var l=c.children[k],m=this.option(l);j.push(m)}var n=a("&lt;ul&gt;&lt;/ul&gt;",{class:"select2-results__options select2-results__options--nested"});n.append(j),h.append(i),h.append(n)}else this.template(c,d);return b.StoreData(d,"data",c),d},c.prototype.bind=function(c,d){var e=this,f=c.id+"-results";this.$results.attr("id",f),c.on("results:all",function(a){e.clear(),e.append(a.data),c.isOpen()&amp;&amp;(e.setClasses(),e.highlightFirstItem())}),c.on("results:append",function(a){e.append(a.data),c.isOpen()&amp;&amp;e.setClasses()}),c.on("query",function(a){e.hideMessages(),e.showLoading(a)}),c.on("select",function(){c.isOpen()&amp;&amp;(e.setClasses(),e.highlightFirstItem())}),c.on("unselect",function(){c.isOpen()&amp;&amp;(e.setClasses(),e.highlightFirstItem())}),c.on("open",function(){e.$results.attr("aria-expanded","true"),e.$results.attr("aria-hidden","false"),e.setClasses(),e.ensureHighlightVisible()}),c.on("close",function(){e.$results.attr("aria-expanded","false"),e.$results.attr("aria-hidden","true"),e.$results.removeAttr("aria-activedescendant")}),c.on("results:toggle",function(){var a=e.getHighlightedResults();0!==a.length&amp;&amp;a.trigger("mouseup")}),c.on("results:select",function(){var a=e.getHighlightedResults();if(0!==a.length){var c=b.GetData(a[0],"data");"true"==a.attr("aria-selected")?e.trigger("close",{}):e.trigger("select",{data:c})}}),c.on("results:previous",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a);if(!(c&lt;=0)){var d=c-1;0===a.length&amp;&amp;(d=0);var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top,h=f.offset().top,i=e.$results.scrollTop()+(h-g);0===d?e.$results.scrollTop(0):h-g&lt;0&amp;&amp;e.$results.scrollTop(i)}}),c.on("results:next",function(){var a=e.getHighlightedResults(),b=e.$results.find("[aria-selected]"),c=b.index(a),d=c+1;if(!(d&gt;=b.length)){var f=b.eq(d);f.trigger("mouseenter");var g=e.$results.offset().top+e.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=e.$results.scrollTop()+h-g;0===d?e.$results.scrollTop(0):h&gt;g&amp;&amp;e.$results.scrollTop(i)}}),c.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),c.on("results:message",function(a){e.displayMessage(a)}),a.fn.mousewheel&amp;&amp;this.$results.on("mousewheel",function(a){var b=e.$results.scrollTop(),c=e.$results.get(0).scrollHeight-b+a.deltaY,d=a.deltaY&gt;0&amp;&amp;b-a.deltaY&lt;=0,f=a.deltaY&lt;0&amp;&amp;c&lt;=e.$results.height();d?(e.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&amp;&amp;(e.$results.scrollTop(e.$results.get(0).scrollHeight-e.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(c){var d=a(this),f=b.GetData(this,"data");if("true"===d.attr("aria-selected"))return void(e.options.get("multiple")?e.trigger("unselect",{originalEvent:c,data:f}):e.trigger("close",{}));e.trigger("select",{originalEvent:c,data:f})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(c){var d=b.GetData(this,"data");e.getHighlightedResults().removeClass("select2-results__option--highlighted"),e.trigger("results:focus",{data:d,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c&lt;=2?this.$results.scrollTop(0):(g&gt;this.$results.outerHeight()||g&lt;0)&amp;&amp;this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var c=a('&lt;span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"&gt;&lt;/span&gt;');return this._tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this._tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&amp;&amp;(this._tabindex=this.$element.attr("tabindex")),c.attr("title",this.$element.attr("title")),c.attr("tabindex",this._tabindex),this.$selection=c,c},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&amp;&amp;a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),window.setTimeout(function(){d.$selection.focus()},0),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(c){a(document.body).on("mousedown.select2."+c.id,function(c){var d=a(c.target),e=d.closest(".select2");a(".select2.select2-container--open").each(function(){a(this),this!=e[0]&amp;&amp;b.GetData(this,"element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('&lt;span class="select2-selection__rendered"&gt;&lt;/span&gt;&lt;span class="select2-selection__arrow" role="presentation"&gt;&lt;b role="presentation"&gt;&lt;/b&gt;&lt;/span&gt;'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&amp;&amp;c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()})},e.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty(),a.removeAttr("title")},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("&lt;span&gt;&lt;/span&gt;")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.attr("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('&lt;ul class="select2-selection__rendered"&gt;&lt;/ul&gt;'),a},d.prototype.bind=function(b,e){var f=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){f.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!f.options.get("disabled")){var d=a(this),e=d.parent(),g=c.GetData(e[0],"data");f.trigger("unselect",{originalEvent:b,data:g})}})},d.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty(),a.removeAttr("title")},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('&lt;li class="select2-selection__choice"&gt;&lt;span class="select2-selection__choice__remove" role="presentation"&gt;&amp;times;&lt;/span&gt;&lt;/li&gt;')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d&lt;a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.attr("title",e.title||e.text),c.StoreData(f[0],"data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&amp;&amp;(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&amp;&amp;b[0].id!=this.placeholder.id;if(b.length&gt;1||c)return a.call(this,b);this.clear();var d=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(d)},b}),b.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(a,b,c){function d(){}return d.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&amp;&amp;this.options.get("debug")&amp;&amp;window.console&amp;&amp;console.error&amp;&amp;console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},d.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var d=this.$selection.find(".select2-selection__clear");if(0!==d.length){b.stopPropagation();var e=c.GetData(d[0],"data"),f=this.$element.val();this.$element.val(this.placeholder.id);var g={data:e};if(this.trigger("clear",g),g.prevented)return void this.$element.val(f);for(var h=0;h&lt;e.length;h++)if(g={data:e[h]},this.trigger("unselect",g),g.prevented)return void this.$element.val(f);this.$element.trigger("change"),this.trigger("toggle",{})}}},d.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&amp;&amp;c.which!=b.BACKSPACE||this._handleClear(c)},d.prototype.update=function(b,d){if(b.call(this,d),!(this.$selection.find(".select2-selection__placeholder").length&gt;0||0===d.length)){var e=a('&lt;span class="select2-selection__clear"&gt;&amp;times;&lt;/span&gt;');c.StoreData(e[0],"data",d),this.$selection.find(".select2-selection__rendered").prepend(e)}},d}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('&lt;li class="select2-search select2-search--inline"&gt;&lt;input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /&gt;&lt;/li&gt;');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,d,e){var f=this;a.call(this,d,e),d.on("open",function(){f.$search.trigger("focus")}),d.on("close",function(){f.$search.val(""),f.$search.removeAttr("aria-activedescendant"),f.$search.trigger("focus")}),d.on("enable",function(){f.$search.prop("disabled",!1),f._transferTabIndex()}),d.on("disable",function(){f.$search.prop("disabled",!0)}),d.on("focus",function(a){f.$search.trigger("focus")}),d.on("results:focus",function(a){f.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){f.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){f._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),f.trigger("keypress",a),f._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&amp;&amp;""===f.$search.val()){var d=f.$searchContainer.prev(".select2-selection__choice");if(d.length&gt;0){var e=b.GetData(d[0],"data");f.searchRemoveChoice(e),a.preventDefault()}}});var g=document.documentMode,h=g&amp;&amp;g&lt;=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(h)return void f.$selection.off("input.search input.searchcheck");f.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(h&amp;&amp;"input"===a.type)return void f.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&amp;&amp;b!=c.CTRL&amp;&amp;b!=c.ALT&amp;&amp;b!=c.TAB&amp;&amp;f.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;if(this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c){this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus()}},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{a=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],g=["opening","closing","selecting","unselecting","clearing"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&amp;&amp;(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f&lt;a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&amp;&amp;e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current(function(d){for(var e=[],f=0;f&lt;d.length;f++){var g=d[f].id;g!==a.id&amp;&amp;-1===c.inArray(g,e)&amp;&amp;e.push(g)}b.$element.val(e),b.$element.trigger("change")})}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){b.RemoveData(this)})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&amp;&amp;d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var d;a.children?(d=document.createElement("optgroup"),d.label=a.text):(d=document.createElement("option"),void 0!==d.textContent?d.textContent=a.text:d.innerText=a.text),void 0!==a.id&amp;&amp;(d.value=a.id),a.disabled&amp;&amp;(d.disabled=!0),a.selected&amp;&amp;(d.selected=!0),a.title&amp;&amp;(d.title=a.title);var e=c(d),f=this._normalizeItem(a);return f.element=d,b.StoreData(d,"data",f),e},d.prototype.item=function(a){var d={};if(null!=(d=b.GetData(a[0],"data")))return d;if(a.is("option"))d={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){d={text:a.prop("label"),children:[],title:a.prop("title")};for(var e=a.children("option"),f=[],g=0;g&lt;e.length;g++){var h=c(e[g]),i=this.item(h);f.push(i)}d.children=f}return d=this._normalizeItem(d),d.element=a[0],b.StoreData(a[0],"data",d),d},d.prototype._normalizeItem=function(a){a!==Object(a)&amp;&amp;(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&amp;&amp;(a.id=a.id.toString()),null!=a.text&amp;&amp;(a.text=a.text.toString()),null==a._resultId&amp;&amp;a.id&amp;&amp;null!=this.container&amp;&amp;(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&amp;&amp;(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i&lt;a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)&gt;=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&amp;&amp;(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&amp;&amp;window.console&amp;&amp;console.error&amp;&amp;(f&amp;&amp;f.results&amp;&amp;c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){"status"in d&amp;&amp;(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&amp;&amp;(c.isFunction(this._request.abort)&amp;&amp;this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&amp;&amp;(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&amp;&amp;(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&amp;&amp;null!=a.term?(this._queryTimeout&amp;&amp;window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&amp;&amp;(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&amp;&amp;(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h&lt;e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h&lt;g.length;h++){var i=g[h],j=null!=i.children&amp;&amp;!d({results:i.children},!0);if((i.text||"").toUpperCase()===(b.term||"").toUpperCase()||j)return!f&amp;&amp;(a.data=g,void c(a))}if(f)return!0;var k=e.createTag(b);if(null!=k){var l=e.option(k);l.attr("data-select2-tag",!0),e.addOptions([l]),e.insertTag(g,k)}a.results=g,c(a)}var e=this;if(this._removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&amp;&amp;(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var d=g.option(c);d.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([d])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&amp;&amp;(this.$search.length&amp;&amp;(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h&lt;g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length&lt;this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength&gt;0&amp;&amp;b.term.length&gt;this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;if(d.maximumSelectionLength&gt;0&amp;&amp;f&gt;=d.maximumSelectionLength)return void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('&lt;span class="select2-dropdown"&gt;&lt;span class="select2-results"&gt;&lt;/span&gt;&lt;/span&gt;');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('&lt;span class="select2-search select2-search--dropdown"&gt;&lt;input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /&gt;&lt;/span&gt;');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val(""),e.$search.blur()}),c.on("focus",function(){c.isOpen()||e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&amp;&amp;(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d&gt;=0;d--){var e=b[d];this.placeholder.id===e.id&amp;&amp;c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&amp;&amp;this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&amp;&amp;b){e.$results.offset().top+e.$results.outerHeight(!1)+50&gt;=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)&amp;&amp;e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&amp;&amp;b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('&lt;li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"&gt;&lt;/li&gt;'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("&lt;span&gt;&lt;/span&gt;"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(c){var d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top&lt;f.top-h.height,k=i.bottom&gt;f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&amp;&amp;(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&amp;&amp;k&amp;&amp;c&amp;&amp;(e="below"):e="above",("above"==e||c&amp;&amp;"below"!==e)&amp;&amp;(l.top=g.top-n.top-h.height),null!=e&amp;&amp;(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&amp;&amp;(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d&lt;b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch&lt;0&amp;&amp;(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)&lt;this.minimumResultsForSearch)&amp;&amp;b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",["../utils"],function(a){function b(){}return b.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},b.prototype._handleSelectOnClose=function(b,c){if(c&amp;&amp;null!=c.originalSelect2Event){var d=c.originalSelect2Event;if("select"===d._type||"unselect"===d._type)return}var e=this.getHighlightedResults();if(!(e.length&lt;1)){var f=a.GetData(e[0],"data");null!=f.element&amp;&amp;f.element.selected||null==f.element&amp;&amp;f.selected||this.trigger("select",{data:f})}},b}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&amp;&amp;c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&amp;&amp;(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&amp;&amp;(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength&gt;0&amp;&amp;(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength&gt;0&amp;&amp;(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength&gt;0&amp;&amp;(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&amp;&amp;(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&amp;&amp;null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&amp;&amp;(l.resultsAdapter=c,null!=l.ajax&amp;&amp;(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&amp;&amp;(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&amp;&amp;(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&amp;&amp;(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&amp;&amp;(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&amp;&amp;(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&amp;&amp;(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&amp;&amp;(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")&gt;0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L&lt;K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(a){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(a){l.debug&amp;&amp;window.console&amp;&amp;console.warn&amp;&amp;console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var O=k.loadPath(this.defaults.amdLanguageBase+"en"),P=new k(l.language);P.extend(O),l.translations=P}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&amp;&amp;e.children.length&gt;0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g&gt;=0;g--){null==c(d,e.children[g])&amp;&amp;f.children.splice(g,1)}return f.children.length&gt;0?f:c(d,f)}var h=b(e.text).toUpperCase(),i=b(d.term).toUpperCase();return h.indexOf(i)&gt;-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(!0,this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&amp;&amp;this.fromElement(e),this.options=c.apply(this.options),e&amp;&amp;e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&amp;&amp;(this.options.multiple=a.prop("multiple")),null==this.options.disabled&amp;&amp;(this.options.disabled=a.prop("disabled")),null==this.options.language&amp;&amp;(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&amp;&amp;(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&amp;&amp;(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),d.GetData(a[0],"select2Tags")&amp;&amp;(this.options.debug&amp;&amp;window.console&amp;&amp;console.warn&amp;&amp;console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(a[0],"data",d.GetData(a[0],"select2Tags")),d.StoreData(a[0],"tags",!0)),d.GetData(a[0],"ajaxUrl")&amp;&amp;(this.options.debug&amp;&amp;window.console&amp;&amp;console.warn&amp;&amp;console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",d.GetData(a[0],"ajaxUrl")),d.StoreData(a[0],"ajax-Url",d.GetData(a[0],"ajaxUrl")));var e={};e=b.fn.jquery&amp;&amp;"1."==b.fn.jquery.substr(0,2)&amp;&amp;a[0].dataset?b.extend(!0,{},a[0].dataset,d.GetData(a[0])):d.GetData(a[0]);var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)&gt;-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,d){null!=c.GetData(a[0],"select2")&amp;&amp;c.GetData(a[0],"select2").destroy(),this.$element=a,this.id=this._generateId(a),d=d||{},this.options=new b(d,a),e.__super__.constructor.call(this);var f=a.attr("tabindex")||0;c.StoreData(a[0],"old-tabindex",f),a.attr("tabindex","-1");var g=this.options.get("dataAdapter");this.dataAdapter=new g(a,this.options);var h=this.render();this._placeContainer(h);var i=this.options.get("selectionAdapter");this.selection=new i(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,h);var j=this.options.get("dropdownAdapter");this.dropdown=new j(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,h);var k=this.options.get("resultsAdapter");this.results=new k(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){l.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),c.StoreData(a[0],"select2",this),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&amp;&amp;a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e&lt;=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h&lt;i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&amp;&amp;k.length&gt;=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&amp;&amp;this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&amp;&amp;(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&amp;&amp;b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&amp;&amp;b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&amp;&amp;b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&amp;&amp;(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&amp;&amp;b.altKey)&amp;&amp;(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&amp;&amp;this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&amp;&amp;b.addedNodes.length&gt;0)for(var e=0;e&lt;b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&amp;&amp;(c=!0)}else b.removedNodes&amp;&amp;b.removedNodes.length&gt;0&amp;&amp;(c=!0);else c=!0;c&amp;&amp;this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===b&amp;&amp;(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&amp;&amp;this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&amp;&amp;window.console&amp;&amp;console.warn&amp;&amp;console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&amp;&amp;0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&amp;&amp;arguments.length&gt;0&amp;&amp;window.console&amp;&amp;console.warn&amp;&amp;console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&amp;&amp;window.console&amp;&amp;console.warn&amp;&amp;console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&amp;&amp;(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&amp;&amp;this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&amp;&amp;(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",c.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),c.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('&lt;span class="select2 select2-container"&gt;&lt;span class="selection"&gt;&lt;/span&gt;&lt;span class="dropdown-wrapper" aria-hidden="true"&gt;&lt;/span&gt;&lt;/span&gt;');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),c.StoreData(b[0],"element",this.$element),b},e}),b.define("jquery-mousewheel",["jquery"],function(a){return a}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(a,b,c,d,e){if(null==a.fn.select2){var f=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,g=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.GetData(this,"select2");null==a&amp;&amp;window.console&amp;&amp;console.error&amp;&amp;console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=a[b].apply(a,g)}),a.inArray(b,f)&gt;-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&amp;&amp;(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c});]]&gt;&lt;/script&gt;&lt;script_name/&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-12 22:39:24&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;a9bc255adb526f0054d8ff621f9619ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;gds_select2&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_a9bc255adb526f0054d8ff621f9619ce&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-12 22:39:24&lt;/sys_updated_on&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>1391902584</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ae8bbbdfdbcb2f00b86770c08c961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a49320670000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>gds_select2</target_name>
<type>UI Script</type>
<update_domain>global</update_domain>
<update_guid>bbdce15a32526f006e7bee731b52eae4</update_guid>
<update_guid_history>bbdce15a32526f006e7bee731b52eae4:1391902584</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_1b003feedb6d234054d8ff621f961948</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;fetchUserBranch&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

  	 var longOrg = request.queryParams.longOrg.toString();
	 var result = {};
	 var branch = '';
	 if(longOrg != null &amp;&amp; longOrg.trim().length &gt; 0){
		 longOrg = longOrg.trim();
		 longOrg = longOrg.replace(/ /g, '%20');
		 var rest = new sn_ws.RESTMessageV2('getGDSBranchName', 'getBranch');
			 rest.setStringParameterNoEscape('id', longOrg);
		 var resp = rest.execute();
		 var content = resp.getBody();
		 var obj = JSON.parse(content);
		 branch = obj[0].name;
	 }
	 if(branch == null || branch.trim().length == 0){
		 branch = 'N/A';
	 }
     result.branch = branch;
	return result;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/fetchUserBranch&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/fetchUserBranch&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-06 20:04:12&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;1b003feedb6d234054d8ff621f961948&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;fetchUserBranch&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_1b003feedb6d234054d8ff621f961948&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-11-06 20:26:47&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1603358763</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ae8bbbdfdbcb2f00b86770c08c961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166eab4c3a80000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>fetchUserBranch</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>31457fa2d9ad23408e2f63730860a1fc</update_guid>
<update_guid_history>31457fa2d9ad23408e2f63730860a1fc:-1603358763,17b0b32200ad2340991f33762a4d3efe:-1381829576,8190b3ee436d2340b94d30ba26374730:2096829747,5f10b3eee56d23407b515e046726762b:-1842662396</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_47a5f364dbe2ba00f59974131f96197a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'gdsp_id',
			label: 'GDSP ID',
			sort: 'asc'
		},
		{
			key: 'principal_investigator',
			label: 'Principal Investigator',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};

	//start client JS
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });	
	
	// register setSelectedGDSRow
	window.setSelectedGDSRow = function(id) {
		var matches = c.data.approvalTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.approvalTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	window.setSelectedGDSReviewedRow = function(id) {
		var matches = c.data.reviewedTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.reviewedTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	var names=['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber', 'projectName', 'simpleSize','prospective', 'restrospective', 'human', 'nonHuman', 'germLine','somatic', 'dnaType', 'rnaType',  'microbiome', 'mitochrondria', 'otherType', 'specifyOtherType', 'snpArrayData', 'numSNP', 'expressionArray', 'numExpression','methylationArray', 'numMethylation','arrayDerive', 'microarrayData', 'sequenceData', 'somaticSnv', 'arrayCgh', 'wholeGenome', 'wholeExome', 'targetGenome', 'targetExome', 'wholeTranscriptome', 'targetTrabscriptome', 'epigenomicMark', 'sanger', 'rrna', 'association', 'arrayDerivedExpression', 'rnaExpression', 'derivedMethylation', 'otherAnalysis', 'spcifiedOtherAnalysis', 'individual', 'aggregate', 'notApplicableDataForm', 'arrayExpress', 'cancerGenomics', 'clinVar', 'dbGap', 'dbSnp', 'dbVar', 'ena', 'genBank', 'geo', 'mgi', 'sra', 'traceArchive', 'wormbase', 'zfin', 'OtherRepository', 'specifiedRepository','phenotype', 'exposure', 'clinicalData', 'specifiedClinicalData', 'protocol', 'specifiedProtocol', 'instrument', 'specifiedInstrument', 'surveyTool', 'otherCompanion', 'specifiedCompanion', 'dataCheck', 'publication', 'otherSubmission', 'psecifiedOtherSubmission', 'noHumanData', 'noLimitation','limitedOnly', 'limitedPurpose','relateToDisease','orginId', 'version','rat', 'mouse', 'celegans', 'drosophila', 'yeast', 'yeastSpecies', 'bacteria', 'bacteriaSpecies','noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna'];
	var textFields = ['investigator','pTitle','pBranch','email','phone', 'date', 'projectNumber','projectName', 'simpleSize','specifyOtherType','spcifiedOtherAnalysis', 'specifiedRepository', 'specifiedClinicalData', 'specifiedProtocol', 'specifiedInstrument','specifiedCompanion', 'psecifiedOtherSubmission', 'orginId', 'version','numSNP','numExpression','numMethylation', 'yeastSpecies', 'bacteriaSpecies', 'noHumanOther', 'numDerivedGenotype', 'numMicroarrayData', 'numSquenceData', 'numSomaticSnv', 'numArrayCgh','numWholeGenome', 'numWholeExome', 'numTargetGenome', 'numTargetedExome', 'numWholeTranscriptome', 'numTargetedTranscriptome', 'numEpigenomic', 'numSanger', 'numRrna']; 
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var sd = c.data.info.sd;
	var gpa_asst = c.data.info.gpa_asst;
	
	//load approval records if itemId is not null
	
	c.view = function(doc_id, sys_id, state, stage, ticket_id){
		$('#refresh').val('0');
		$('#rejectError').hide();
		$('#commentId1').css("background-color", "");
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	c.report = function(sys_id, gdsp_id){
		$('#refresh').val('0');
		window.open('$sp.do?id=gdsp_report_page&amp;itemId='+sys_id+'&amp;ticket='+gdsp_id, '_BLANK');
	}
	

function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
			var result = response.data.result;
			  var variables = result.variables;
			  var comments = "";
			  comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayRequestId').html(ticket_id);
			  //reset SD selection and comments
			  $('#selectSD').val('NONE');
			  $('#commentId1').val('');
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewId1').empty();
				$('#commentReviewId1').append(comment_str);

				$('#commentId1').show();
				$('#commentId1Lable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_div').hide();
				 }else{
							 $('#pre_comments_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('GPA');
				$('#comments_div').show();
			  if(stage == 'Waiting for PI Resubmit'){
					 $('#comments_div').hide();
					 $('#submitButton').hide();
					 $('#closeButton').show();
				}else if(state == 'approved' || state.indexOf('not_required') &gt;=0 || gpa_asst){
					 $('#comments_div').hide();
					 $('#submitButton').hide();
					 $('#closeButton').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gpa){
							$('#comments_div').show();
							$('#sd_div').show();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_div').show();
							$('#sd_div').hide();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_div').show();
							$('#sd_div').hide();
							$('#submitButton').show();
							$('#closeButton').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_div').hide();
								$('#sd_div').hide();
								$('#submitButton').hide();
								$('#closeButton').show();
					 }else{
								$('#comments_div').hide();
								$('#sd_div').hide();
								$('#submitButton').hide();
								$('#closeButton').show();
					 }
				}else{
					 $('#comments_div').show();
					 $('#submitButton').show();
					 $('#closeButton').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
        $('#displayRequestId').html(ticketN);		
			  $('#displayRequests').modal('show').on('shown.bs.modal', function(){$('#displayRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
    function clearDiv(){
		$('#comments_div').hide();
		$('#sd_div').hide();
		$('#submitButton').hide();
		$('#closeButton').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
	  for(key in data){
			var value = getValue(key, data[key]);
			$('#'+key+"1").html(value);
		}
	}
	
  function getValue(name, value){
		 if(textFields.indexOf(name) != -1 ){ 
        if(name == 'date'){
           return getConvertedValue(value, '1');
        }else{
           return value;
        }
     }else{
        if(value == "true"){
           return '&lt;input type="checkbox" id="'+ name +'1" checked="true" disabled="true"/&gt;';
        }else{
           return '&lt;input type="checkbox" id="' + name+ '1" disabled="true"/&gt;';
        }
        return value; 
     }
  }	
	
	function getConvertedValue(value, flag){
		 if(flag == '0'){
				var values = value.split('/');
				return values[0]+'-'+values[1] + '-' + values[2];
			}else {
				var values = value.split('-');
				return values[0]+'/'+values[1] + '/' + values[2];
			}
	}	
	
	  function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
      if(textFields.indexOf(names[i]) != -1 ){ 
            $('#'+names[i] + "1").html('');
      }else{
				   $('#'+names[i] +"1").html('&lt;input type="checkbox" id="'+ names[i] +"1" + '" disabled="true"/&gt;');
           $('#'+names[i] + "1").prop('checked', false); 
		       $('#'+names[i] + "1").removeAttr("disabled");
      }
    }
  }	
	
spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-gps-approval-table&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS GPA Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalTasks = [];
	data.reviewedTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var gpa_asst = gr.isMemberOf('CCR_GPA_ASST');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		gpa_asst: gpa_asst,
		sd: sd
	};
	if(gpa || gpa_asst){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR Genomic Data Sharing Plan");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');

			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);
       if(!gpa_asst){
					gr_approval_items.addQuery('approver', my_sys_id); 
			 }
			 gr_approval_items.addQuery('source_table','sc_req_item'); 
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_GDSP' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_GDSP" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
							
					if(!((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'SD Rejected - Waiting for GPA Review')) &amp;&amp;  (gr_approval_items.state == 'approved' || (gr_approval_items.state = 'rejected' &amp;&amp; stage_v == 'Waiting for PI Resubmit' &amp;&amp;  gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review'))){
							if(stage_v != 'Completed' || (stage_v == 'Completed' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review')){			
										var item = {};
										item.gdsp_id = ticket_number;
										item.principal_investigator = gr_approval_items.document_id.u_investigator.toString();
										item.project_name = gr_approval_items.document_id.u_project_name.toString();
										item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
										item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
										item.status = gr_approval_items.document_id.context.stage.name.toString();
										item.last_update_date = gr_approval_items.sys_updated_on.toString();
										item.stage = stage_v.toString();
										item.sys_id = gr_approval_items.sys_id.toString();
										item.doc_id = gr_approval_items.document_id.toString();
										item.state = gr_approval_items.state.toString();
								   //this is ugly code, refactor later
								    var matches = data.reviewedTasks.filter(function(el, idx) {
											return el.gdsp_id === ticket_number;
										});
										if (matches.length) {
											var match = matches[0];
											if (new Date(item.last_update_date) &gt; new Date(match.last_update_date)) {
												var index = data.reviewedTasks.indexOf(match);
												data.reviewedTasks[index] = item;
											}
										} else { 
											data.reviewedTasks.push(item);
										}
							}
						}
							if((stage_v == 'Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for GPA Review') || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'SD Rejected - Waiting for GPA Review')){
								  var items = {};
									items.gdsp_id = ticket_number;
									items.principal_investigator = gr_approval_items.document_id.u_investigator.toString();
									items.project_name = gr_approval_items.document_id.u_project_name.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalTasks.push(items);
							}
			}
	}	
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-02 19:50:24&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;47a5f364dbe2ba00f59974131f96197a&lt;/sys_id&gt;&lt;sys_mod_count&gt;153&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS GPA Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_47a5f364dbe2ba00f59974131f96197a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-02 22:15:31&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div class="panel panel-success panel-area" ng-show="c.data.approvalTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_gpaApprovalItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaApprovalItems" aria-expanded="true" data-target="#collapsegpaApprovalItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Genomic Data Sharing Plans Waiting for GPA Approval&lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div aria-labelledby="heading_gpaApprovalItems" class="panel-collapse collapse in" id="collapsegpaApprovalItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_savedGDSP" class="label-hidden"&gt;Search:&lt;/label&gt;
          		&lt;input id="search_savedGDSP"  type="text" class="form-control1" ng-model="searchSavedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;            
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalTasks | filter: searchSavedGDSP "
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize" id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.view(row.doc_id, row.sys_id, row.state, row.stage, row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.report(row.doc_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize2"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize2" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[0]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
        &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
        &lt;div class="paging-content"&gt;
          &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalTasks.length"&gt;
            &lt;li
              ng-repeat="index in c.getRange() track by $index"
              ng-click="c.setPage($index)"
              &gt;
              &lt;a href=""&gt;
                {{ $index + 1 }}
              &lt;/a&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="panel panel-success panel-area" ng-show="c.data.reviewedTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_gpaReviewedItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsegpaReviewedItems" aria-expanded="true" data-target="#collapsegpaReviewedItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Genomic Data Sharing Plans reviewed by GPA &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_gpaReviewedItems" class="panel-collapse collapse" id="collapsegpaReviewedItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          	&lt;label for="search_submittedGDSP" class="label-hidden"&gt;Search:&lt;/label&gt;	
            &lt;input id="search_submittedGDSP" type="text" class="form-control1" ng-model="searchSubmittedGDSP" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt; 
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedTasks  | filter:searchSubmittedGDSP" 
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize" id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.gdsp_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.principal_investigator }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td &gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.view(row.doc_id, row.sys_id, row.state, row.stage,row.gdsp_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.report(row.doc_id, row.gdsp_id)"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize3"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize3" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
                ng-model="c.pagination1.currentSize"
                ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
        &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
        &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.reviewedTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange1() track by $index"
          ng-click="c.setPage1($index)"
        &gt;
          &lt;a href=""&gt;{{ $index + 1 }}&lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;
]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2053435558</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>d28b77dfdbcb2f00b86770c08c961971</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16810a2cd150000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS GPA Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>2ec0bd495ef2af40797cc4b799dc8eec</update_guid>
<update_guid_history>2ec0bd495ef2af40797cc4b799dc8eec:-2053435558,54a0b9491ef2af4099a839b5f7b212bd:-1265564929,6920b14965f2af403398e52615accef7:1380585204,0100b5099bf2af408958ba8c1a1bf2d8:2123854068,dbdf6145acf2af406e8c466144d65550:-1924791268,febfa5097af2af4018cbd051399b125c:-142944738,b59fa509daf2af404db846b4c2c07655:-1130638297,c55f2dc529f2af40b7394b2c20a97dbb:-768286146,eb0fa5c56bf2af40687c1e381903a46c:1668086912,cdfe2dc509f2af40a7802505b5714b86:-384617792,5dbe614521f2af400bf1f7aff297d965:1668086912,f9fc1ffbd2d6ef00dfdf26dad548fb3d:-850469543,d1b88773b8d6ef008c8100a672e21081:2138535384,ed69bbf2d2deaf00d4e6f4213fe35dde:198191500,3c5973b281deaf0009f32d30c85cacdb:-564204784,65497fb268deaf00349ec85f8711e9e4:-1174625438,c1197fb271deaf008d1f1d746763501e:1004085154,22d8bbb2d1deaf000129dff94d64ac2e:1284810338,72c8fffef49eaf00156aa21ee1ae889a:-742874147,e3b83bb2b3deaf004db637a6c8bb3332:1284810338,c528f3325adeaf0010371cd108afaf7e:1112561061,7b08f772eddeaf00dd3de97b2033fed6:1196935879,7087b7720bdeaf001336377b31b5ded0:559630535,8727bb32f3deaf00af6e8fef33b31152:-1279420816,7a07f372e1deaf007e4f62d50c1f19bc:-1019620917,9207f372f3deaf001caf857fbfa5f7a4:-1444879736,0c86bb325fdeaf006b86cea13cc9f660:1059081134,8276bf323cdeaf0069105d3fef132923:-1554692819,4ba4f7fe169eaf00b63b75a4fa7ea575:2069667930,c481b33e549eaf003f73640eae6a01fe:1151970897,97e03ffa7a9eaf00961ee0be289467c8:-1267981277,01e07ffa809eaf00c515e6217ed42b4b:-1153039947,7ab07bfa959eaf001275821254b44f39:-1081620013,f780b3fa8b9eaf005997450573c56f6f:1788810850,8d207fbaca9eaf00c07c76c94de734fe:1447683926,4710fb7a169eaf007d6743837285af4f:716035223,b2cf67bad09eaf0000533ae8b2caa24f:79311442,b575e4eb5c7967009ffcd8bdf0ff703b:2066094812,b14758e7506b5f0047eae16b81ad6d16:-2023116993,fef5d427626b5f0088deacb2b06f4aa1:-641977601,f2a2bfcdf3679700ef430c16ae4097c8:1050388061,260ce70da667970014e8ac58a227091b:321502134,30766b090e679700389195e043108c54:2122138466,27c35f78efe75700f4002fbde59065a3:-2011739132,11eb0f702be75700848e80635a57b1d6:-1616057106,6adb0f702ae75700239314d68415f773:-1614639982,6acbcb703ee7570050e91c48dae8fb31:1323660392,4dbbc370efe757001e7e5249398bc2d1:-1756641956,99cd9af8d627570066f6928172c8ed57:-307254211,fd6d9af8a4275700a07993aaea725d63:1590143822,273dd63ca72757000dee64e79f7f8666:1287419710,a52dd23c4227570031688dddf13f8ddd:1590143822,bb9c1ef83b27570054bd16ccd41cdeb4:-1465455292,38e615a3cb1f53002eb55b756c6007be:-1544744763,95d61963781f5300fa7cc98da35961d9:-1757530827,341650430f5b530040743f26d9fa1adb:-128674531,dfa982528dd75700ed3d9845855b0210:917402376,aeee5a80233c1300b2fbcca6362bacae:-212706499,dfa982528dd75700ed3d9845855b0210:917402376,dfa982528dd75700ed3d9845855b0210:917402376,33898ede0c97570012ed9494a0599565:-777717217,7028d1921f575700b5b65956695c5ff3:-1039173601,48975d1a88175700a55160fbdd6afd37:-2057389495,cc775912b7575700139e8e11c73e9f4d:-393100306,563ea695b11b9300d9b053f3ab72851e:-2025349379,c82e2e19b01b9300bc7df1fc3e75f4b4:993046061,aeee5a80233c1300b2fbcca6362bacae:-212706499,78fd1a404e3c13007e062f1ab1c2a70d:-240609239,05edd640333c13009e50e3552ab7ce12:854694992,b2cdd640463c13005bafdb8ffc2a1681:-1445478983,e7fc128c8ff81300b4bcfbd24d7e15f4:-796383314,73ec1a40323c130072dececd35e85306:1897852082,fe855580d9374700ab51c788b1b5e821:-447323702,c97091cc0ef347004b64416ebed8272b:-1694591112,317f858cb2f3470067a370a34a06830f:135399208,cf2f018c16f347003573ce875a8c34a4:209501476,60fe4d4c0ff347007a03bae6d4cc83d9:-973584284,85878584a2f3470028f3aa08b337df7f:209501476,be96858419f34700f6d6171a0957921c:-2078174090,2466858440f3470088a3b4169269cf29:209501476,5d56c108a6f347001edbc73c9911d46f:1134750660,704ac5f509a7cf0028b76c441c9d6864:209501476,7df88975a3a7cf008a1ef630ba6749b1:-1420212036,11e8cdf1b4a7cf0020d0c065d35557e5:-2058132418,9dfbaa9a982a870095cdaafbcafc4943:-376626880,5e4baad63f2a87004a99b343fa031a2e:1258925794,a3f63f6854a28300d882924fa4f1b9b3:-567254,0218579f77de830022ed883779dc86eb:637767122,0218579f77de830022ed883779dc86eb:637767122,0218579f77de830022ed883779dc86eb:637767122</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_15bc7770dba6ba0054d8ff621f961932</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http) {
  /* widget controller */
	var SDGROUP = 'CCR_SD';
	$('[data-toggle="popover"]').popover();   
  var c = this;
	var sessionId = c.data.info.sessionId;

		//initialize autoComplete field
	  $( "#newSD" ).autocomplete({
		 delay: 500,
     source: function(request, response){
	       var term = $('#newSD').val();
				 var temp = '';
			   if(term.indexOf(',') &gt;= 0){
					 temp = term.split(',');
					 var length = temp.length;
					 if(length &gt; 1){
						 term = temp[1].trim() + " " + temp[0].trim();
					 }else{
						 term = temp[0];
					 }
				 }	 
	       var req = {
						method: 'GET',
						url: '/api/naci/gds/fetchUserList',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
	          headers: {
								'Content-Type': 'application/json'
						},
						params: {'term': term }
					};				
				   $http(req).then(handleResponse, handleError);
					function handleResponse(responseData) {
				      var result = responseData.data.result;
							response(result);
					}
					function handleError(response) {
					  console.error(response);
						alert('ERROR');
					}    
			},
      autoFocus:true,
      select: function( event, ui ) {
				console.log(event, ui);
				var id = ui.item.id;
				$('#newSDId').val(id);
				$('#sdError').hide();
				$('#sdInfo').hide();
				$('#sdWarning').hide();
				if(id != null &amp;&amp; id.trim().length &gt; 5){
					$('#addSDBt').prop('disabled', false);
				}else{
						$('#addSDBt').prop('disabled', true);
				}
			}
  });
	
	c.data.info.sdList.unshift({
		value: 'NONE',
		label: 'Please select a scientific director'
	});

	$scope.closeDisplayModal = function(){
		$('#displayRequests').modal('hide');
	}
	
	$scope.addNewSD = function(){
		var sdName = $('#newSD').val();
		if(sdName == null || sdName.trim().length == 0){
			$('#sdError').show();
		}else{
			insertNewSD();
		}
		
	}
	
	function insertNewSD() {
		 $('#sdError').hide();
		 $('#sdInfo').hide();
		 $('#sdWarning').hide();
		 var user_id = $('#newSDId').val(); 
		 var request = {
			 url: '/api/naci/gds/addMemberIntoGroup',
			 method : "POST",
			 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			 headers: {
					'Content-Type': 'application/json'
				},
			 data : {user_id: user_id, group_name : SDGROUP}
		 }
		 $http(request).then(handleResponse, handleError);
		 function handleResponse(response){
				var result = response.data.result;
				console.log(result.status);
			  if(result.status == 'user already exist'){
					 $('#sdWarning').show();
				}else if(result.status == 'Completed'){
					 $('#sdInfo').show();
					 fetchSDlist();
				}
			}
			function handleError(response){
				console.error(response);
				alert('ERROR');
			}		
	}
	
function fetchSDlist(){
		 var request = {
			 url: '/api/naci/gds/fetchSDList',
			 method : "GET",
			 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			 headers: {
					'Content-Type': 'application/json'
				}
		 }
		 $http(request).then(handleResponse, handleError);	
		 function handleResponse(response){
				var result = response.data.result;
				console.log(result);
			  c.data.info.sdList = result; 
		}
		function handleError(response){
				console.error(response);
				alert('ERROR');
		}
}

	$scope.loadApprovalConfirm = function(){
		$('#messageGPAApproval').html('Are you sure you want to approve this request?');
		$('#confirmGPAApprovalDiv').modal('show'); 
		$('#btnYesGPAApprovalConfirm').off('click').click(function() {
			var role = $('#roleId').val();
			if( role == 'GPA'){
				if(!approvalValidation()){
					$('#gpaErrorMessage').html('');
					$('#gpaErrorMessage').hide();
					submitRequestApproval('approved', 'GPA');	
				}
			}else if(role == 'SD'){
				submitRequestApproval('approved', 'SD');
			}
			$('#confirmGPAApprovalDiv').modal('hide');
	});
		$('#btnNoGPAApprovalConfirm').off('click').click(function() {
			$('#confirmGPAApprovalDiv').modal('hide');
		});		
	}
	
	$scope.loadRejectConfirm = function(){
		//validate comments
		var comm = $('#commentId1').val();
		if(comm == null || comm.trim().length == 0){
			$('#rejectError').show();
			$('#commentId1').css("background-color", "yellow");
		}else{
			$('#messageGPAReject').html('Are you sure you want to reject this request?');
			$('#confirmGPARejectDiv').modal('show');	
			$('#btnYesGPARejectConfirm').off('click').click(function() {
				var role = $('#roleId').val();
				if(role == 'GPA'){
						submitRequestApproval('rejected', 'GPA');	
				}else if(role == 'SD' ){
						submitRequestApproval('rejected', 'SD');	
				}
				$('#confirmGPARejectDiv').modal('hide');
			});
			$('#btnNoGPARejectConfirm').off('click').click(function() {
				$('#confirmGPARejectDiv').modal('hide');
			});			
		}
	}
	function approvalValidation(){
		var sdSelected = $('#selectSD').val();
		if(sdSelected == 'NONE'){
			$('#gpaErrorMessage').html('&lt;font size="2" color="red"&gt;&lt;ul&gt;&lt;li&gt;Please select a Scientific Director&lt;/li&gt;&lt;/ul&gt;&lt;/font&gt;');
			$('#gpaErrorMessage').show();
			return true;
		}else{
			return false;
		}
	}
	function submitRequestApproval(action, role){
  //validate SD when approve the request
   var sdSelected = $('#selectSD').val();	
   var request_id = $('#hiddenRequestId').val();
   var comments = $('#commentId1').val();
   var stage = $('#hiddenStage').val();
   var variables= {};
   variables.requested_id = request_id;
   variables.requestedItem_id = $('#hiddenRequestItemId').val();
   variables.approval_comment = comments;
   variables.action = action;
   variables.role = role;
   variables.sd_id = sdSelected;
   var request = {
		 url: '/api/naci/gdspapi/updateGDSPRequest',
		 method : "POST",
		 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
		 headers: {
				'Content-Type': 'application/json'
			},
		 data : variables
	 }
	 $http(request).then(handleResponse, handleError);
	 function handleResponse(response){
			var result = response.data.result;
		  console.log(result.status);
		}
	  function handleError(){
			console.error(response);
			alert('ERROR');
		}
   $('#displayRequests').modal('hide');		
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.btn-form {
  width: 100px;
  margin-left: 50px;
}

.form-label {
  font-weight: normal
}

.full-width {
  width: 100%;
}

label.control-label {
  font-size: 14px;
  white-space: nowrap;
}

legend.scheduler-border {
  font-size: 16px;
  font-weight: bold;
}

.align-checkboxes {
  margin-top: 8px;
}

.inline-form-input {
  width: 160px;
  max-width: 160px;
  display: inline-block;
  margin-left: 8px;
}

input[type=checkbox], input[type=radio] {
  vertical-align: middle;
  position: relative;
  bottom: 3px !important;
}

input[type=radio] {
  bottom: 2px;
}

.input-xs {
  height: 24px;
  padding: 4px;
  font-size: 12px;
  line-height: 1.2;
  border-radius: 3px;
}
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gds-data-display-section&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS Data Display Section&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var sd_list = [];
	var getMembers = new GlideRecord('sys_user_grmember');
      getMembers.addQuery('group.name','CCR_SD');
      getMembers.query();
  while(getMembers.next())
  {
		 sd_list.push({
			 value: getMembers.user.toString(),
			 label: [getMembers.user.first_name, getMembers.user.last_name].join(' ')
		 });
  }	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		sdList: sd_list
	};

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-03 14:59:49&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;15bc7770dba6ba0054d8ff621f961932&lt;/sys_id&gt;&lt;sys_mod_count&gt;77&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS Data Display Section&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_15bc7770dba6ba0054d8ff621f961932&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-11-21 19:49:36&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="displayRequests" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;
  &lt;div class="modal-dialog modal-lg"&gt;
    &lt;div class="modal-content" style="height:900px; overflow-y:auto; overflow-x: hidden;"&gt;
      &lt;div class="modal-header"&gt;
		  &lt;button type="button" class="close btn btn-xs" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;x&lt;/span&gt;&lt;/button&gt;
           &lt;div&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Genomic Data Sharing Plan&lt;/b&gt;&lt;/font&gt; &lt;br/&gt;
                  &lt;b&gt;GDSP Number - &lt;span id="displayRequestId"&gt;&lt;/span&gt;&lt;/b&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
         &lt;div id="gpaErrorMessage" style="display:none;"&gt;&lt;/div&gt;
         &lt;div class="col-md-12"&gt;
  &lt;!-- start table --&gt;
         &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Principal Investigator&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
           	&lt;form class="form-horizontal"&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5 " for="investigator1"&gt;Principal Investigator&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;&lt;div id="investigator1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5 " for="pTitle1"&gt;Principal Investigator Title&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;&lt;div id="pTitle1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5 " for="pBranch1"&gt;Branch&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;&lt;div id="pBranch1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" for="email1"&gt;Email&lt;/label&gt;
                  &lt;div class="col-md-6 align-checkboxes" &gt;&lt;div id="email1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;    				
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="phone1"&gt;Phone&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="phone1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;  
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="date1"&gt;Plan Submission Date&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="date1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;           
           &lt;/form&gt;
       	&lt;/fieldset&gt;           
        &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Project Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
  					&lt;form class="form-horizontal"&gt;
            &lt;!-- project number --&gt;
            &lt;div class="form-group"&gt;
              &lt;label class="valign-top col-md-5 align-right"&gt;Intramural Project (Z01), Grant, or Contract number (if available) &lt;/label&gt;
              &lt;div class="col-md-6"&gt;
                &lt;div id="projectNumber1"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;              
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="projectName1"&gt;Study Name&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="projectName1"&gt;123&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;        
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="sampleSize1"&gt;Plan enrollment/Sample Size&lt;/label&gt;
                &lt;div class="col-md-6 align-checkboxes"&gt;&lt;div id="simpleSize1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;              
              &lt;div class="form-group" &gt;
                &lt;label class="control-label col-md-5" for="prospective1"&gt;Collection Type [Check all that apply]&lt;/label&gt;
                &lt;div class="col-md-7 align-checkboxes"&gt;
                  &lt;span id="prospective1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Prospective
                  &lt;br&gt;
                  &lt;span id="restrospective1"&gt;&lt;/span&gt;&amp;#160;&amp;#160;Retrospective
                &lt;/div&gt;
              &lt;/div&gt;    
          	&lt;/form&gt;  
         &lt;/fieldset&gt;
         &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Data&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
  					&lt;form class="form-horizontal"&gt;
            	&lt;div class="form-group"&gt;           
                 &lt;label class="control-label col-md-5" id="dataId"&gt;Source [Check all that apply]&lt;/label&gt;
 									&lt;div class="col-md-7 align-checkboxes"&gt;
                    &lt;span id="human1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Human
                    &lt;br&gt;
                    &lt;span id="rat1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Rat
                    &lt;br&gt;
                    &lt;span id="mouse1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Mouse
                    &lt;br&gt;
                    &lt;span id="celegans1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;C. elegans
                    &lt;br&gt;  
                    &lt;span id="drosophila1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Drosophila
                    &lt;br&gt;
                    &lt;span id="yeast1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Yeast
                     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (Species: &lt;span id="yeastSpecies1"&gt;&lt;/span&gt; )
                    &lt;br&gt;
                    &lt;span id="bacteria1"&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;Bacteria
                     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (Species: &lt;span id="bacteriaSpecies1"&gt;&lt;/span&gt; )
                    &lt;br&gt;
                    &lt;span id="nonHuman1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other
                     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;  (Species: &lt;span id="noHumanOther1"&gt;&lt;/span&gt; )
                	&lt;/div&gt;	
              &lt;/div&gt;
        			&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;      
				    	&lt;div class="form-group"&gt;
                 &lt;label class="control-label col-md-5" id="data2Id"&gt;Sample Types [Check all that apply]&lt;/label&gt;
                 &lt;div class="col-md-6 align-checkboxes"&gt;
                      &lt;span id="germLine1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;GermLine
                      &lt;br&gt;
                      &lt;span id="dnaType1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;DNA
                      &lt;br&gt;
                      &lt;span id="rnaType1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;RNA
                      &lt;br&gt;
                      &lt;span id="microbiome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Microbiome
                      &lt;br&gt;
                      &lt;span id="mitochrondria1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mitochrondria 
                      &lt;br&gt;
                   		&lt;span id="otherType1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifyOtherType1"&gt;&lt;/span&gt;
                 &lt;/div&gt;                
              &lt;/div&gt;       
           	&lt;/form&gt;
           &lt;/fieldset&gt;  
           &lt;fieldset class="scheduler-border"&gt;
              &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Type&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
							&lt;form class="form-horizontal"&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" id="arrayDataId"&gt;Array Data [Check all that apply]&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;
                      &lt;label class="form-label full-width" &gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="snpArrayData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;SNP Array 
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSNP1"&gt;&lt;/span&gt;                      
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/label&gt;            
                    &lt;br&gt;
                    &lt;label class="form-label full-width" &gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="expressionArray1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Expression Array 
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numExpression1"&gt;&lt;/span&gt;                      
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/label&gt;   
                    &lt;br&gt;
                     &lt;label class="form-label full-width" &gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="methylationArray1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Methylation Array
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numMethylation1"&gt;&lt;/span&gt;                      
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/label&gt;  
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" id="genotypesId"&gt;Genotypes [Check all that apply]&lt;/label&gt;
                  &lt;div class="col-md-7 align-checkboxes"&gt;
                    &lt;label class="form-label full-width" for="arrayDerive1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                         &lt;span id="arrayDerive1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Genotypes
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numDerivedGenotype1"&gt;&lt;/span&gt;  
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="microarrayData1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                  		   &lt;span id="microarrayData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;CNV calls from Microarray               
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numMicroarrayData1"&gt;&lt;/span&gt;  
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="sequenceData1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                         &lt;span id="sequenceData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;CNV calls derived from Sequencing
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSquenceData1"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="somaticSnv1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                        &lt;span id="somaticSnv1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Somatic SNV (.MAF)
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                        # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSomaticSnv1"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                    &lt;br&gt;
                    &lt;label class="form-label full-width" for="arrayCgh1"&gt;
                    &lt;div class="row"&gt;
                      &lt;div class="col-md-7"&gt;
                        &lt;span id="arrayCgh1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array CGH CNVs
                      &lt;/div&gt;
                      &lt;div class="col-md-5"&gt;
                         # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numArrayCgh1"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;/label&gt;  
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
             			&lt;label class="control-label col-md-5" id="sequenceId"&gt;Sequence [Check all that apply]&lt;/label&gt;
                     &lt;div class="col-md-7 align-checkboxes"&gt;
                        &lt;label class="form-label full-width" for="wholeGenome1"&gt;
                        &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                             &lt;span id="wholeGenome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Genome
                          &lt;/div&gt;
                          &lt;div class="col-md-5"&gt;
                             # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeGenome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;   
                       &lt;br&gt;
                       &lt;label class="form-label full-width" for="wholeExome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="wholeExome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Exome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeExome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt; 
                        &lt;br&gt;
                       &lt;label class="form-label full-width" for="targetGenome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="targetGenome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Genome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetGenome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="targetExome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                             &lt;span id="targetExome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Exome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetedExome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;  
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="wholeTranscriptome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="wholeTranscriptome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Whole Transcriptome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numWholeTranscriptome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt; 
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="targetTrabscriptome1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="targetTrabscriptome1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Targeted Transcriptome
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numTargetedTranscriptome1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="epigenomicMark1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="epigenomicMark1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Epigenomic Marks
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                          # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numEpigenomic1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;  
                        &lt;br&gt; 
                       &lt;label class="form-label full-width" for="sanger1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="sanger1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Sanger
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numSanger1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;  
                        &lt;br&gt;
                       &lt;label class="form-label full-width" for="rrna1"&gt;
                       &lt;div class="row"&gt;
                          &lt;div class="col-md-7"&gt;
                            &lt;span id="rrna1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;16S rRNA
                          &lt;/div&gt;
                         &lt;div class="col-md-5"&gt;
                            # of Samples &amp;nbsp;&amp;nbsp;&lt;span id="numRrna1"&gt;&lt;/span&gt;
                          &lt;/div&gt;
                       &lt;/div&gt;
                       &lt;/label&gt;
                     &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
                    &lt;label class="control-label col-md-5" id="analysisId"&gt;Analysis [Check all that apply]&lt;/label&gt;
                    &lt;div class="col-md-6 align-checkboxes"&gt;
                        &lt;span id="association1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Association/Linkage
                        &lt;br&gt;
                        &lt;span id="arrayDerivedExpression1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Expression
                        &lt;br&gt;
                        &lt;span id="rnaExpression1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;RNA Seq Derived Expression
                        &lt;br&gt;
                        &lt;span id="derivedMethylation1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Derived Methylation
                     &lt;/div&gt;  
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
             				&lt;label class="control-label col-md-5"&gt;Other&lt;/label&gt;
                    &lt;div class="col-md-6 align-checkboxes"&gt;
                      &lt;span id="otherAnalysis1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="spcifiedOtherAnalysis1"&gt;&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
             			 &lt;label class="control-label col-md-5" id="dataFormId"&gt;Data Form [Check all that apply]&lt;/label&gt;
                   &lt;div class="col-md-6 align-checkboxes"&gt;
                        &lt;span id="individual1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Individual
                        &lt;br&gt;
                        &lt;span id="aggregate1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Aggregate
                        &lt;br&gt;
                        &lt;span id="notApplicableDataForm1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Not Applicable
                  	&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
								&lt;div class="form-group"&gt;
             				&lt;label class="control-label col-md-5" id="dataRepositoryId"&gt;Data Repository [Check all that apply]&lt;/label&gt;
                 		&lt;div class="col-md-6 align-checkboxes"&gt;
                          &lt;span id="arrayExpress1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Array Express
                          &lt;br&gt;
                          &lt;span id="cancerGenomics1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Cancer Genomics Hub
                          &lt;br&gt;
                          &lt;span id="clinVar1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;ClinVar 
                          &lt;br&gt;
                          &lt;span id="dbGap1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Genotypes and Phenotypes (dbGaP)
                          &lt;br&gt;
                          &lt;span id="dbSnp1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Short Generic Variants (dbSNP)
                          &lt;br&gt;
                          &lt;span id="dbVar1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Database of Genomic Structure Variation (dbVar)
                          &lt;br&gt;
                          &lt;span id="ena1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;European Nucleotide Archive (ENA)
                          &lt;br&gt;
                          &lt;span id="geo1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Gene Expression Omnibus (GEO)
                          &lt;br&gt;
                          &lt;span id="mgi1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Mouse Genome Informatics (MGI)
                          &lt;br&gt;
                          &lt;span id="genBank1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;GenBank
                          &lt;br&gt;
                          &lt;span id="traceArchive1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Trace Archive               
                          &lt;br&gt;
                          &lt;span id="wormbase1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;WormBase                    
                          &lt;br&gt;
                          &lt;span id="sra1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Sequence Read Archive (SRA)  
                          &lt;br&gt;
                          &lt;span id="zfin1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Zebrafish Model Organism Database (ZFIN)
                          &lt;br&gt;
                          &lt;span id="OtherRepository1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifiedRepository1"&gt;&lt;/span&gt;
                  	&lt;/div&gt;
                &lt;/div&gt;  
             		&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                &lt;div class="form-group"&gt;
              			&lt;label class="control-label col-md-5" id="companionInfoId"&gt;Companion Information [Check all that apply]&lt;/label&gt;
             					&lt;div class="col-md-6 align-checkboxes"&gt;
                        &lt;span id="phenotype1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Phenotype&amp;nbsp;&amp;nbsp;&lt;a href="" data-toggle="popover"  data-trigger="focus"  data-content="Data pertinent to the interpretation of genomic data, including the minimal phenotype information needed to reproduce the primary analysis, such as associated phenotype data (e.g., clinical information), exposure data, relevant metadata, and descriptive information (e.g., protocols or methodologies used) will be shared. Individual-level Phenotype data will include."&gt;&lt;img src="contextual_help.png" width="20px" height="20px" Alt="Help" Title="Help"/&gt;&lt;/a&gt;
                        &lt;br&gt;
                        &lt;span id="exposure1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Exposure  
                        &lt;br&gt;
                        &lt;span id="surveyTool1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Survey Tool
                        &lt;br&gt;
                        &lt;span id="clinicalData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Clinic Data&amp;#160; &amp;#160;&lt;span id="specifiedClinicalData1"&gt;&lt;/span&gt;
                        &lt;br&gt;
                        &lt;span id="protocol1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Study/Protocol&amp;#160; &amp;#160;&lt;span id="specifiedProtocol1"&gt;&lt;/span&gt;               
                        &lt;br&gt;
                        &lt;span id="instrument1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Data Collection instrument&amp;#160; &amp;#160;&lt;span id="specifiedInstrument1"&gt;&lt;/span&gt;
                        &lt;br&gt;
                        &lt;span id="otherCompanion1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160;&lt;span id="specifiedCompanion1"&gt;&lt;/span&gt;                                   
                  		&lt;/div&gt;	
                &lt;/div&gt; 
             &lt;/form&gt;  
           &lt;/fieldset&gt;
           &lt;fieldset class="scheduler-border"&gt;
               &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Submission Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
     					 &lt;form class="form-horizontal"&gt;
                  &lt;!-- dataCheck --&gt;
                  &lt;div class="form-group"&gt;
                    &lt;label class="control-label col-md-5" id="dataSubmissionId"&gt;Data Submission and Release Timeline &lt;div style="white-space: auto;"&gt;[Check all that apply]&lt;/div&gt;&lt;/label&gt;
                    &lt;div class="col-md-6 align-checkboxes"&gt;
                      &lt;span id="dataCheck1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Following data cleaning, analysis, and quality checks
                      &lt;br&gt;
                      &lt;span id="publication1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;At the time of publication
                      &lt;br&gt;
                      &lt;span id="otherSubmission1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Other&amp;#160; &amp;#160; &lt;span id="psecifiedOtherSubmission1"&gt;&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                 	&lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
                  &lt;div class="form-group"&gt;
                    &lt;label class="control-label col-md-5" id="dataUseId"&gt;Data Use Limitation [Check all that apply]&lt;/label&gt;
                    &lt;div class="col-md-7 align-checkboxes"&gt;
                      &lt;span id="noHumanData1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Not Applicable, no human data
                      &lt;br&gt;
                      &lt;span id="noLimitation1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;No data use limitations
                      &lt;br&gt;
                      &lt;span id="limitedOnly1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Limited only by the terms of the Data Use Certification
                      &lt;br&gt;                
                      &lt;span id="limitedPurpose1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Limited to health/medical/biomedical purposes
                      &lt;br&gt;
                        &lt;span style="display: inline-block; margin-left: 28px"&gt;
                         doesn't include the study of population origins or ancestry
                        &lt;/span&gt;
                      &lt;br&gt;                      
                      &lt;span id="relateToDisease1"&gt;&lt;/span&gt;&amp;#160; &amp;#160;Must be related to the specified disease
                    &lt;/div&gt;
                  &lt;/div&gt;                   
             &lt;/form&gt;
           &lt;/fieldset&gt;   
           &lt;div id="pre_comments_div" class="col-md-12" style="display:none;"&gt;
               &lt;fieldset class="scheduler-border"&gt;
                  &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                  &lt;div id="commentReviewId1"&gt;&lt;/div&gt;
               &lt;/fieldset&gt;
           &lt;/div&gt;
           &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
           &lt;div class="row form-group" id="sd_div" style="display:none;"&gt;
             &lt;div class="col-md-2"&gt;
               	&lt;label for="selectSD" class="form-label"&gt;Scientific Director&lt;/label&gt;
             &lt;/div&gt;
             &lt;div class="col-md-4"&gt;
               &lt;select class="form-control" id="selectSD" &gt;
                   &lt;option ng-repeat="sd in c.data.info.sdList" value="{{sd.value}}"&gt;{{sd.label}}&lt;/option&gt;
               &lt;/select&gt;
             &lt;/div&gt;
             &lt;div class="col-md-4 ui-front"&gt;
               &lt;input type="text" id="newSD" class="form-control"/&gt;
               &lt;span id="sdError" style="display:none;"&gt;&lt;font color='red'&gt;Scientific Director Name cannot be empty&lt;/font&gt;&lt;/span&gt;
               &lt;span id="sdWarning" style="display:none;"&gt;&lt;font color='red'&gt;The Name already exist on the SD list&lt;/font&gt;&lt;/span&gt;
               &lt;span id="sdInfo" style="display:none;"&gt;&lt;font color='green'&gt;The Name has been added successfully&lt;/font&gt;&lt;/span&gt;
             &lt;/div&gt;
             &lt;div class="col-md-2"&gt;
               &lt;input type="button" class="btn btn-primary btn-sm" id="addSDBt" ng-click="addNewSD()" value="Add a SD/Designee" disabled/&gt; 
             &lt;/div&gt;
           &lt;/div&gt; 
           
           &lt;div id="comments_div" class="row form-group" style="display:none;"&gt;
           		&lt;br&gt;
         	 	  &lt;div class="col-md-2" id="commentId1Lable"&gt;
                &lt;label for="commentId1" class="form-label"&gt;Comments&lt;/label&gt;;
             &lt;/div&gt;
              &lt;div class="col-md-10" style="valign:top; align:left;"&gt;
                  &lt;span id="rejectError" style="display:none;"&gt;&lt;font color='red'&gt;Please fill in required field&lt;/font&gt;&lt;br/&gt;&lt;/span&gt;
                	&lt;textarea id="commentId1" rows="5" class="form-control"&gt;&lt;/textarea&gt;
             &lt;/div&gt;
           &lt;/div&gt;
        	 &lt;div class="clearfix"&gt;  
              &lt;div id="closeButton" class="pull-right"&gt;&lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="closeDisplayModal()" value="CLOSE"/&gt; &lt;/div&gt;
              &lt;div id="submitButton" class="pull-right"&gt; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="loadApprovalConfirm()" value="APPROVE"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="loadRejectConfirm()" value="REJECT"/&gt;&amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="closeDisplayModal()" value="CLOSE"/&gt;&lt;/div&gt;
           &lt;/div&gt;
           &lt;div class="col-md-7 align-checkboxes"&gt;
          &lt;/div&gt;
       &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
  
&lt;input type="hidden" id="hiddenRequestId" /&gt;
&lt;input type="hidden" id="hiddenRequestItemId" /&gt;
&lt;input type="hidden" id="hiddenStage"/&gt;
&lt;input type="hidden" id="resubmitCommentsId"/&gt;
&lt;input type="hidden" id="withdrawCommentsId"/&gt;
&lt;input type="hidden" id="withdrawSubmitId"/&gt;
&lt;input type="hidden" id="roleId"/&gt;
&lt;input type="hidden" id="newSDId"/&gt;

  &lt;div id="confirmGPAApprovalDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAApproval"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPAApprovalConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPAApprovalConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;

  &lt;div id="confirmGPARejectDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAReject"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPARejectConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPARejectConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
  
&lt;/div&gt;  
  
  ]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1317196121</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>d68b77dfdbcb2f00b86770c08c961970</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16737d21d980000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS Data Display Section</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>9b9c746f2eb96700d01302c9aeb2e610</update_guid>
<update_guid_history>9b9c746f2eb96700d01302c9aeb2e610:-1317196121,eb84e0ebfc796700f637bf7ed7e5837a:903097740,4164acabb87967006577aceec8fb3bab:1079475259,9183e46b867967004d1f780e49d971e5:336505253,096360abb97967009b7d0cfe20b08e1d:-784704905,37236c6b8a796700f4560756c4e1d5d9:798363643,9ca5cf8cc2e9eb00c79a8c287f50f8a7:731789627,c2d4070c03e9eb00e4ec7aadfc9026d5:-1390395800,d1d4c74ce7e9eb00780f581e8874cbba:631477768,54d48b4ce0e9eb0034852739224460ec:1574423367,ccb4c74c29e9eb004bd76232a87e05e2:-51663960,d244434c19e9eb001ff730d08c01d049:-1803217912,5e04070c18e9eb0064456afa1333414c:-1599106490,0bf34f0c5de9eb007320d9509b96e6f2:1624607287,99f3c30c16e9eb00d2d4272325babdde:-1505750037,19d38b0c8fe9eb00aa13f69338ef0603:99311301,cdc3070c81e9eb000f8a830f5c7cc857:1365507257,57a3070c79e9eb004604e60fd5e8afad:557635866,dcb24388c1e9eb00cd14efbfc07ffac7:1038171481,1ea24388e9e9eb000e00c6782b234d8a:-1169833149,23524b4886e9eb000da786c59f3c7083:1119350692,98324f0806e9eb001230e43a57513d94:1706669094,670243483de9eb00d1f1346e9bfbb2e6:-1704424903,c20243482ee9eb00280b25b4dd74e780:990537669,b6e18f0841e9eb0086365257ea334510:139305563,7ba1c70857e9eb00f79a1a75f866e021:2128737675,5cd043c4dce9eb006017f2cbb5b7f99c:-2040579293,07600bc4bbe9eb00aff98d5bc05b7941:-426698843,8c4087c47ee9eb00c7f5aaa710083cca:-1227545913,cf10cf844de9eb0012fc6142cc130278:-578930801,14bffa44cde9eb00cb2f9ecfa49a9ab0:831113405,9b8ffa4485e9eb00f5eec2d70d90e6cc:1523536118,39fefa4437e9eb0077a87159363069c4:-916479389,a2ceba04dfe9eb002b05d11d8b070b1a:1363888412,29cefa0472e9eb009ecdc652692ce960:1978918145,e3befa0447e9eb0091a6936ee7aa1897:-766133693,1e5dfa80cae9eb0004845cd39e9eac7b:-1226761632,061db2802fe9eb0039ac7adbe14d7e9e:6466586,a5ecf64084e9eb006e24081f4516f6f7:-1228444810,0cec36806fe9eb0095b163ddbf39e6f9:1717127034,52dcfa40a7e9eb00a980d5b2c857c4d0:-1572068494,02acfa4029e9eb00891c0ef445075b0c:1355450356,395c764098e9eb00364d0f8b222b29a0:-1641295156,12ab32007be9eb00421392b2fd84f2e9:-509907992,5c9bfecc77a9eb0014fab63a0abba1b1:1101306849,866315e74f892f40c6f65ef8e852de45:1481365135,4f4315e78b892f40e2751f888efec967:1566302477,8a2315e7f4892f40946cda0b3916b53d:1481365135,9b0315a709892f40d993416d9128d170:-192399241,4037bc8d84375340b5dad5f5d4457ec6:1929357547,bde6788de4375340cb771d363ccdefaf:1494305579,0fc6f48d8337534045a187cc081656ec:-283711448,c7eb2c451c3753400e670afae75ec83e:-67705715,627b64455b3753402d039e5af821f8a6:-55717918,9a2b28058d375340346d17ec7887310f:766889122,07fa68058d375340e713eddd81040b3e:-404963267,29fa284173375340a0c37c07807911f7:-144486311,f4ba24053c3753404ad4efdaa189aee1:467487786,1e9a2481f03753409fb678ef7acaa5e2:729700958,7fd928819c37534079f677a3c9e693f0:1870219569,fa872b383d2b57007eab61d2d52e7c04:-1525501123,eca4a774742b570080ee0f268c2ae3b5:1452411566,6fd462f01d675700555535a73e19ddef:1841434228,6e3d2e15431b930028eab325180c15d6:-1974792633,6e3d2e15431b930028eab325180c15d6:-1974792633,6e3d2e15431b930028eab325180c15d6:-1974792633,6e3d2e15431b930028eab325180c15d6:-1974792633,c9976990a15b5340231b7c2a1b5cf743:732581495,c837a150ff5b5340459b644c4edfebc2:-1733127926,3e276550235b534093beb64cf922c0a1:-1385925502,-1062601951:-1062601951,732581495:732581495</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>m2m_sp_widget_dependency_54c8c740db2deb00b86770c08c961929</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_widget_dependency"><m2m_sp_widget_dependency action="INSERT_OR_UPDATE"><sp_dependency display_value="dirPagination dependency">61c476cedb12360054d8ff621f961957</sp_dependency><sp_widget display_value="GDS  IC Form Data Display">d79f1816dbd84f00f59974131f96190a</sp_widget><sys_class_name>m2m_sp_widget_dependency</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-29 22:47:26</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>54c8c740db2deb00b86770c08c961929</sys_id><sys_mod_count>0</sys_mod_count><sys_name>dirPagination dependency.GDS  IC Form Data Display</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>m2m_sp_widget_dependency_54c8c740db2deb00b86770c08c961929</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-29 22:47:26</sys_updated_on></m2m_sp_widget_dependency></record_update>]]></payload>
<payload_hash>97752370</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>da8b77dfdbcb2f00b86770c08c96196f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166c202aba00000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>dirPagination dependency.GDS  IC Form Data Display</target_name>
<type>Widget Dependency</type>
<update_domain>global</update_domain>
<update_guid>50c8c740972deb00a36a187645b83b2b</update_guid>
<update_guid_history>50c8c740972deb00a36a187645b83b2b:97752370</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_d79f1816dbd84f00f59974131f96190a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http) {
	$('[data-toggle="popover"]').popover();   
	var SDGROUP = 'CCR_SD';
  var c = this;
	var sessionId = c.data.info.sessionId;
	//initialize autoComplete field
	$( "#newICSD" ).autocomplete({
		 delay: 500,
     source: function(request, response){
	       var term = $('#newICSD').val();
				 var temp = '';
			   if(term.indexOf(',') &gt;= 0){
					 temp = term.split(',');
					 var length = temp.length;
					 if(length &gt; 1){
						 term = temp[1].trim() + " " + temp[0].trim();
					 }else{
						 term = temp[0];
					 }
				 }	 
	       var req = {
						method: 'GET',
						url: '/api/naci/gds/fetchUserList',
						beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
	          headers: {
								'Content-Type': 'application/json'
						},
						params: {'term': term }
					};				
				   $http(req).then(handleResponse, handleError);
					function handleResponse(responseData) {
				      var result = responseData.data.result;
							response(result);
					}
					function handleError(response) {
					  console.error(response);
						alert('ERROR');
					}    
			},
      autoFocus:true,
      select: function( event, ui ) {
				console.log(event, ui);
				var id = ui.item.id;
				$('#newICSDId').val(id);
				$('#sdICError').hide();
				$('#sdICInfo').hide();
				$('#sdICWarning').hide();
				if(id != null &amp;&amp; id.trim().length &gt; 5){
					$('#addICSDBt').prop('disabled', false);
				}else{
						$('#addICSDBt').prop('disabled', true);
				}
			}
  });
	
	$scope.addNewICSD = function(){
		var sdName = $('#newICSD').val();
		if(sdName == null || sdName.trim().length == 0){
			$('#sdICError').show();
		}else{
			insertNewSD();
		}
		
	}
	
	function insertNewSD() {
		 $('#sdICError').hide();
		 $('#sdICInfo').hide();
		 $('#sdICWarning').hide();
		 var user_id = $('#newICSDId').val(); 
		 var request = {
			 url: '/api/naci/gds/addMemberIntoGroup',
			 method : "POST",
			 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			 headers: {
					'Content-Type': 'application/json'
				},
			 data : {user_id: user_id, group_name : SDGROUP}
		 }
		 $http(request).then(handleResponse, handleError);
		 function handleResponse(response){
				var result = response.data.result;
				console.log(result.status);
			  if(result.status == 'user already exist'){
					 $('#sdICWarning').show();
				}else if(result.status == 'Completed'){
					 $('#sdICInfo').show();
					 fetchSDlist();
				}
			}
			function handleError(response){
				console.error(response);
				alert('ERROR');
			}		
	}

	function fetchSDlist(){
			 var request = {
				 url: '/api/naci/gds/fetchSDList',
				 method : "GET",
				 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				 headers: {
						'Content-Type': 'application/json'
					}
			 }
			 $http(request).then(handleResponse, handleError);	
			 function handleResponse(response){
					var result = response.data.result;
					console.log(result);
					c.data.info.sdList = result; 
			}
			function handleError(response){
					console.error(response);
					alert('ERROR');
			}
	}

	c.data.info.sdList.unshift({
		value: 'NONE',
		label: 'Please select a scientific director'
	});
  /* widget controller */
  $scope.closeICModal = function(){
	  $('#displayICRequests').modal('hide');
  }
	
	$scope.loadICApprovalConfirm = function(){
		var role = $('#roleId').val();
		if(role == 'SD'){
			$('#messageGPAICApproval').html('Are you sure you want to approve this request? &lt;br/&gt; Note: If choosing approve, you will automatically sign the Institution Certificate Form.');
		}else{
			$('#messageGPAICApproval').html('Are you sure you want to approve this request?');
		}
		$('#confirmGPAApprovalICDiv').modal('show'); 
		$('#btnYesGPAApprovalICConfirm').off('click').click(function() {
			$('#confirmGPAApprovalICDiv').modal('hide');
			
			if( role == 'GPA'){
				if(!approvalValidation()){
					$('#gpaICErrorMessage').html('');
					$('#gpaICErrorMessage').hide();
					submitRequestApproval('approved', 'GPA');	
				}
			}else if(role == 'SD'){
				submitRequestApproval('approved', 'SD');
			}
	});
		$('#btnNoGPAApprovalICConfirm').off('click').click(function() {
			$('#confirmGPAApprovalICDiv').modal('hide');
		});		
	}
	
	$scope.loadICRejectConfirm = function(){
		//validate comments
		var comm = $('#commentICId1').val();
		if(comm == null || comm.trim().length == 0){
			$('#rejectICError').show();
			$('#commentICId1').css("background-color", "yellow");
		}else{		
				$('#messageGPAICReject').html('Are you sure you want to reject this request?');
				$('#confirmGPARejectICDiv').modal('show');	
				$('#btnYesGPARejectICConfirm').off('click').click(function() {
					var role = $('#roleId').val();
					if(role == 'GPA'){
							submitRequestApproval('rejected', 'GPA');	
					}else if(role == 'SD' ){
							submitRequestApproval('rejected', 'SD');	
					}
					$('#confirmGPARejectICDiv').modal('hide');
				});
				$('#btnNoGPARejectICConfirm').off('click').click(function() {
					$('#confirmGPARejectICDiv').modal('hide');
				});			
		}
	}
	function approvalValidation(){
		var sdSelected = $('#selectICSD').val();
		if(sdSelected == 'NONE'){
			$('#gpaICErrorMessage').html('&lt;font size="2" color="red"&gt;&lt;ul&gt;&lt;li&gt;Please select a Scientific Director&lt;/li&gt;&lt;/ul&gt;&lt;/font&gt;');
			$('#gpaICErrorMessage').show();
			return true;
		}else{
			return false;
		}
	}
	function submitRequestApproval(action, role){
  //validate SD when approve the request
   var sdSelected = $('#selectICSD').val();	
   var request_id = $('#hiddenRequestId').val();
   var comments = $('#commentICId1').val();
   var stage = $('#hiddenStage').val();
   var variables= {};
   variables.requested_id = request_id;
   variables.requestedItem_id = $('#hiddenRequestItemId').val();
   variables.approval_comment = comments;
   variables.action = action;
   variables.role = role;
   variables.sd_id = sdSelected;
   var request = {
		 url: '/api/naci/gdspapi/updateGDSPRequest',
		 method : "POST",
		 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
		 headers: {
				'Content-Type': 'application/json'
			},
		 data : variables
	 }
	 $http(request).then(handleResponse, handleError);
	 function handleResponse(response){
			var result = response.data.result;
		  console.log(result.status);
		}
	  function handleError(){
			console.error(response);
			alert('ERROR');
		}
    $('#displayICRequests').modal('hide');		
	}
	
	$scope.rejectICConfirm = function (){
		$('#messageSignICReject').html('Are you sure you want to Reject this request?');
		$('#confirmSignRejectICDiv').modal('show'); 
		$('#btnYesSignRejectICConfirm').off('click').click(function() {
			$('#confirmSignRejectICDiv').modal('hide');
			submitSignApproval("rejected", "PI");     
		});
		$('#btnNoSignRejectICConfirm').off('click').click(function() {
			$('#confirmSignRejectICDiv').modal('hide');
		});
	}
	
	$scope.signICConfirm = function (){
		$('#messageSignIC').html('Are you sure you want to Approve this request? &lt;br/&gt;Note: If choosing approve, you will automatically sign the Inistitution Certificate Form.');
		$('#confirmSignICDiv').modal('show'); 
		$('#btnYesSignICConfirm').off('click').click(function() {
			$('#confirmSignICDiv').modal('hide');
	    var comments = $('#commentICId1').val();
      submitSignApproval("approved", "PI");			
	});
		$('#btnNoSignICConfirm').off('click').click(function() {
			$('#confirmSignICDiv').modal('hide');
		});				
	}

	function submitSignApproval(action, role){
  //validate SD when approve the request
   var comments = $('#commentICId1').val();
   //var stage = $('#hiddenStage').val();
   var variables= {};
   variables.requested_id =  $('#hiddenApprovalId').val();
   variables.requestedItem_id = $('#hiddenRequestId').val();
   variables.approval_comment = comments;
   variables.action = action;
   variables.role = role;
   variables.sd_id = 'signed';
   var request = {
		 url: '/api/naci/gdspapi/updateGDSPRequest',
		 method : "POST",
		 beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
		 headers: {
				'Content-Type': 'application/json'
			},
		 data : variables
	 }
	 $http(request).then(handleResponse, handleError);
	 function handleResponse(response){
			var result = response.data.result;
		  console.log(result.status);
		}
	  function handleError(){
			console.error(response);
			alert('ERROR');
		}
    $('#displayICRequests').modal('hide');		
	}	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.control-label {&amp;#13;
    text-align: right;&amp;#13;
    margin-bottom: 0;&amp;#13;
    padding-top: 0;&amp;#13;
}&amp;#13;
.modal-dialog1 {&amp;#13;
    width: 1000px;&amp;#13;
    margin: 30px auto;&amp;#13;
}&amp;#13;
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gfdd&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS  IC Form Data Display&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var sd_list = [];
	var getMembers = new GlideRecord('sys_user_grmember');
      getMembers.addQuery('group.name','CCR_SD');
      getMembers.query();
  while(getMembers.next())
  {
		 sd_list.push({
			 value: getMembers.user.toString(),
			 label: [getMembers.user.first_name, getMembers.user.last_name].join(' ')
		 });
  }	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		sdList: sd_list
	};

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-02 14:40:39&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;d79f1816dbd84f00f59974131f96190a&lt;/sys_id&gt;&lt;sys_mod_count&gt;164&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS  IC Form Data Display&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_d79f1816dbd84f00f59974131f96190a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-20 15:26:27&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
&lt;div id="displayICRequests" class="modal fade" data-keyboard="false" data-backdrop="static" style="overflow-y:auto; overflow-x: auto;"&gt;
  &lt;div class="modal-dialog1 modal-lg"&gt;
    &lt;div class="modal-content" id="ic_modal_content" style="height:900px; overflow-y:auto; overflow-x: hidden;"&gt;
      &lt;div class="modal-header"&gt;
		  &lt;button type="button" class="close btn btn-xs" data-dismiss="modal" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;x&lt;/span&gt;&lt;/button&gt;
           &lt;div&gt;
                 &lt;font size="5"&gt;&lt;b&gt;Institutional Certification Submission&lt;/b&gt;&lt;/font&gt; &lt;br/&gt;
                  &lt;b&gt;IC Number - &lt;span id="displayICId"&gt;&lt;/span&gt;&lt;/b&gt;
           &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
         &lt;div id="gpaICErrorMessage" style="display:none;"&gt;&lt;/div&gt;
         &lt;div class="col-md-12"&gt;
  &lt;!-- start table --&gt;
         &lt;fieldset class="scheduler-border"&gt;
            &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;IC Information&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
           	&lt;form class="form-horizontal"&gt;
                &lt;div class="form-group"&gt;
                  &lt;label class="control-label col-md-5" for="certification_date1"&gt;Certification Date&lt;/label&gt;
                  &lt;div class="col-md-7" &gt;&lt;div id="certification_date1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="form-group" id="insDiv"&gt;
                  &lt;label class="control-label col-md-5" for="institution_name1"&gt;Institution Name&lt;/label&gt;
                  &lt;div class="col-md-6" &gt;&lt;div id="institution_name1"&gt;&lt;/div&gt;&lt;/div&gt;
                &lt;/div&gt;    				
              &lt;!--div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="certification_to1"&gt;GPA &lt;br/&gt;(Genomic Program Administrator)&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="certification_to1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;  
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="certification_from1"&gt;Signing Authority&lt;br/&gt;(Scientific Director)&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="certification_from1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div --&gt; 
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="gpa_organization1"&gt;Organization of GPA&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="gpa_organization1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;           
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="sd_organization1"&gt;Organization of SD&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="sd_organization1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="study_name1"&gt;Original Study Name&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="study_name1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;              
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="project_title1"&gt;Project Title for Data to be submitted&lt;/label&gt;
                &lt;div class="col-md-6"&gt;&lt;div id="project_title1"&gt;&lt;/div&gt;&lt;/div&gt;
              &lt;/div&gt;              
              &lt;div class="form-group"&gt;
                &lt;label class="control-label col-md-5" for="dataAccessBox1"&gt;Data are made available through&lt;/label&gt;
                &lt;div class="col-md-3"&gt;
                  &lt;input type="radio" id="dataAccessBox1" name="dataAccessBox1" value="unrestricted" disabled&gt;&amp;nbsp;Unrestricted
                &lt;/div&gt;
                &lt;div class="col-md-3"&gt;
                	&lt;input type="radio" id="dataAccessBox1" name="dataAccessBox1" value="controlled-access" disabled&gt;&amp;nbsp;Controlled-access  
                &lt;/div&gt; 
              &lt;/div&gt;   
              &lt;div class="form-group"&gt;
                &lt;div class="col-md-9"&gt;
                   &lt;label id="dataUpload" style="display:flex;"&gt;
                     The genomic summary results (GSR) from this study are only to be made available through &amp;nbsp;&amp;nbsp;
                     &lt;input type="checkbox" id="displayBox1" disabled&gt;&amp;nbsp;&amp;nbsp;controlled-access
                   &lt;/label&gt;
			           &lt;/div&gt;
              &lt;/div&gt; 
             &lt;div class="form-group" style="display:none;" id="controllaccessDiv1"&gt;
               &lt;div class="col-md-12"&gt;
                 &lt;label&gt;&lt;b&gt;Explanation if controlled-access was selected for GSR&lt;/b&gt;&lt;/label&gt;&lt;br/&gt;
                 &lt;textarea class="form-control" id="frequency1" rows="4" cols="100" disabled&gt;&lt;/textarea&gt;  
               &lt;/div&gt;
           &lt;/div&gt;            
           &lt;/form&gt;
       	&lt;/fieldset&gt;           
         &lt;!-- GUI for Consent Group --&gt;
         &lt;input type="hidden" id="consent_group1"/&gt;
         &lt;div id='consentGrpDiv'&gt;  
           &lt;fieldset class="scheduler-border" &gt;
              &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Consent Group&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
              &lt;div id="consentContentDiv"&gt;&lt;/div&gt;
           &lt;/fieldset&gt;  
         &lt;/div&gt;  
           
        &lt;div id="pre_comments_ic_div" class="col-md-12" style="display:none;"&gt;
             &lt;fieldset class="scheduler-border"&gt;
                &lt;legend class="scheduler-border"&gt;&lt;font size="3"&gt;&lt;b&gt;Approval Status&lt;/b&gt;&lt;/font&gt;&lt;/legend&gt;
                &lt;div id="commentReviewICId1"&gt;&lt;/div&gt;
             &lt;/fieldset&gt;
        &lt;/div&gt;
        &lt;div class="col-md-12"&gt;&amp;nbsp;&lt;/div&gt;
        &lt;div class="row form-group" id="sd_ic_div" style="display:none;"&gt;
             &lt;div class="col-md-2"&gt;
               	&lt;label for="selectICSD" class="form-label"&gt;Scientific Director&lt;/label&gt;
             &lt;/div&gt;
             &lt;div class="col-md-4"&gt;
               &lt;select class="form-control" id="selectICSD" width="100px"&gt;
                   &lt;option ng-repeat="sd in c.data.info.sdList" value="{{sd.value}}"&gt;{{sd.label}}&lt;/option&gt;
               &lt;/select&gt;
             &lt;/div&gt;
             &lt;div class="col-md-4 ui-front"&gt;
               &lt;input type="text" id="newICSD" class="form-control"/&gt;
               &lt;span id="sdICError" style="display:none;"&gt;&lt;font color='red'&gt;Scientific Director Name cannot be empty&lt;/font&gt;&lt;/span&gt;
               &lt;span id="sdICWarning" style="display:none;"&gt;&lt;font color='red'&gt;The Name already exist on the SD list&lt;/font&gt;&lt;/span&gt;
               &lt;span id="sdICInfo" style="display:none;"&gt;&lt;font color='green'&gt;The Name has been added successfully&lt;/font&gt;&lt;/span&gt;
             &lt;/div&gt;
             &lt;div class="col-md-2"&gt;
               &lt;input type="button" class="btn btn-primary btn-sm" id="addICSDBt" ng-click="addNewICSD()" value="Add a SD/Designee" disabled/&gt; 
             &lt;/div&gt;
           &lt;/div&gt; 
           &lt;div id="comments_ic_div" class="row form-group" style="display:none;"&gt;
           		&lt;br&gt;
         	 	  &lt;div class="col-md-3" id="commentId1ICLable"&gt;
                &lt;label for="commentICId1" class="form-label"&gt;Comments&lt;/label&gt;
             &lt;/div&gt;
              &lt;div class="col-md-9" style="valign:top; align:left;"&gt;
                  &lt;span id="rejectICError" style="display:none;"&gt;&lt;font color='red'&gt;Please fill in required field&lt;/font&gt;&lt;br/&gt;&lt;/span&gt;
                	&lt;textarea id="commentICId1" rows="5" class="form-control"&gt;&lt;/textarea&gt;
             &lt;/div&gt;
           &lt;/div&gt;
           &lt;div class="clearfix"&gt;  
              &lt;div id="closeButton1" class="pull-right"&gt;&lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="closeICModal()" value="CLOSE"/&gt;&lt;br/&gt;&lt;br/&gt; &lt;/div&gt;
          	  &lt;div class="col-md-7 align-checkboxes"&gt;
                &lt;div id="signButton1" class="pull-right" style="display:none"&gt;
                    &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="rejectICConfirm()" value="REJECT"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; 
                    &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="signICConfirm()" value="SIGN"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; 
                    &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="closeICModal()" value="CLOSE"/&gt;
                &lt;/div&gt;
              &lt;/div&gt;
               &lt;div class="col-md-7 align-checkboxes"&gt;
                 &lt;div id="submitButton1" class="pull-right"&gt; &lt;input type="button" class="btn btn-primary btn-sm btn-form" style="width: 70px; text-align: center;" ng-click="loadICApprovalConfirm()" value="APPROVE"/&gt; &amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="loadICRejectConfirm()" value="REJECT"/&gt;&amp;#160; &amp;#160; &amp;#160;&amp;#160; &amp;#160; &amp;#160; &lt;input type="button" class="btn btn-primary btn-sm btn-form" ng-click="closeICModal()" value="CLOSE"/&gt;&lt;/div&gt;          
              &lt;/div&gt;
             &lt;br/&gt; &lt;br/&gt; &lt;br/&gt;
       &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;input type="hidden" id="certification_to1" /&gt;
    &lt;input type="hidden" id="certification_from1" /&gt;
    &lt;input type="hidden" id="newICSDId"/&gt;
&lt;/div&gt;
  
  &lt;div id="confirmGPAApprovalICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAICApproval"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPAApprovalICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPAApprovalICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;

  &lt;div id="confirmGPARejectICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageGPAICReject"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesGPARejectICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoGPARejectICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="confirmSignRejectICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageSignICReject"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesSignRejectICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoSignRejectICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="confirmSignICDiv" class="modal fade"&gt;
      &lt;div class="modal-dialog"&gt;
          &lt;div class="modal-content"&gt;
              &lt;div class="modal-header"&gt;
                  &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                      &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                  &lt;/button&gt;
                  &lt;h4 id="lblTitleConfirmYesNo" class="modal-title"&gt;Confirmation&lt;/h4&gt;
              &lt;/div&gt;
              &lt;div class="modal-body"&gt;
                  &lt;p align="center" id="messageSignIC"&gt;&lt;/p&gt;
              &lt;/div&gt;
              &lt;div class="modal-footer"&gt;
                  &lt;button id="btnYesSignICConfirm" 
                  type="button" class="btn btn-primary" 
                  style="width: 70px; text-align: center;"&gt;Yes&lt;/button&gt;
                  &lt;button id="btnNoSignICConfirm" 
                  type="button" class="btn btn-default" 
                  style="width: 70px; text-align: center;"&gt;No&lt;/button&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;    
&lt;input type="hidden" id="hiddenRequestId" /&gt;
&lt;input type="hidden" id="hiddenRequestItemId" /&gt;
&lt;input type="hidden" id="hiddenStage"/&gt;
&lt;input type="hidden" id="resubmitCommentsId"/&gt;
&lt;input type="hidden" id="withdrawCommentsId"/&gt;
&lt;input type="hidden" id="withdrawSubmitId"/&gt;
&lt;input type="hidden" id="roleId"/&gt;  
&lt;input type="hidden" id="hiddenApprovalId"/&gt;    
&lt;/div&gt;  
  
  ]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1329167838</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>da8b77dfdbcb2f00b86770c08c961972</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167cc399f650000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS  IC Form Data Display</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>d776193c4d6a63406c4ac26c27da3902</update_guid>
<update_guid_history>d776193c4d6a63406c4ac26c27da3902:-1329167838,7956d53ca76a63406a13048eb395f1a9:1697693762,1c46d13c4f6a6340325e27304c47c7fa:-1135749947,7c2659b8be6a6340d72f1db55dd6eeac:-1942389659,2983b8084512e700507273c53fd2131d:1697693762,de53f0087d12e700610e3b9922a93d39:-2122635754,b5e274c4e712e7002b6debd88877d6c4:1539832850,1951fc040c12e70094d8aff5a4a1b1bd:-616609020,fb4130847512e700c8dd11048e6e7d42:1054736588,574eb423eaf96700f4aebe9f7e0deb19:718808213,5799e423eeb96700dea2098363443648:2070042148,bf89ecef36796700f956d477222a0917:452956048,c969e4efec796700c11416bce23d6711:2070042148,eb59ecef2c796700ec7a0d66c599b0fc:1764373960,d249ecef2979670094927fcfbea6f610:-263644208,4f192c6f13796700b9319e124a58b598:1011836849,31c8e4ef52796700aff9967dd4facd0c:-646776199,a358a8af96796700f4a1aafcf10f4431:1452880976,1c18a8afac7967000454cdc4c86bdd12:1011836849,ded724af6879670012f41d39f9af8faf:990381621,1fc6246f377967002e92f4053feb96f1:-1175513637,4556e42f5f7967005b9d84cff137d2e9:-907603766,fd46ec2f73796700b5fae0d5cfc9ce4d:65524400,391b3d5f83a5a340709558dd73ee6dd0:1524871593,dc954197d925a340bf4bd2e9d6a7cc04:-542302994,2a6549db5a25a3405e6d2cf57db3aebe:508323059,9465895b6125a34081b75fb15bafa54b:-682638275,09254197bb25a3402488e319902f0b35:-1015020744,c2f445db3825a3408864d15d88c5a645:314270373,40548d9b7a25a3409820e6d45b4d362d:1947597605,04394380a82deb00fc16fb29f9410e99:-1192331971,a2888f00a52deb00dd76d3a6df663d0f:-1756436085,2d880b002f2deb0059758b740d590767:1154453093,5178cf003c2deb0069af2e7c3f1a6068:-2111504871,b3580f005d2deb009feddf9556d3a956:-1863732803,17480340a52deb0001082bad1d7ac851:-403525021,3f280300f22deb00d88116de0f52420d:-792486455,d328cf00ca2deb00c99bd10a5fe79862:1736839651,15088f007c2deb00966ad299fbf1b609:-1196350552,aff74f00622deb00efabd987a683cee2:1348157186,edf74700a12deb0000d32b083c4972fb:-1606264024,ffd7c700242deb00b313cd6522205c80:1286524956,f5378bcc09e9eb0018cf99df5434a2ff:-415116603,6c370700fb2deb00e539ec8d8d93cae4:-1421475745,727172c0a3a9eb00c9cee664c7865a9e:-238566567,f6530ca3db2b5f00ac519fe7bff5793b:1003417300,91434cefbbe75f00079e9655724d2047:1472560269,692357383ce75700f40a2740d1d84977:-588230034,aba6aa34c66757001630ed6f746f4923:803871233,de66e63423675700ccbaeaa7258490b3:1820711426,4e56a634fe675700e131b7e5126f14fb:1216914933,a406a6b0ec675700f77e13faafb908a5:958720346,a1091c83702e1f00ffe0eaa6658ddc8e:1798596655,5fc95332adc59b0004c91650d89ee257:1225245883,a1091c83702e1f00ffe0eaa6658ddc8e:1798596655,a1091c83702e1f00ffe0eaa6658ddc8e:1798596655,5fc95332adc59b0004c91650d89ee257:1225245883,9ab993fe31859b00d2a8d9d28c929aef:-1337939485,c5b9dbbe53859b00e8ecd905155aa9ef:1853186553,f8991ffeb9859b003dbc9d85dada937a:1225245883,70691bbe28859b00a8285ceb24bd6c28:208544285,0e295fbebd859b0045f3f610e9822af7:1378988797,d40993fe5c859b002f5d9b231e99f5a7:1234021451,38e8dbbef3859b0083d573f39195b22e:-1763037115,b5da9ca6afa74300feabf6683f9c2653:1225245883,001c417901a7cf00b162fe36b60d53af:827359211,b32fedc259624700ee597ae2722aeb50:102245687,5bd3618a1e224700489cb95ad0eea0df:-916173605,d0ee498a1eee07005b88901928ee95d8:-787399717,81ae0d4e66ee070090284ef2294abee1:101296947,9ced054e53ee0700aa5cfc2d1849c118:1280827072,fa9dc18a79ee07009e6b1a55cb02c43e:-1368412740,88bb458aebee07002a36677e8aa3ecab:-1477270643,131b498a1eee0700def14080ed1f1acf:-665896098,321ac94a93ee07000af9962d792c0d8a:-1325465134,dd39814a96ee0700a2ca79412f23bf98:545120390,57e84d0ae6ee070011571e78594c1899:1378755556,b27841c666ee070006b87b8317232f8b:-1350107323,be6885026dee070008ce00cc25bfcc4d:694693761,ca48c10a63ee0700d82ac3474ac11494:505267075,a538810a72ee0700d78db2d15498f2e5:-1040084958,f718010a1eee07007f282d99036ffce0:-1468894567,d4f70dc274ee07006608bf1bbd212b32:1510324797,d9d789c648ee0700935c23efe4d15e11:695888984,a3b749cee9ae0700e8fea43c7ca78ec7:984165625,0597c5c622ee070005cd9b61ccb90161:695888984,b76545ce95ae07009fde53515cfdfc03:-1956103988,3d4589061cee0700494030b1e2a457bb:209351098,49354d027cee07003eddfbf2f13f728a:1371507783,3984c106ffee07006f3b807dd0eef4a5:-1568288083,4314494ec4ae07007085e5192798eb6e:-1913841779,1bc8e08265ae07006297243a3d8a0772:-2074400507,a8b8204282ae07008257c5115fec5e3a:-566258784,0198640219ae0700b8d0864ddaebfca1:1921299215,ccb4a4caff6e07005fd6c11b9221aa38:760426410,91f3608a6f6e07009e5183def7422cba:100419701,9c609cc6232e070033f4fb14b62850af:-1449334031,d720100a6d2e07008cbcba73cc280edb:606406134,e3ade879c4e20700f571906047cac301:-978272376,83caa87d5de20700b3c725164459cbff:-2049602818,2a18979f13de8300cb27c7d731fcf615:-2111036135,2a18979f13de8300cb27c7d731fcf615:-2111036135,2a18979f13de8300cb27c7d731fcf615:-2111036135</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>m2m_sp_dependency_js_include_5bf851c4db339f0054d8ff621f961989</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_dependency_js_include"><m2m_sp_dependency_js_include action="DELETE"><order>100</order><sp_dependency display_value="CCRGDS_CSS_DEPEN">b01117f4dbe7570054d8ff621f961979</sp_dependency><sp_js_include display_value="BootStrap JS">67d8d104db339f0054d8ff621f961901</sp_js_include><sys_class_name>m2m_sp_dependency_js_include</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-08-03 14:49:14</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>5bf851c4db339f0054d8ff621f961989</sys_id><sys_mod_count>0</sys_mod_count><sys_name>CCRGDS_CSS_DEPEN.BootStrap JS</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>m2m_sp_dependency_js_include_5bf851c4db339f0054d8ff621f961989</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-08-03 14:49:14</sys_updated_on></m2m_sp_dependency_js_include></record_update>]]></payload>
<payload_hash>389194659</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>de8b77dfdbcb2f00b86770c08c96196e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650044d57a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>CCRGDS_CSS_DEPEN.BootStrap JS</target_name>
<type>Dependency JS Includes</type>
<update_domain>global</update_domain>
<update_guid>0f49950809339f00e63351d636bb77ff</update_guid>
<update_guid_history>0f49950809339f00e63351d636bb77ff:389194659,13f851c49c339f00f2934fc7ce01a88b:-1581833937</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_63fc8cdcdb284340f59974131f9619d3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function($scope, $http, spUtil, $window) {
  /* widget controller */
  var c = this;
	c.pagination = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	}; 
	c.state = $window.state;
	c.columns = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_name',
			label: 'Project Name',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	c.getRange = function() {
		var currentSize = c.pagination.currentSize;
		var currentPage = c.pagination.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.approvalICTasks.length / currentSize));
	};
	
	c.setPage = function(index) {
		c.pagination.currentPage = index;
	};
	
	c.toggleSort = function(index) {
		var column = c.columns[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.approvalTasks = c.data.approvalTasks.sort(compareRows);
		}
	};
	//for reviewed table
	c.pagination1 = {
		//pageDisplayLimit: 4,
		numPages: 0,
		//pageIndexes: ['first', 'previous', 'next', 'last'],
		pageSizes: [5, 10, 15, 20, 25],
		currentSize: 1,
		currentPage: 0
	};

	c.columns1 = [
		{
			key: 'ic_id',
			label: 'IC ID',
			sort: 'asc'
		},
		{
			key: 'study_name',
			label: 'Study Name',
			sort: 'asc'
		},
		{
			key: 'project_title',
			label: 'Project Title',
			sort: 'asc'
		},
		{
			key: 'submitted_by',
			label: 'Submitted By',
			sort: 'asc'
		},
		{
			key: 'submitted_date',
			label: 'Submitted Date',
			sort: 'asc'
		},
		{
			key: 'status',
			label: 'Status',
			sort: 'asc'
		},
		{
			key: 'last_update_date',
			label: 'Last Update Date',
			sort: 'asc'
		},
		{
			key: 'approval',
			label: 'Approval',
			sort: null
		},
		
		{
			key: 'actions',
			label: 'Actions',
			sort: null
		}		
	];
	
	c.getRange1 = function() {
		var currentSize = c.pagination1.currentSize;
		var currentPage = c.pagination1.currentPage;
		
		var offset = currentSize * currentPage;
		
		return new Array(Math.ceil(c.data.reviewedICTasks.length / currentSize));
	};
	
	c.setPage1 = function(index) {
		c.pagination1.currentPage = index;
	};
	
	c.toggleSort1 = function(index) {
		var column = c.columns1[index];
		var key = column.key;
		
		// if sorting is defined, then we can toggle this column
		if (column.sort !== null) {
			
			var sortAscending = column.sort === 'asc';
			
			column.sort = sortAscending ? 'desc' : 'asc';
			sortAscending = !sortAscending;
			
			var compareRows = function(a, b) {
				var keyA = a[key];
				var keyB = b[key];

				// use local-compare for strings
				if (isNaN(keyA) &amp;&amp; isNaN(keyB)) {
					return sortAscending ? keyA.localeCompare(keyB)
						: keyB.localeCompare(keyA);
				}

				// use normal comparison for numbers
				return sortAscending ? +keyA - +keyB : +keyB - +keyA;
			};
			
			c.data.reviewedTasks = c.data.reviewedTasks.sort(compareRows);
		}
	};
	//start client JS 
  $('.collapse').on('shown.bs.collapse', function() {
      $(this).parent().find(".fa-plus-square").removeClass("fa-plus-square").addClass("fa-minus-square");
  }).on('hidden.bs.collapse', function() {
      $(this).parent().find(".fa-minus-square").removeClass("fa-minus-square").addClass("fa-plus-square");
  });		
	
	window.setSelectedSDICRow = function(id) {
		var matches = c.data.approvalICTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.approvalICTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
	
	window.setSelectedReviewedSDICRow = function(id) {
		var matches = c.data.reviewedICTasks.filter(function(e) {
			return e.doc_id == id;
		});
		
		if (!matches.length) return;
		
		var index = c.data.reviewedICTasks.indexOf(matches[0]);
		c.setPage(Math.floor(index / c.pagination.currentSize));
		$scope.$apply();
	}
		
	var names = ['certification_date','institution_name', 'certification_to', 'certification_from', 'gpa_organization', 'sd_organization', 'study_name', 'project_title', 'sampleTime', 'sampleConsent'];
	var sessionId = c.data.info.sessionId;
	var userId = c.data.info.userId;
	var gpa = c.data.info.gpa;
	var sd = c.data.info.sd;
	
	c.viewSDIC = function(doc_id, sys_id, state, stage, ticket_id){
		//alert(doc_id + ":" + sys_id +":" + stage + ":" + stage);
		$('#rejectICError').hide();
		$('#commentICId1').css("background-color", "");
		fetchDetails(doc_id, sys_id, state, stage, ticket_id);
	}
	
	var initialTime = null;
	var documentTimeout = 60 * 1000;
	var documentInterval = null;
	
	c.reportSDIC = function(sys_id, ic_id, flag){
			$('#refresh').val('0');
			$('#loading').show();
		  var req_id = sys_id;
		  var fileName = '';
		  if(flag == 'pi'){
				fileName = ic_id+"_pi.pdf";
			}
			if(flag == 'sd'){
				fileName = ic_id+"_sd.pdf";
			}
			initialTime = new Date();
			documentInterval = setInterval(function() {
			 getDocument(req_id, fileName);
			}, 5000);		
	}
	function getDocument(req_id, fileName){
		  var req = {
					method: 'GET',
					url: '/api/naci/gds/getAttachmentFileID',
					beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				  params: {request_id: req_id, file_name: fileName}
			};
		  $http(req).then(handleResponse, handleError);
		  function handleResponse(response) {
					  if (new Date() - initialTime &gt; documentTimeout) {
							 window.clearInterval(documentInterval);
							 $('#loading').hide();
							 $('#messageInfo').html('Application fails to generate PDF document, please contact System Administrator');
               $('#infoModal').modal('show');
               $('#btnOkConfirm').off('click').click(function() {
                   $('#infoModal').modal('hide');
               });
							return;
						}				
					var result = response.data.result;
					//hightlight right record
				  var id = result.file_id;
		      if(id != null &amp;&amp; id.trim().length &gt; 0){
						window.clearInterval(documentInterval);
				    window.location.href = '/sys_attachment.do?sys_id=' + id;
						setTimeout(function(){}, 3000);
						$('#loading').hide();
					}
			}
			function handleError(response) {
			  window.clearInterval(documentInterval);
			  $('#loading').hide();
				console.error(response);
					alert('ERROR');
			}
	}
	
function fetchDetails(number, approvalId, state, stage, ticket_id){
		var variables= {};
		data = {
			requestedid : number	
		};
    var request = {
			url: '/api/naci/gdspapi/fetchSubmittedRequestData',
			method: 'POST',
			beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
			headers: {
				'Content-Type': 'application/json'
			},
			data: data
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response){
				var result = response.data.result;
			  var variables = result.variables;
			  var comments = "";
				comments = result.comments;
			  var comment_str = parse(comments);
			  $('#displayICId').html(ticket_id);
			  resetRequestValue();
			  loadApprovalData(variables);
			  clearDiv();
				$('#commentReviewICId1').empty();
				$('#commentReviewICId1').append(comment_str);

				$('#commentICId1').show();
				$('#commentICId1Lable').show();

				if(comment_str .length &lt; 137){
							 $('#pre_comments_ic_div').hide();
				 }else{
							 $('#pre_comments_ic_div').show();
				 }
				$('#hiddenRequestId').val(approvalId);
				$('#hiddenRequestItemId').val(number);
			  $('#roleId').val('SD');
				$('#comments_ic_div').show();
				if(state == 'approved' || state.indexOf('not_required') &gt;=0){
					 $('#comments_ic_div').hide();
					 $('#submitButton1').hide();
					 $('#closeButton1').show();
				}else if(state == 'requested' || state == 'rejected'){
					 if((stage == 'Waiting for GPA Review' || stage == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gpa){
							$('#comments_ic_div').show();
							$('#sd_ic_div').show();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; !sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'Waiting for SD Review' &amp;&amp; sd){
							$('#comments_ic_div').show();
							$('#sd_ic_div').hide();
							$('#submitButton1').show();
							$('#closeButton1').hide();
					 }else if(stage == 'SD Approved'){
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }else{
								$('#comments_ic_div').hide();
								$('#sd_ic_div').hide();
								$('#submitButton1').hide();
								$('#closeButton1').show();
					 }
				}else{
					 $('#comments_ic_div').show();
					 $('#submitButton1').show();
					 $('#closeButton1').hide();
				}
				var ticketN = $('#'+number+'_ticket').val();
				$('#displayICId').html(ticketN);		
			  $('#ic_modal_content').attr('style', 'height:950px; overflow-y:auto; overflow-x: hidden;');
			  loadConsentGroupData();
				if(variables.sampleTime == 'yes' &amp;&amp; variables.sampleConsent == 'no'){
					$('#insDiv').show();
				}else{
					$('#insDiv').hide();
				}			
			  $('#displayICRequests').modal('show').on('shown.bs.modal', function(){$('#displayICRequests .modal-content').scrollTop(0);}); 
		}
		function handleError(response){
			console.error(response);
			alert('ERROR');
		}
		$('#hiddenStage').val(stage);
 }	
	
	function loadConsentGroupData(){
		var consentStr = $('#consent_group1').val();
	  if(consentStr == null || typeof consentStr === 'undefined' || consentStr.trim().length == 0){
			$('#consentGrpDiv').hide();
		}else{
      getConsentGroups(consentStr);
		}
	}
	
	function getConsentGroups(consentStr){
		var request = {
				method: 'POST',
				url: '/api/naci/gds/fetchConsentGroupDataFromRequest',
				beforeSend: function(xhr){ xhr.setRequestHeader('X-UserToken', sessionId); },
				headers: {
					'Content-Type': 'application/json'
				},
				data: {consentGrp: consentStr}
		};
		$http(request).then(handleResponse, handleError);
		function handleResponse(response) {
			var result = response.data.result;
			var strTable = "&lt;table class='table table-bordered table-condensed table-hover' width='100%'&gt;&lt;tr bgcolor='lightgrey'&gt;&lt;th&gt;Collaborating Site Name&lt;/th&gt;&lt;th&gt;Data Use Limitation&lt;/th&gt;&lt;th&gt;Data Use Limitations Modifier&lt;/th&gt;&lt;/tr&gt;";
		  for(var i = 0; i &lt; result.length; i++){
				var use_limit = result[i].use_limit;
				if(result[i].data_field != null &amp;&amp; result[i].data_field.trim().length &gt; 0){
					use_limit = use_limit + " ["+ result[i].data_field +"] ";
				}			  
				strTable = strTable + "&lt;tr&gt;&lt;td&gt;"+result[i].site_name + "&lt;/td&gt;&lt;td&gt;" + use_limit + "&lt;/td&gt;&lt;td&gt;" + result[i].data_modifier +"&lt;/td&gt;&lt;/tr&gt;";
			}
			strTable = strTable + "&lt;/table&gt;";
			  
			$('#consentContentDiv').html(strTable);
			$('#consentGrpDiv').show();
		}
		function handleError(response) {
			console.error(response);
			alert('ERROR');
		}
	}

	
    function clearDiv(){
		$('#comments_ic_div').hide();
		$('#sd_ic_div').hide();
		$('#submitButton1').hide();
		$('#closeButton1').hide();
	}
	
	function parse(allcomments) {
	 var comments = allcomments.split("ENDCOMMENTS");
	 var commentsblock = '&lt;table border="1" width="100%"&gt;&lt;tr&gt;&lt;th&gt;Role&lt;/th&gt;&lt;th&gt;Approver&lt;/th&gt;&lt;th&gt;Approval Status&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;th&gt;Time&lt;/th&gt;&lt;/tr&gt;'
	 for(i = 0; i &lt; comments .length; i++){
			 if (comments[i].length &gt; 40) { 
				 if (comments[i][0] == '\n') {
						 var lastI = 0;
						 while (lastI &lt; comments[i].length &amp;&amp; comments[i][lastI] == '\n') 
									lastI ++;
						 comments[i] = comments[i].substring(lastI,comments[i].length);
				 }
				 var t = comments[i].substring(0,22);
				 var approver = comments[i].substring(comments[i].indexOf('(ENDROLE)')+9,comments[i].length);
				 var results = comments[i].substring(comments[i].indexOf('(Additional comments)') + 57,comments[i].indexOf('(Additional comments)') + 65);
				 var comm= comments[i].substring(comments[i].indexOf('(Additional comments)') + 66, comments[i].indexOf('(role)'));
				 var role = comments[i].substring(comments[i].indexOf('(role)') + 6, comments[i].indexOf('(ENDROLE)')); 
				 commentsblock = commentsblock + "&lt;tr&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + role + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + approver + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + results+ "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + comm + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;td&gt;" + t + "&lt;/td&gt;";
				 commentsblock = commentsblock + "&lt;/tr&gt;";
			 }
	 }
	 commentsblock = commentsblock + "&lt;/table&gt;";

	return commentsblock;
	}	
	
	function loadApprovalData(data){
		
			  for(key in data){
			//var value = getValue(key, data[key]);
			if(key == 'data_access'){
				if(data[key] == 'unrestricted'){
					 $("input[name=dataAccessBox1][value='unrestricted']").prop("checked",true);
				}else{
					 $("input[name=dataAccessBox1][value='controlled-access']").prop("checked",true);
				}
			}else if(key == 'display'){
				if(data[key] == 'yes'){
					 $('#displayBox1').prop('checked', true);
					 $('#controllaccessDiv1').show();
				}else{
					 $('#displayBox1').prop('checked', false);
					 $('#controllaccessDiv1').hide();
				}
			}else if(key == 'consent_group'){
				$('#'+key+"1").val(data[key]);
			}else{
				$('#'+key+"1").html(data[key]);
			}
		}
	}

 function resetRequestValue(){
    var i = 0;
    for( i = 0; i!= names.length; i++){
        $('#'+names[i] + "1").html('');
    }
  }	

spUtil.recordWatch($scope, "sysapproval_approver", "", function(name, data) {  
			spUtil.update($scope);
	});	
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.highlight {&amp;#13;
  background-color: yellow !important;&amp;#13;
}&amp;#13;
&amp;#13;
.form-control1 {&amp;#13;
    display: block;&amp;#13;
    width: 20%;&amp;#13;
    height: 30px;&amp;#13;
    padding: 6px 12px;&amp;#13;
    font-size: 14px;&amp;#13;
    line-height: 1.42857;&amp;#13;
    color: #555555;&amp;#13;
    background-color: #fff;&amp;#13;
    background-image: none;&amp;#13;
    border: 1px solid #ccc;&amp;#13;
    border-radius: 4px;&amp;#13;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);&amp;#13;
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
.overlay {&amp;#13;
  position: fixed; &amp;#13;
  width: 100%; &amp;#13;
  height: 100vh; &amp;#13;
  background-color: white; &amp;#13;
  opacity: 0.9; &amp;#13;
  z-index: 9999; &amp;#13;
  top: 0; &amp;#13;
  left: 0;&amp;#13;
  &amp;#13;
  display: flex;&amp;#13;
  align-items: center;&amp;#13;
  justify-content: center;&amp;#13;
  flex-direction: column;&amp;#13;
}&amp;#13;
&amp;#13;
.spinner {&amp;#13;
  animation: spin 2s infinite linear;&amp;#13;
}&amp;#13;
&amp;#13;
/** spin animation */&amp;#13;
@keyframes spin {&amp;#13;
  from {&amp;#13;
    transform: rotate(0deg);&amp;#13;
  }&amp;#13;
&amp;#13;
  to {&amp;#13;
    transform: rotate(359deg);&amp;#13;
  }&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;gsiat&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;GDS SD IC Approval Table&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
	data.approvalICTasks = [];
	data.reviewedICTasks = [];
	data.info = [];
	var session_id = gs.getSessionToken();
	var my_sys_id = gs.getUserID();
	var gr = gs.getUser(); 
	var gpa = gr.isMemberOf('CCR_GPA');
	var sd = gr.isMemberOf('CCR_SD');
	
	data.info = {
		userId: my_sys_id,
		sessionId: session_id,
		gpa: gpa,
		sd: sd
	};
	if(sd){
		var gr1 = new GlideRecord("sc_cat_item");
				gr1.addQuery("short_description", "CCR GDSP Intramural Certification");
				gr1.query();	
				gr1.next();
				var cat_item_id = gr1.getValue('sys_id');


			 var gr_approval_items = GlideRecord('sysapproval_approver');
			 var req_item = gr_approval_items.addJoinQuery('sc_req_item','document_id','sys_id');
			 req_item.addCondition('cat_item', cat_item_id);

			 gr_approval_items.addQuery('approver', my_sys_id); 
			 gr_approval_items.addQuery('source_table','sc_req_item');
			 gr_approval_items.orderByDesc('sys_updated_on');  
			 gr_approval_items.query();
			 while (gr_approval_items.next()){
				 var orginId = '';
				 var tickerNum = '';
				 var org_ticket_num = '';
				 var version = '';
				 var hasParent = '';
				 var selectedOrginId = '';

				 var docId = gr_approval_items.document_id;

				 selectedOrginId = gr_approval_items.document_id.contact_type;
				 if(selectedOrginId == '' || selectedOrginId === undefined || selectedOrginId == 'Web' ){
							orginId = gr_approval_items.document_id.sys_id;
							org_ticket_num = gr_approval_items.document_id.number;
							hasParent = 'false';
					}else{
						 var orgIds = selectedOrginId.split("=");
						 var gr_tracking_item = GlideRecord('u_ccr_tracking_t');
						 gr_tracking_item.addQuery('u_orgid',orgIds[0]);
						 gr_tracking_item.query();

						 if(gr_tracking_item.getRowCount() &gt; 0){
									gr_tracking_item.next();
									orginId = gr_tracking_item.u_orgid;
									org_ticket_num = gr_tracking_item.u_ticket_number;
									version = orgIds[1];
									hasParent = 'true';
						 }else {
									orginId = gr_approval_items.document_id.sys_id;
									org_ticket_num = gr_approval_items.document_id.number;
									hasParent = 'false';
						 }
					}

					var ticket_number = '';
					if(hasParent == 'true'){
							ticket_number = 'CCR_IC' + org_ticket_num.substring(8) + '-' + version;
					}else{
							ticket_number = "CCR_IC" + gr_approval_items.sysapproval.number.substring(8);
					}

					var stage_v = gr_approval_items.document_id.context.stage.name;		
					//if(stage_v == 'Waiting for PI Resubmit'|| stage_v == 'Completed'|| (stage_v == 'Waiting for SD Review' &amp;&amp; gpa) || (stage_v == 'SD Rejected - Waiting for GPA Review' &amp;&amp; sd )){
						//	if (!((stage_v == 'SD Rejected - Waiting for PI Resubmit' || stage_v == 'SD Rejected - Waiting for GPA Review') &amp;&amp; gr_approval_items.state == 'approved')) {
							//	 if ((gr_approval_items.document_id.sys_created_by == gr_approval_items.sys_created_by)||(gr.isMemberOf('CCR_SD'))) {
									
								if(!((stage_v == 'Waiting for GPA Review' ) || (stage_v == 'Waiting for SD Review'))){	
									 if(stage_v != 'Completed' || (stage_v == 'Completed' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for SD Review')){
											 var item = {};
											item.ic_id = ticket_number;
										  item.number = 'CCR_IC' + gr_approval_items.document_id.number.toString().substring(8);
											item.study_name = gr_approval_items.document_id.variables.study_name.toString();
											item.project_title = gr_approval_items.document_id.variables.project_title.toString();
											item.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
											item.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
											item.status = gr_approval_items.document_id.context.stage.name.toString(); 
											item.last_update_date = gr_approval_items.sys_updated_on.toString();
											item.stage = stage_v.toString();
											item.sys_id = gr_approval_items.sys_id.toString();
											item.doc_id = gr_approval_items.document_id.toString();
											item.state = gr_approval_items.state.toString();
											data.reviewedICTasks.push(item);
									}
							}
							if (stage_v == 'Waiting for SD Review' &amp;&amp; gr_approval_items.wf_activity.stage.name == 'Waiting for SD Review' ) {
									var items = {};
									items.ic_id = ticket_number;
								  items.number = 'CCR_IC' + gr_approval_items.document_id.number.toString().substring(8);
									items.study_name = gr_approval_items.document_id.variables.study_name.toString();
									items.project_title = gr_approval_items.document_id.variables.project_title.toString();
									items.submitted_by = gr_approval_items.sysapproval.opened_by.name.toString();
									items.submitted_date = gr_approval_items.document_id.sys_created_on.toString();
									items.status = gr_approval_items.document_id.context.stage.name.toString();
									items.last_update_date = gr_approval_items.sys_updated_on.toString();
									items.stage = stage_v.toString();
									items.sys_id = gr_approval_items.sys_id.toString();
									items.doc_id = gr_approval_items.document_id.toString();
									items.state = gr_approval_items.state.toString();						
									data.approvalICTasks.push(items);
							}

					//}
			 }
	}
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 18:20:59&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;63fc8cdcdb284340f59974131f9619d3&lt;/sys_id&gt;&lt;sys_mod_count&gt;122&lt;/sys_mod_count&gt;&lt;sys_name&gt;GDS SD IC Approval Table&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_63fc8cdcdb284340f59974131f9619d3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-01-03 17:10:52&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div class="panel panel-success panel-area" ng-show="c.data.approvalICTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_sdApprovalICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsesdApprovalICItems" aria-expanded="true" data-target="#collapsesdApprovalICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-minus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications Waiting for SD Approval &lt;span class="badge" id="ritm_count"&gt;{{ c.data.approvalICTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div aria-labelledby="heading_sdApprovalICItems" class="panel-collapse collapse in" id="collapsesdApprovalICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
          		&lt;label for="search_savedIC_SD" class="label-hidden"&gt;Search:&lt;/label&gt;
            	&lt;input id="search_savedIC_SD" type="text" class="form-control1" ng-model="searchSavedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns track by $index" 
              ng-click="c.toggleSort($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.approvalICTasks | filter:searchSavedIC"
            ng-show="$index &gt;= c.pagination.currentPage * c.pagination.currentSize &amp;&amp;
                     $index &lt; (c.pagination.currentPage + 1) * c.pagination.currentSize"
            				 ng-class="{highlight: row.doc_id == c.state.id }"
          					 id="{{row.doc_id}}"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted"  title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.viewSDIC(row.doc_id, row.sys_id, row.state, row.stage, row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.reportSDIC(row.doc_id, row.number, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt; 
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
          &lt;form class="form-inline"&gt;
            &lt;div class="pagination form-group"&gt;
              &lt;label for="pageSize6"&gt;
                Items per page
              &lt;/label&gt;

              &lt;select 
                id="pageSize6" 
                class="form-control"
                style="display: inline"
                ng-init="c.pagination.currentSize = c.pagination.pageSizes[1]"
                ng-model="c.pagination.currentSize"
                ng-options="sizes for sizes in c.pagination.pageSizes"&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/form&gt;  
          &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
        &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination.currentSize &lt; c.data.approvalICTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange() track by $index"
          ng-click="c.setPage($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
 
  &lt;div class="panel panel-success panel-area" ng-show="c.data.reviewedICTasks.length &gt; 0"&gt;
    &lt;div class="panel-heading panel-header" id="heading_sdReviewedICItems" role="tab"&gt;
      &lt;h4 class="panel-title"&gt;
        &lt;a aria-controls="collapsesdReviewedICItems" aria-expanded="true" data-target="#collapsesdReviewedICItems" data-toggle="collapse" role="button"&gt;
          &lt;span class="accordion_icon"&gt;&lt;i class="fa fa-plus-square"&gt;&lt;/i&gt;&lt;/span&gt; 
          Institutional Certifications reviewed by SD &lt;span class="badge" id="ritm_count"&gt;{{ c.data.reviewedICTasks.length }}&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;
    &lt;/div&gt;

    &lt;div aria-labelledby="heading_sdReviewedICItems" class="panel-collapse collapse" id="collapsesdReviewedICItems" role="tabpanel"&gt;
      &lt;table class="table table-bordered table-striped table-condensed table-hover"&gt;
        &lt;thead&gt;
        &lt;tr&gt;
          &lt;td colspan="9"&gt;
      		&lt;form class="form-inline"&gt;
            	&lt;label for="search_submittedIC_SD" class="label-hidden"&gt;Search:&lt;/label&gt;
          		&lt;input id="search_submittedIC_SD" type="text" class="form-control1" ng-model="searchSubmittedIC" placeholder="Search"/&gt;
          &lt;/form&gt;  
          &lt;/td&gt;  
				&lt;/tr&gt;           
        &lt;tr&gt;
          &lt;th 
              ng-repeat="column in c.columns1 track by $index" 
              ng-click="c.toggleSort1($index)" 
              style="cursor: pointer"&gt;
              {{ column.label }}
              &lt;span 
                class="glyphicon small" 
                ng-class="{
                            'glyphicon-chevron-up': column.sort === 'asc',
                            'glyphicon-chevron-down': column.sort === 'desc'
                          }"&gt;
              &lt;/span&gt;
          &lt;/th&gt;
        &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tr ng-repeat="row in c.data.reviewedICTasks | filter: searchSubmittedIC"
            ng-show="$index &gt;= c.pagination1.currentPage * c.pagination1.currentSize &amp;&amp;
                     $index &lt; (c.pagination1.currentPage + 1) * c.pagination1.currentSize"
            				 ng-class="{highlight: row.doc_id == c.state.id }"&gt;
          &lt;td class="ritm_number"&gt;{{ row.ic_id }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.study_name }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.project_title }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_by }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.submitted_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.status }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;{{ row.last_update_date }}&lt;/td&gt;
          &lt;td class="ritm_number"&gt;
                &lt;span ng-switch on='row.stage'&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for SD Review'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for GPA Review - SD Rejected'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_active.gifx" Alt="Waiting for GPA Review" title="Waiting for GPA Review"/&gt;&lt;img src="/images/workflow_pending.gifx" Alt="Waiting for SD Review" title="Waiting for SD Review"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-when='SD Rejected - Waiting for PI Resubmit'&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="SD Rejected" title="SD Rejected"/&gt;&lt;img src="/images/workflow_rejected.gifx" Alt="GPA Rejected" title="GPA Rejected"/&gt;&lt;/span&gt;
                  &lt;span ng-switch-default&gt;&lt;img src="/images/workflow_approved.gifx" Alt="Request Submitted" title="Request Submitted"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="GPA Approved" title="GPA Approved"/&gt;&lt;img src="/images/workflow_approved.gifx" Alt="SD Approved" title="SD Approved"/&gt;&lt;/span&gt;
            		&lt;/span&gt; 
          &lt;/td&gt;
          &lt;td&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-click="c.viewSDIC(row.doc_id, row.sys_id, row.state, row.stage,row.ic_id)" style="width: 70px; text-align: center;"&gt;
              View
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-show="row.status == 'Completed'" ng-click="c.reportSDIC(row.doc_id, row.number, 'sd')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;
            &lt;button class="btn btn-sm btn-primary active" ng-show="row.status != 'Completed'" ng-click="c.reportSDIC(row.doc_id, row.number, 'pi')"style="width: 70px; text-align: center;"&gt;
              Export
            &lt;/button&gt;            
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;!-- select the page size --&gt;
      &lt;div class="paging-bar"&gt;
        &lt;div class="paging-option"&gt;
      &lt;form class="form-inline"&gt;
        &lt;div class="pagination form-group"&gt;
          &lt;label for="pageSize7"&gt;
            Items per page
          &lt;/label&gt;

          &lt;select 
            id="pageSize7" 
            class="form-control"
            style="display: inline"
            ng-init="c.pagination1.currentSize = c.pagination1.pageSizes[1]"
            ng-model="c.pagination1.currentSize"
            ng-options="sizes for sizes in c.pagination1.pageSizes"&gt;
          &lt;/select&gt;
        &lt;/div&gt;
      &lt;/form&gt;  
        &lt;/div&gt;
      &lt;!-- select the page index (offset) --&gt;
      &lt;div class="paging-content"&gt;
      &lt;ul class="pagination" ng-show="c.pagination1.currentSize &lt; c.data.reviewedICTasks.length"&gt;
        &lt;li
          ng-repeat="index in c.getRange1() track by $index"
          ng-click="c.setPage1($index)"
          &gt;
          &lt;a href=""&gt;
            {{ $index + 1 }}
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;  
&lt;/div&gt;

&lt;div id="loading" class="overlay" style="display:none;"&gt;
  &lt;div class="spinner" style="width: 25px; height: 25px"&gt;
  	&lt;svg version="2.0" class="spinner" width="25" height="25"&gt;
      &lt;circle cx="12.5" cy="12.5" r="10" fill="transparent" stroke="#ccc" stroke-width="2.5" /&gt;
      &lt;path fill="transparent" stroke="#666" stroke-width="2.5" d="M 12.5 2.5 a 10 10 0 0 1 10 10" /&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
  &lt;span&gt;Processing&lt;/span&gt;
&lt;/div&gt;

&lt;div id="infoModal" class="modal fade"&gt;
    &lt;div class="modal-dialog"&gt;
        &lt;div class="modal-content"&gt;
            &lt;div class="modal-header"&gt;
                &lt;button type="button" class="close" data-dismiss="modal" aria-label="Close"&gt;
                    &lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 id="lblTitleConfirmOk" class="modal-title"&gt;Information&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class="modal-body"&gt;
                &lt;p align="center" id="messageInfo"&gt;&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="modal-footer"&gt;
                &lt;button id="btnOkConfirm" type="button" class="btn btn-primary" style="width: 70px; text-align: center;"&gt;OK&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1432329790</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>de8b77dfdbcb2f00b86770c08c961971</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16814b240020000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table/>
<target_name>GDS SD IC Approval Table</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>2da4f51115b2af40846f5605f3b0db4c</update_guid>
<update_guid_history>2da4f51115b2af40846f5605f3b0db4c:-1432329790,42f2bd5db172af40ada355f0085117a6:-825185511,e942355dec72af40f61ee8df50e3e0fa:-1432329790,6081fd1d6172af40416ca7861717b293:415774802,e65e7089dd72af40b039ef3bed98b8f4:-1432329790,270e78099772af40cedcf2f72aa1761d:1947554029,1c8c937f65d6ef00049afc2a5b5cefb9:937655782,0d7c1b3fdbd6ef00aae04dafacfe4f4c:-764983450,39f7f93fedd2ef00b1fddab3236e7c68:1847488510,4cf7b53f22d2ef00aa940b295e4cb9bb:-726130792,8ea6713f1ed2ef00e7a238698bb1ca42:-1183507714,128d5d2b713d6700b6a8211372d2d086:-161717887,42cc552b453d67005ff429f9c2c16092:278174894,2abc152be23d670085f4b1e855929df2:975686709,e3ac9167b03d6700ba7046c81e00e4f8:145929214,170e09eb75f9670005a1a4f836a8da7e:972226059,77cd0d2f54f967000b9244d597ff6eb9:-1889363830,e14685e7daf96700023897e47c9d8913:972226059,c146c567bbf967001712e46f00583691:-1681390793,544649a707f96700149299a48e1236e2:-957811966,4fce202712b96700b88b27c873a0f9b7:-764327324,ebc2ea972029a3409900bd2157033b5d:-1996967929,8a82ea974529a340dcd3fb43ed689853:-631830038,89802e172629a3406941b789caa7b88e:1726263754,f277dce7e06b5f009c3743cd19ec35f2:-1927662170,bd465067546b5f00a48499517afc96e9:-658536640,ff36dcefd32b5f002c51d46e70c6c449:-932501952,58e37fc111a79700cd67042d0285068f:1907054144,dd70f3cd5367970011d0c9d20be446f9:-2101581983,11f6ab09c26797001eeaf18ca646cc04:2124592297,4445d3f823e757009d7a088fe029748d:-1630630453,89eccb7043e757004a35e9170cdad9a8:-976875387,0adc47b062e757009b8f8e27ee9c8a02:1978395481,bdcc4b7015e757002029826076345308:311614267,9fbc4f70e7e7570079fc2e77f068f3ec:952196069,92bc47b03fe757002180ecefa6335e23:-1686398268,8114e6b011675700d7f91df209192b7d:2092839182,e7c2ee7c53275700c564b1ecb7173c9e:-1147478354,d3a2e270e1675700952c8499074d3de0:1647432560,f2279da39d1f5300c2b1cfdffec8c33f:-199545519,88275923bf1f53005f7094ff79297d68:371444761,12071c43015b5300b26ebbcf9194ea52:339229141,19071c43085b5300c51b35d7c8dfd029:-294864586,98b89ccf26ea1f00d8378dba2a00e2c5:1635686445,8147d73eab859b0077d5b4ca20038f02:891342023,98b89ccf26ea1f00d8378dba2a00e2c5:1635686445,98b89ccf26ea1f00d8378dba2a00e2c5:1635686445,8147d73eab859b0077d5b4ca20038f02:891342023,659c1d43987413008b9d2ac5cea36ecd:1798134664,79bad1c381741300c414e90e275a8669:-534043511,18bad1c326741300728cdef979ccd91d:1122978377,d8aad18fd03413005cef114d2bccaaa7:-798316830,c84a9d83547413000b8173209e00019a:-1334678776,0a02514fec341300ab1f25f8d9a342c5:-1129077577,65f1110f9c341300828ac239fc0dfbc4:1612957457,7cf1d14b04341300895ba95653053d0f:-819112523,1ec159cb42341300aec8cfde35d6786c:812287296,3ab1110fb534130037337669b6c92ffa:1376939676,66d9c9b5d6a7cf0064061a2467183cf7:-2010104314,d3c985b5e8a7cf00e431c6ef66937078:-124716817,00c9c9b530a7cf0014b166441c88fef1:147888110,a68bf70dccf24f0075772290f23d307e:1335602904,412d31ce81624700baea51a7d8d582f5:-785936265,af0db54e0062470096a1e043f1bce69a:488789085,c3cc7dce2a6247004c54d1d5e9c5b9f0:-1863850069,86bc754eab6247006667a73470b2e17f:-1417211621,b47c798e776247009a33184872c86515:-185185855,1a2bb54e906247009126dd6d5c5dc6a5:-323011231,26ca314edd6247001774ed80957b9ed8:-1256888217,b6d8b50e9d6247005c462b3725d70484:-323011231,17c8390eb16247009ea684be65f7e37e:-614030579,bec8390e04624700cc7e1c2ce5c1a274:811611070,ad48f1cadb624700095d4eddfeaab1af:-346647644,47f7f9ca2a6247006803c4b98b38f4ba:525214081,76e731cab8624700ab237fbb9916f39c:-1064940939,c4c77d4aa5624700ab0bddf57957e77b:-1979305186,f6a7398a91624700380cda5e371b981f:730356318,32577d8abc6247009e5973275ac8dbe1:-245806116,2b27f94a646247008dd422439ac55f00:1339499676,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854,d218979fd4de8300c5ff05df59fe5e08:2013508854</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_module_b6ff749edb9e2f0054d8ff621f961956</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="DELETE"><active>true</active><application display_value="GDS Tissue Protocals">b6ff349edb9e2f0054d8ff621f961929</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>GDS Tissue Protocals</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>u_gds_tissue_protocals</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles>u_gds_tissue_protocals_user</roles><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>b6ff749edb9e2f0054d8ff621f961956</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocals</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_module_b6ff749edb9e2f0054d8ff621f961956</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><timeline_page/><title>GDS Tissue Protocals</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<payload_hash>-1642788843</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>de8bbbdfdbcb2f00b86770c08c961904</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e01a730000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>GDS Tissue Protocals</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>1b10499eeb9e2f00dbc824a27cee7bdd</update_guid>
<update_guid_history>1b10499eeb9e2f00dbc824a27cee7bdd:-1642788843,7eff749efa9e2f00183623bb2cab3d57:-934696951</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_gds_tissue_protocols_u_protocol_branch</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="u_protocol_branch" table="u_gds_tissue_protocols"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label>Protocol Branch</column_label><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element>u_protocol_branch</element><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="String">string</internal_type><mandatory>false</mandatory><max_length>100</max_length><name>u_gds_tissue_protocols</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:26:18</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>ee9045dedb9e2f0054d8ff621f9619f6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Protocol Branch</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_gds_tissue_protocols_u_protocol_branch</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:26:18</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>-701799935</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>e28bbbdfdbcb2f00b86770c08c961907</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e254780000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols.Protocol Branch</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>4ba085de769e2f000579868a4a689489</update_guid>
<update_guid_history>4ba085de769e2f000579868a4a689489:-701799935</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_headers_6918f46adb11a70054d8ff621f961955</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn_headers"><sys_rest_message_fn_headers action="INSERT_OR_UPDATE"><name>Accept</name><rest_message_function display_value="getZlist">d5f820e2db11a70054d8ff621f961926</rest_message_function><sys_class_name>sys_rest_message_fn_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-24 20:25:54</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>6918f46adb11a70054d8ff621f961955</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Accept</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_headers_6918f46adb11a70054d8ff621f961955</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-24 20:25:54</sys_updated_on><value>application/json</value></sys_rest_message_fn_headers></record_update>]]></payload>
<payload_hash>989779887</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e28bbbdfdbcb2f00b86770c08c96190a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a7c14acf0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Accept</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>de68346a3a11a700571c32d726261bcd</update_guid>
<update_guid_history>de68346a3a11a700571c32d726261bcd:989779887</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_8b408d9edb9e2f0054d8ff621f961995</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocols</description><name>u_gds_tissue_protocols</name><operation display_value="delete">delete</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>8b408d9edb9e2f0054d8ff621f961995</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_8b408d9edb9e2f0054d8ff621f961995</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>895979856</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e28bbbdfdbcb2f00b86770c08c96190d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d47f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>c3408d9e609e2f00482ba7125a700c9a</update_guid>
<update_guid_history>c3408d9e609e2f00482ba7125a700c9a:895979856</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_fe408d9edb9e2f0054d8ff621f961992</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>fe408d9edb9e2f0054d8ff621f961992</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_gds_tissue_protocols">3e408d9edb9e2f0054d8ff621f96195b</sys_security_acl><sys_update_name>sys_security_acl_role_fe408d9edb9e2f0054d8ff621f961992</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocols_user" name="u_gds_tissue_protocols_user">76408d9edb9e2f0054d8ff621f96193d</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-2082696433</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e28bbbdfdbcb2f00b86770c08c961910</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d4360000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols.u_gds_tissue_protocols_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>3e408d9e669e2f005e420f37d7feb294</update_guid>
<update_guid_history>3e408d9e669e2f005e420f37d7feb294:-2082696433</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_cb230f48dbe9eb00b86770c08c9619b6</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;fetchSDList&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	  var sd_list = [];
	  sd_list.push({value:'NONE', 	label: 'Please select a scientific director'});
	  var getMembers = new GlideRecord('sys_user_grmember');
		  getMembers.addQuery('group.name','CCR_SD');
		  getMembers.query();
	  while(getMembers.next())
	  {
			 sd_list.push({
				 value: getMembers.user.toString(),
				 label: [getMembers.user.first_name, getMembers.user.last_name].join(' ')
			 });
	  }	
   return sd_list;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/fetchSDList&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/fetchSDList&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-29 22:24:03&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;cb230f48dbe9eb00b86770c08c9619b6&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;fetchSDList&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_cb230f48dbe9eb00b86770c08c9619b6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-10-29 22:37:28&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-126308419</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e28bbbdfdbcb2f00b86770c08c961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166c1f989980000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>fetchSDList</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>9676834c9ae9eb00f7fa59f562df3c6c</update_guid>
<update_guid_history>9676834c9ae9eb00f7fa59f562df3c6c:-126308419,f273070c3ce9eb00dda1f5da30b11545:1763195032,216383885ae9eb00ca0332eacafef71b:-452878897</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_ccr_gds_z_list_table_u_title</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_dictionary action="INSERT_OR_UPDATE" element="u_title" table="u_ccr_gds_z_list_table"><active>true</active><array>false</array><array_denormalized>false</array_denormalized><attributes/><audit>false</audit><calculation>(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);</calculation><choice/><choice_field/><choice_table/><column_label>Title</column_label><comments/><create_roles/><default_value/><defaultsort/><delete_roles/><dependent/><dependent_on_field/><display>false</display><dynamic_creation>false</dynamic_creation><dynamic_creation_script/><dynamic_default_value/><dynamic_ref_qual/><element>u_title</element><element_reference>false</element_reference><foreign_database/><function_definition/><function_field>false</function_field><internal_type display_value="String">string</internal_type><mandatory>false</mandatory><max_length>200</max_length><name>u_ccr_gds_z_list_table</name><next_element/><primary>false</primary><read_only>false</read_only><read_roles/><reference/><reference_cascade_rule/><reference_floats>false</reference_floats><reference_key/><reference_qual/><reference_qual_condition/><reference_type/><sizeclass/><spell_check>false</spell_check><staged>false</staged><sys_class_name>sys_dictionary</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:24:05</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>5da966cedbdd270054d8ff621f96194b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Title</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_dictionary_u_ccr_gds_z_list_table_u_title</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:24:05</sys_updated_on><table_reference>false</table_reference><text_index>false</text_index><u_model_id/><u_normalize_set/><unique>false</unique><use_dependent_field>false</use_dependent_field><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><virtual>false</virtual><widget/><write_roles/><xml_view>false</xml_view></sys_dictionary></record_update>]]></payload>
<payload_hash>1374127806</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>e68bbbdfdbcb2f00b86770c08c961906</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a1869b3e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table.Title</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>dfb9a6cedfdd2700e47b97ad9bb08473</update_guid>
<update_guid_history>dfb9a6cedfdd2700e47b97ad9bb08473:1374127806</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_4ea86822db11a70054d8ff621f961993</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>package_private</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description>This is the outbound REST message for retrieving z list from another server to fit GDSP needs</description><name>Z List retrieval</name><oauth2_profile/><protocol_name/><rest_endpoint>https://ccrintra.cancer.gov/ARS/api/projects</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-24 19:18:23</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>4ea86822db11a70054d8ff621f961993</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Z List retrieval</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_4ea86822db11a70054d8ff621f961993</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-24 19:18:23</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<payload_hash>858268468</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e68bbbdfdbcb2f00b86770c08c961909</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a7837a9f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Z List retrieval</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_guid>59f820e21811a700cca75954927c0f28</update_guid>
<update_guid_history>59f820e21811a700cca75954927c0f28:858268468</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_3e408d9edb9e2f0054d8ff621f96195b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocols</description><name>u_gds_tissue_protocols</name><operation display_value="write">write</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>3e408d9edb9e2f0054d8ff621f96195b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_3e408d9edb9e2f0054d8ff621f96195b</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-1628197890</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e68bbbdfdbcb2f00b86770c08c96190c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d41b0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>u_gds_tissue_protocols</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>72408d9e709e2f0089a532821b3d4892</update_guid>
<update_guid_history>72408d9e709e2f0089a532821b3d4892:-1628197890</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_b6ff749edb9e2f0054d8ff621f961963</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="DELETE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>b6ff749edb9e2f0054d8ff621f961963</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="">beff749edb9e2f0054d8ff621f96195c</sys_security_acl><sys_update_name>sys_security_acl_role_b6ff749edb9e2f0054d8ff621f961963</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><sys_user_role display_value="u_gds_tissue_protocals_user" name="u_gds_tissue_protocals_user">7aff349edb9e2f0054d8ff621f961920</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>1013873349</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e68bbbdfdbcb2f00b86770c08c96190f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0159a0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>beff749edb9e2f0054d8ff621f96195c</table>
<target_name>u_gds_tissue_protocals.u_gds_tissue_protocals_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>8710499ec39e2f00f9c3cc83e1ca4740</update_guid>
<update_guid_history>8710499ec39e2f00f9c3cc83e1ca4740:1013873349,7aff749e2a9e2f00eed7ab128594b465:-1407488201</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_user_role_7aff349edb9e2f0054d8ff621f961920</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role"><sys_user_role action="INSERT_OR_UPDATE"><assignable_by/><can_delegate>true</can_delegate><description/><elevated_privilege>false</elevated_privilege><grantable>true</grantable><includes_roles/><name>u_gds_tissue_protocals_user</name><scoped_admin>false</scoped_admin><suffix/><sys_class_name>sys_user_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>7aff349edb9e2f0054d8ff621f961920</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_user_role_7aff349edb9e2f0054d8ff621f961920</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on></sys_user_role></record_update>]]></payload>
<payload_hash>1830831351</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e68bbbdfdbcb2f00b86770c08c961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3df91500000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>u_gds_tissue_protocals_user</target_name>
<type>Role</type>
<update_domain>global</update_domain>
<update_guid>b6ff349e2b9e2f00e4b89eb76ab0f223</update_guid>
<update_guid_history>b6ff349e2b9e2f00e4b89eb76ab0f223:1830831351</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_40793e4cdba9eb00b86770c08c9619a3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;addMemberIntoGroup&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	var user_id = body.user_id;
    var group_name = body.group_name;
	var result = {};
	var group_id = '';
	var existUser = false;
	
	var member = new GlideRecord('sys_user_grmember');
		member.addQuery('group.name', group_name);
		member.query();
	while(member.next()){
	   group_id = member.group.sys_id.toString();
	   if(member.user.sys_id.toString() == user_id){
		  existUser = true;

		  break;
	   }
	}
	if(existUser == false){
	   member.initialize();
	   member.group = group_id;
	   member.user = user_id;
	   member.insert();
	   result.status = 'Completed';	 
	}else{
	   result.status = 'user already exist';
	}
   
	return result;
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/naci/gds/addMemberIntoGroup&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/addMemberIntoGroup&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;zhoujim@nih.gov&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-29 21:40:55&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;&lt;sys_id&gt;40793e4cdba9eb00b86770c08c9619a3&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;addMemberIntoGroup&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_40793e4cdba9eb00b86770c08c9619a3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;zhoujim@nih.gov&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-10-29 22:32:15&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="gds"&gt;0cf2faafdbbd360054d8ff621f96197e&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-78691641</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>e68bbbdfdbcb2f00b86770c08c961913</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166c1f4c1e60000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>addMemberIntoGroup</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>3d45c78c82e9eb008e876b84616dd7ed</update_guid>
<update_guid_history>3d45c78c82e9eb008e876b84616dd7ed:-78691641,5041cfc400e9eb005db62a40e367d2ed:-1074535445,984af68c8fa9eb003bae8f31914b7dd7:710026714,d03afe4cf5a9eb00410708addbbad912:-825535143,8289fe4cc8a9eb004b1b4d179ccdd20e:1396634060</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_db_object_9b304d9edb9e2f0054d8ff621f9619bd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_db_object"><sys_db_object action="INSERT_OR_UPDATE"><access>public</access><actions_access>false</actions_access><alter_access>false</alter_access><client_scripts_access>false</client_scripts_access><configuration_access>false</configuration_access><create_access>false</create_access><create_access_controls>true</create_access_controls><delete_access>false</delete_access><extension_model/><is_extendable>false</is_extendable><label>GDS Tissue Protocols</label><live_feed_enabled>false</live_feed_enabled><name>u_gds_tissue_protocols</name><number_ref/><provider_class/><read_access>true</read_access><super_class/><sys_class_code/><sys_class_name>sys_db_object</sys_class_name><sys_class_path/><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>9b304d9edb9e2f0054d8ff621f9619bd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_db_object_9b304d9edb9e2f0054d8ff621f9619bd</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><update_access>false</update_access><user_role display_value="u_gds_tissue_protocols_user" name="u_gds_tissue_protocols_user">76408d9edb9e2f0054d8ff621f96193d</user_role><ws_access>true</ws_access></sys_db_object></record_update>]]></payload>
<payload_hash>780330283</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>ea8bbbdfdbcb2f00b86770c08c961905</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d6270000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Table</type>
<update_domain>global</update_domain>
<update_guid>07408d9e549e2f0085120750e214e7be</update_guid>
<update_guid_history>07408d9e549e2f0085120750e214e7be:780330283</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_gds_tissue_protocols_u_protocol_branch_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_protocol_branch" label="Protocol Branch" language="en" table="u_gds_tissue_protocols"><sys_documentation action="INSERT_OR_UPDATE"><element>u_protocol_branch</element><help/><hint/><label>Protocol Branch</label><language>en</language><name>u_gds_tissue_protocols</name><plural>Protocol Branches</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:26:18</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>3ea0099edb9e2f0054d8ff621f961987</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Protocol Branch</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_gds_tissue_protocols_u_protocol_branch_en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:26:18</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1483366066</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ea8bbbdfdbcb2f00b86770c08c961908</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e2548e0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols.Protocol Branch</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>4fa085de389e2f004ffbd0c209f5508a</update_guid>
<update_guid_history>4fa085de389e2f004ffbd0c209f5508a:1483366066</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_headers_cb877a66dbe9234054d8ff621f961998</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_headers"><sys_rest_message_headers action="INSERT_OR_UPDATE"><name>Accept</name><rest_message display_value="getGDSBranchName">b6b67266dbe9234054d8ff621f96197c</rest_message><sys_class_name>sys_rest_message_headers</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 15:57:46</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>cb877a66dbe9234054d8ff621f961998</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Accept</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_headers_cb877a66dbe9234054d8ff621f961998</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-06 15:57:46</sys_updated_on><value>application/json</value></sys_rest_message_headers></record_update>]]></payload>
<payload_hash>1367977958</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ea8bbbdfdbcb2f00b86770c08c96190b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166e9be78c10000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>Accept</target_name>
<type>HTTP Headers</type>
<update_domain>global</update_domain>
<update_guid>41b7f666cde9234041144069c249a9b9</update_guid>
<update_guid_history>41b7f666cde9234041144069c249a9b9:1367977958</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_3359ee8edbdd270054d8ff621f96190a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:29</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>3359ee8edbdd270054d8ff621f96190a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_ccr_gds_z_list_table">7b59ee8edbdd270054d8ff621f961904</sys_security_acl><sys_update_name>sys_security_acl_role_3359ee8edbdd270054d8ff621f96190a</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:29</sys_updated_on><sys_user_role display_value="u_ccr_gds_z_list_table_user" name="u_ccr_gds_z_list_table_user">af592ecadbdd270054d8ff621f9619d6</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-1167701070</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ea8bbbdfdbcb2f00b86770c08c96190e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a18523380000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>u_ccr_gds_z_list_table.u_ccr_gds_z_list_table_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>fb59ee8e53dd2700dc76369018542a24</update_guid>
<update_guid_history>fb59ee8e53dd2700dc76369018542a24:-1167701070</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_module_fe408d9edb9e2f0054d8ff621f961948</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_module"><sys_ui_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="GDS Tissue Protocols">b6408d9edb9e2f0054d8ff621f961947</application><filter/><name>GDS Tissue Protocols</name><order/><path/><path_relative_to_root>false</path_relative_to_root><roles>u_gds_tissue_protocols_user</roles><sys_class_name>sys_ui_module</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>fe408d9edb9e2f0054d8ff621f961948</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_module_fe408d9edb9e2f0054d8ff621f961948</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on><table>u_gds_tissue_protocols</table><uncancelable>false</uncancelable><view_name/></sys_ui_module></record_update>]]></payload>
<payload_hash>-2007899567</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ea8bbbdfdbcb2f00b86770c08c961911</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d2f00000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocols</table>
<target_name>GDS Tissue Protocols</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>3e408d9eba9e2f0073b019726a1aaf49</update_guid>
<update_guid_history>3e408d9eba9e2f0073b019726a1aaf49:-2007899567</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_user_role_af592ecadbdd270054d8ff621f9619d6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role"><sys_user_role action="INSERT_OR_UPDATE"><assignable_by/><can_delegate>true</can_delegate><description/><elevated_privilege>false</elevated_privilege><grantable>true</grantable><includes_roles/><name>u_ccr_gds_z_list_table_user</name><scoped_admin>false</scoped_admin><suffix/><sys_class_name>sys_user_role</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:22:28</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>af592ecadbdd270054d8ff621f9619d6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_ccr_gds_z_list_table_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_user_role_af592ecadbdd270054d8ff621f9619d6</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:22:28</sys_updated_on></sys_user_role></record_update>]]></payload>
<payload_hash>2017169783</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ea8bbbdfdbcb2f00b86770c08c961912</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a1851ffe0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>u_ccr_gds_z_list_table_user</target_name>
<type>Role</type>
<update_domain>global</update_domain>
<update_guid>6f592ecaacdd2700d11cd1771dafa7d9</update_guid>
<update_guid_history>6f592ecaacdd2700d11cd1771dafa7d9:2017169783</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_ccr_gds_z_list_table_u_title_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_title" label="Title" language="en" table="u_ccr_gds_z_list_table"><sys_documentation action="INSERT_OR_UPDATE"><element>u_title</element><help/><hint/><label>Title</label><language>en</language><name>u_ccr_gds_z_list_table</name><plural>Titles</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-10-23 15:24:05</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>17b9a6cedbdd270054d8ff621f961970</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Title</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_ccr_gds_z_list_table_u_title_en</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-10-23 15:24:05</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1822411175</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:45</sys_created_on>
<sys_id>ee8bbbdfdbcb2f00b86770c08c961907</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166a1869b4f0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:45</sys_updated_on>
<table>u_ccr_gds_z_list_table</table>
<target_name>CCR GDS Z List Table.Title</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>d3b9a6ced1dd27001ca7ef21f4b41a75</update_guid>
<update_guid_history>d3b9a6ced1dd27001ca7ef21f4b41a75:1822411175</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_parameters_50092b6adb6d234054d8ff621f96194b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn_parameters"><sys_rest_message_fn_parameters action="INSERT_OR_UPDATE"><name>id</name><rest_message_function display_value="getBranch">ff27f666dbe9234054d8ff621f961924</rest_message_function><sys_class_name>sys_rest_message_fn_parameters</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-11-06 19:33:26</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>50092b6adb6d234054d8ff621f96194b</sys_id><sys_mod_count>1</sys_mod_count><sys_name>id</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_parameters_50092b6adb6d234054d8ff621f96194b</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-11-06 19:34:40</sys_updated_on><type>string</type><value>123</value></sys_rest_message_fn_parameters></record_update>]]></payload>
<payload_hash>708596760</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ee8bbbdfdbcb2f00b86770c08c96190a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>166ea850e1c0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>id</target_name>
<type>Variable Substitutions</type>
<update_domain>global</update_domain>
<update_guid>ae59ab6af06d2340cf447502886a737d</update_guid>
<update_guid_history>ae59ab6af06d2340cf447502886a737d:708596760,a0192b6a6c6d234024f9fc7f42d8eee7:-168081302</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_beff749edb9e2f0054d8ff621f96195c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="DELETE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_gds_tissue_protocals</description><name>u_gds_tissue_protocals</name><operation display_value="create">create</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:23:17</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>beff749edb9e2f0054d8ff621f96195c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocals</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_beff749edb9e2f0054d8ff621f96195c</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:23:17</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-734779628</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ee8bbbdfdbcb2f00b86770c08c96190d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e016970000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table>u_gds_tissue_protocals</table>
<target_name>u_gds_tissue_protocals</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>8f10499ea79e2f00acb9326b7cb9d146</update_guid>
<update_guid_history>8f10499ea79e2f00acb9326b7cb9d146:-734779628,f6ff749e3e9e2f00f79b2bd1393d2662:-994167392</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_application_b6408d9edb9e2f0054d8ff621f961947</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_application"><sys_ui_application action="INSERT_OR_UPDATE"><active>true</active><hint/><name>GDS Tissue Protocols</name><order/><roles>u_gds_tissue_protocols_user</roles><sys_class_name>sys_ui_application</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:39</sys_created_on><sys_customer_update>false</sys_customer_update><sys_domain>global</sys_domain><sys_id>b6408d9edb9e2f0054d8ff621f961947</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GDS Tissue Protocols</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_application_b6408d9edb9e2f0054d8ff621f961947</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:39</sys_updated_on></sys_ui_application></record_update>]]></payload>
<payload_hash>-1524332925</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ee8bbbdfdbcb2f00b86770c08c961910</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d2da0000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>GDS Tissue Protocols</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>b2408d9e7e9e2f006fb64d69bcdc9248</update_guid>
<update_guid_history>b2408d9e7e9e2f006fb64d69bcdc9248:-1524332925</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>ua_table_licensing_config_8f408d9edb9e2f0054d8ff621f9619b9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="ua_table_licensing_config"><ua_table_licensing_config action="INSERT_OR_UPDATE"><is_fulfillment>false</is_fulfillment><license_condition/><license_model>none</license_model><license_roles/><name>u_gds_tissue_protocols</name><op_delete>true</op_delete><op_insert>true</op_insert><op_update>true</op_update><owner_condition/><sys_class_name>ua_table_licensing_config</sys_class_name><sys_created_by>zhoujim@nih.gov</sys_created_by><sys_created_on>2018-12-12 19:24:40</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>8f408d9edb9e2f0054d8ff621f9619b9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_gds_tissue_protocols</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="Global">global</sys_scope><sys_update_name>ua_table_licensing_config_8f408d9edb9e2f0054d8ff621f9619b9</sys_update_name><sys_updated_by>zhoujim@nih.gov</sys_updated_by><sys_updated_on>2018-12-12 19:24:40</sys_updated_on></ua_table_licensing_config></record_update>]]></payload>
<payload_hash>1670419666</payload_hash>
<remote_update_set display_value="CCR_GDS_Patch_3_20180803">d28b77dfdbcb2f00b86770c08c96196e</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>zhoujim@nih.gov</sys_created_by>
<sys_created_on>2019-01-22 18:23:46</sys_created_on>
<sys_id>ee8bbbdfdbcb2f00b86770c08c961914</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>167a3e0d5e70000001</sys_recorded_at>
<sys_updated_by>zhoujim@nih.gov</sys_updated_by>
<sys_updated_on>2019-01-22 18:23:46</sys_updated_on>
<table/>
<target_name>u_gds_tissue_protocols</target_name>
<type>Table Subscription Configuration</type>
<update_domain>global</update_domain>
<update_guid>8b408d9ed09e2f0094fed075b9f01aba</update_guid>
<update_guid_history>8b408d9ed09e2f0094fed075b9f01aba:1670419666</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
